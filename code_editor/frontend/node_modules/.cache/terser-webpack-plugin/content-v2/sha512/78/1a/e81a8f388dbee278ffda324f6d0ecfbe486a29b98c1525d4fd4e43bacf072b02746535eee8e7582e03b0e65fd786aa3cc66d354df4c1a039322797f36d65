{"code":"ace.define(\"ace/mode/csound_preprocessor_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"],(function(e,t,n){\"use strict\";var o=e(\"../lib/oop\"),r=e(\"./text_highlight_rules\").TextHighlightRules,s=function(e){this.embeddedRulePrefix=void 0===e?\"\":e,this.semicolonComments={token:\"comment.line.semicolon.csound\",regex:\";.*$\"},this.comments=[{token:\"punctuation.definition.comment.begin.csound\",regex:\"/\\\\*\",push:[{token:\"punctuation.definition.comment.end.csound\",regex:\"\\\\*/\",next:\"pop\"},{defaultToken:\"comment.block.csound\"}]},{token:\"comment.line.double-slash.csound\",regex:\"//.*$\"},this.semicolonComments],this.macroUses=[{token:[\"entity.name.function.preprocessor.csound\",\"punctuation.definition.macro-parameter-value-list.begin.csound\"],regex:/(\\$[A-Z_a-z]\\w*\\.?)(\\()/,next:\"macro parameter value list\"},{token:\"entity.name.function.preprocessor.csound\",regex:/\\$[A-Z_a-z]\\w*(?:\\.|\\b)/}],this.numbers=[{token:\"constant.numeric.float.csound\",regex:/(?:\\d+[Ee][+-]?\\d+)|(?:\\d+\\.\\d*|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?/},{token:[\"storage.type.number.csound\",\"constant.numeric.integer.hexadecimal.csound\"],regex:/(0[Xx])([0-9A-Fa-f]+)/},{token:\"constant.numeric.integer.decimal.csound\",regex:/\\d+/}],this.bracedStringContents=[{token:\"constant.character.escape.csound\",regex:/\\\\(?:[\\\\abnrt\"]|[0-7]{1,3})/},{token:\"constant.character.placeholder.csound\",regex:/%[#0\\- +]*\\d*(?:\\.\\d+)?[diuoxXfFeEgGaAcs]/},{token:\"constant.character.escape.csound\",regex:/%%/}],this.quotedStringContents=[this.macroUses,this.bracedStringContents];var t=[this.comments,{token:\"keyword.preprocessor.csound\",regex:/#(?:e(?:nd(?:if)?|lse)\\b|##)|@@?[ \\t]*\\d+/},{token:\"keyword.preprocessor.csound\",regex:/#include/,push:[this.comments,{token:\"string.csound\",regex:/([^ \\t])(?:.*?\\1)/,next:\"pop\"}]},{token:\"keyword.preprocessor.csound\",regex:/#includestr/,push:[this.comments,{token:\"string.csound\",regex:/([^ \\t])(?:.*?\\1)/,next:\"pop\"}]},{token:\"keyword.preprocessor.csound\",regex:/#[ \\t]*define/,next:\"define directive\"},{token:\"keyword.preprocessor.csound\",regex:/#(?:ifn?def|undef)\\b/,next:\"macro directive\"},this.macroUses];this.$rules={start:t,\"define directive\":[this.comments,{token:\"entity.name.function.preprocessor.csound\",regex:/[A-Z_a-z]\\w*/},{token:\"punctuation.definition.macro-parameter-name-list.begin.csound\",regex:/\\(/,next:\"macro parameter name list\"},{token:\"punctuation.definition.macro.begin.csound\",regex:/#/,next:\"macro body\"}],\"macro parameter name list\":[{token:\"variable.parameter.preprocessor.csound\",regex:/[A-Z_a-z]\\w*/},{token:\"punctuation.definition.macro-parameter-name-list.end.csound\",regex:/\\)/,next:\"define directive\"}],\"macro body\":[{token:\"constant.character.escape.csound\",regex:/\\\\#/},{token:\"punctuation.definition.macro.end.csound\",regex:/#/,next:\"start\"},t],\"macro directive\":[this.comments,{token:\"entity.name.function.preprocessor.csound\",regex:/[A-Z_a-z]\\w*/,next:\"start\"}],\"macro parameter value list\":[{token:\"punctuation.definition.macro-parameter-value-list.end.csound\",regex:/\\)/,next:\"start\"},{token:\"punctuation.definition.string.begin.csound\",regex:/\"/,next:\"macro parameter value quoted string\"},this.pushRule({token:\"punctuation.macro-parameter-value-parenthetical.begin.csound\",regex:/\\(/,next:\"macro parameter value parenthetical\"}),{token:\"punctuation.macro-parameter-value-separator.csound\",regex:\"[#']\"}],\"macro parameter value quoted string\":[{token:\"constant.character.escape.csound\",regex:/\\\\[#'()]/},{token:\"invalid.illegal.csound\",regex:/[#'()]/},{token:\"punctuation.definition.string.end.csound\",regex:/\"/,next:\"macro parameter value list\"},this.quotedStringContents,{defaultToken:\"string.quoted.csound\"}],\"macro parameter value parenthetical\":[{token:\"constant.character.escape.csound\",regex:/\\\\\\)/},this.popRule({token:\"punctuation.macro-parameter-value-parenthetical.end.csound\",regex:/\\)/}),this.pushRule({token:\"punctuation.macro-parameter-value-parenthetical.begin.csound\",regex:/\\(/,next:\"macro parameter value parenthetical\"}),t]}};o.inherits(s,r),function(){this.pushRule=function(e){if(Array.isArray(e.next))for(var t=0;t<e.next.length;t++)e.next[t]=this.embeddedRulePrefix+e.next[t];return{regex:e.regex,onMatch:function(t,n,o,r){if(0===o.length&&o.push(n),Array.isArray(e.next))for(var s=0;s<e.next.length;s++)o.push(e.next[s]);else o.push(e.next);return this.next=o[o.length-1],e.token},get next(){return Array.isArray(e.next)?e.next[e.next.length-1]:e.next},set next(t){Array.isArray(e.next)||(e.next=t)},get token(){return e.token}}},this.popRule=function(e){return e.next&&(e.next=this.embeddedRulePrefix+e.next),{regex:e.regex,onMatch:function(t,n,o,r){return o.pop(),e.next?(o.push(e.next),this.next=o[o.length-1]):this.next=o.length>1?o[o.length-1]:o.pop(),e.token}}}}.call(s.prototype),t.CsoundPreprocessorHighlightRules=s})),ace.define(\"ace/mode/csound_score_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/csound_preprocessor_highlight_rules\"],(function(e,t,n){\"use strict\";var o=e(\"../lib/oop\"),r=e(\"./csound_preprocessor_highlight_rules\").CsoundPreprocessorHighlightRules,s=function(e){r.call(this,e),this.quotedStringContents.push({token:\"invalid.illegal.csound-score\",regex:/[^\"]*$/});var t=this.$rules.start;t.push({token:\"keyword.control.csound-score\",regex:/[aBbCdefiqstvxy]/},{token:\"invalid.illegal.csound-score\",regex:/w/},{token:\"constant.numeric.language.csound-score\",regex:/z/},{token:[\"keyword.control.csound-score\",\"constant.numeric.integer.decimal.csound-score\"],regex:/([nNpP][pP])(\\d+)/},{token:\"keyword.other.csound-score\",regex:/[mn]/,push:[{token:\"empty\",regex:/$/,next:\"pop\"},this.comments,{token:\"entity.name.label.csound-score\",regex:/[A-Z_a-z]\\w*/}]},{token:\"keyword.preprocessor.csound-score\",regex:/r\\b/,next:\"repeat section\"},this.numbers,{token:\"keyword.operator.csound-score\",regex:\"[!+\\\\-*/^%&|<>#~.]\"},this.pushRule({token:\"punctuation.definition.string.begin.csound-score\",regex:/\"/,next:\"quoted string\"}),this.pushRule({token:\"punctuation.braced-loop.begin.csound-score\",regex:/{/,next:\"loop after left brace\"})),this.addRules({\"repeat section\":[{token:\"empty\",regex:/$/,next:\"start\"},this.comments,{token:\"constant.numeric.integer.decimal.csound-score\",regex:/\\d+/,next:\"repeat section before label\"}],\"repeat section before label\":[{token:\"empty\",regex:/$/,next:\"start\"},this.comments,{token:\"entity.name.label.csound-score\",regex:/[A-Z_a-z]\\w*/,next:\"start\"}],\"quoted string\":[this.popRule({token:\"punctuation.definition.string.end.csound-score\",regex:/\"/}),this.quotedStringContents,{defaultToken:\"string.quoted.csound-score\"}],\"loop after left brace\":[this.popRule({token:\"constant.numeric.integer.decimal.csound-score\",regex:/\\d+/,next:\"loop after repeat count\"}),this.comments,{token:\"invalid.illegal.csound\",regex:/\\S.*/}],\"loop after repeat count\":[this.popRule({token:\"entity.name.function.preprocessor.csound-score\",regex:/[A-Z_a-z]\\w*\\b/,next:\"loop after macro name\"}),this.comments,{token:\"invalid.illegal.csound\",regex:/\\S.*/}],\"loop after macro name\":[t,this.popRule({token:\"punctuation.braced-loop.end.csound-score\",regex:/}/})]}),this.normalizeRules()};o.inherits(s,r),t.CsoundScoreHighlightRules=s})),ace.define(\"ace/mode/csound_score\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/csound_score_highlight_rules\"],(function(e,t,n){\"use strict\";var o=e(\"../lib/oop\"),r=e(\"./text\").Mode,s=e(\"./csound_score_highlight_rules\").CsoundScoreHighlightRules,c=function(){this.HighlightRules=s};o.inherits(c,r),function(){this.lineCommentStart=\";\",this.blockComment={start:\"/*\",end:\"*/\"},this.$id=\"ace/mode/csound_score\"}.call(c.prototype),t.Mode=c})),ace.require([\"ace/mode/csound_score\"],(function(e){\"object\"==typeof module&&\"object\"==typeof exports&&module&&(module.exports=e)}));","name":"55101d02f2a2d0dcf94e4d2492903d1d.js","input":"ace.define(\"ace/mode/csound_preprocessor_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/text_highlight_rules\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n  var TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n  var CsoundPreprocessorHighlightRules = function (embeddedRulePrefix) {\n    this.embeddedRulePrefix = embeddedRulePrefix === undefined ? \"\" : embeddedRulePrefix;\n    this.semicolonComments = {\n      token: \"comment.line.semicolon.csound\",\n      regex: \";.*$\"\n    };\n    this.comments = [{\n      token: \"punctuation.definition.comment.begin.csound\",\n      regex: \"/\\\\*\",\n      push: [{\n        token: \"punctuation.definition.comment.end.csound\",\n        regex: \"\\\\*/\",\n        next: \"pop\"\n      }, {\n        defaultToken: \"comment.block.csound\"\n      }]\n    }, {\n      token: \"comment.line.double-slash.csound\",\n      regex: \"//.*$\"\n    }, this.semicolonComments];\n    this.macroUses = [{\n      token: [\"entity.name.function.preprocessor.csound\", \"punctuation.definition.macro-parameter-value-list.begin.csound\"],\n      regex: /(\\$[A-Z_a-z]\\w*\\.?)(\\()/,\n      next: \"macro parameter value list\"\n    }, {\n      token: \"entity.name.function.preprocessor.csound\",\n      regex: /\\$[A-Z_a-z]\\w*(?:\\.|\\b)/\n    }];\n    this.numbers = [{\n      token: \"constant.numeric.float.csound\",\n      regex: /(?:\\d+[Ee][+-]?\\d+)|(?:\\d+\\.\\d*|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?/\n    }, {\n      token: [\"storage.type.number.csound\", \"constant.numeric.integer.hexadecimal.csound\"],\n      regex: /(0[Xx])([0-9A-Fa-f]+)/\n    }, {\n      token: \"constant.numeric.integer.decimal.csound\",\n      regex: /\\d+/\n    }];\n    this.bracedStringContents = [{\n      token: \"constant.character.escape.csound\",\n      regex: /\\\\(?:[\\\\abnrt\"]|[0-7]{1,3})/\n    }, {\n      token: \"constant.character.placeholder.csound\",\n      regex: /%[#0\\- +]*\\d*(?:\\.\\d+)?[diuoxXfFeEgGaAcs]/\n    }, {\n      token: \"constant.character.escape.csound\",\n      regex: /%%/\n    }];\n    this.quotedStringContents = [this.macroUses, this.bracedStringContents];\n    var start = [this.comments, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#(?:e(?:nd(?:if)?|lse)\\b|##)|@@?[ \\t]*\\d+/\n    }, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#include/,\n      push: [this.comments, {\n        token: \"string.csound\",\n        regex: /([^ \\t])(?:.*?\\1)/,\n        next: \"pop\"\n      }]\n    }, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#includestr/,\n      push: [this.comments, {\n        token: \"string.csound\",\n        regex: /([^ \\t])(?:.*?\\1)/,\n        next: \"pop\"\n      }]\n    }, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#[ \\t]*define/,\n      next: \"define directive\"\n    }, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#(?:ifn?def|undef)\\b/,\n      next: \"macro directive\"\n    }, this.macroUses];\n    this.$rules = {\n      \"start\": start,\n      \"define directive\": [this.comments, {\n        token: \"entity.name.function.preprocessor.csound\",\n        regex: /[A-Z_a-z]\\w*/\n      }, {\n        token: \"punctuation.definition.macro-parameter-name-list.begin.csound\",\n        regex: /\\(/,\n        next: \"macro parameter name list\"\n      }, {\n        token: \"punctuation.definition.macro.begin.csound\",\n        regex: /#/,\n        next: \"macro body\"\n      }],\n      \"macro parameter name list\": [{\n        token: \"variable.parameter.preprocessor.csound\",\n        regex: /[A-Z_a-z]\\w*/\n      }, {\n        token: \"punctuation.definition.macro-parameter-name-list.end.csound\",\n        regex: /\\)/,\n        next: \"define directive\"\n      }],\n      \"macro body\": [{\n        token: \"constant.character.escape.csound\",\n        regex: /\\\\#/\n      }, {\n        token: \"punctuation.definition.macro.end.csound\",\n        regex: /#/,\n        next: \"start\"\n      }, start],\n      \"macro directive\": [this.comments, {\n        token: \"entity.name.function.preprocessor.csound\",\n        regex: /[A-Z_a-z]\\w*/,\n        next: \"start\"\n      }],\n      \"macro parameter value list\": [{\n        token: \"punctuation.definition.macro-parameter-value-list.end.csound\",\n        regex: /\\)/,\n        next: \"start\"\n      }, {\n        token: \"punctuation.definition.string.begin.csound\",\n        regex: /\"/,\n        next: \"macro parameter value quoted string\"\n      }, this.pushRule({\n        token: \"punctuation.macro-parameter-value-parenthetical.begin.csound\",\n        regex: /\\(/,\n        next: \"macro parameter value parenthetical\"\n      }), {\n        token: \"punctuation.macro-parameter-value-separator.csound\",\n        regex: \"[#']\"\n      }],\n      \"macro parameter value quoted string\": [{\n        token: \"constant.character.escape.csound\",\n        regex: /\\\\[#'()]/\n      }, {\n        token: \"invalid.illegal.csound\",\n        regex: /[#'()]/\n      }, {\n        token: \"punctuation.definition.string.end.csound\",\n        regex: /\"/,\n        next: \"macro parameter value list\"\n      }, this.quotedStringContents, {\n        defaultToken: \"string.quoted.csound\"\n      }],\n      \"macro parameter value parenthetical\": [{\n        token: \"constant.character.escape.csound\",\n        regex: /\\\\\\)/\n      }, this.popRule({\n        token: \"punctuation.macro-parameter-value-parenthetical.end.csound\",\n        regex: /\\)/\n      }), this.pushRule({\n        token: \"punctuation.macro-parameter-value-parenthetical.begin.csound\",\n        regex: /\\(/,\n        next: \"macro parameter value parenthetical\"\n      }), start]\n    };\n  };\n  oop.inherits(CsoundPreprocessorHighlightRules, TextHighlightRules);\n  (function () {\n    this.pushRule = function (params) {\n      if (Array.isArray(params.next)) {\n        for (var i = 0; i < params.next.length; i++) {\n          params.next[i] = this.embeddedRulePrefix + params.next[i];\n        }\n      }\n      return {\n        regex: params.regex,\n        onMatch: function (value, currentState, stack, line) {\n          if (stack.length === 0) stack.push(currentState);\n          if (Array.isArray(params.next)) {\n            for (var i = 0; i < params.next.length; i++) {\n              stack.push(params.next[i]);\n            }\n          } else {\n            stack.push(params.next);\n          }\n          this.next = stack[stack.length - 1];\n          return params.token;\n        },\n        get next() {\n          return Array.isArray(params.next) ? params.next[params.next.length - 1] : params.next;\n        },\n        set next(next) {\n          if (!Array.isArray(params.next)) {\n            params.next = next;\n          }\n        },\n        get token() {\n          return params.token;\n        }\n      };\n    };\n    this.popRule = function (params) {\n      if (params.next) {\n        params.next = this.embeddedRulePrefix + params.next;\n      }\n      return {\n        regex: params.regex,\n        onMatch: function (value, currentState, stack, line) {\n          stack.pop();\n          if (params.next) {\n            stack.push(params.next);\n            this.next = stack[stack.length - 1];\n          } else {\n            this.next = stack.length > 1 ? stack[stack.length - 1] : stack.pop();\n          }\n          return params.token;\n        }\n      };\n    };\n  }).call(CsoundPreprocessorHighlightRules.prototype);\n  exports.CsoundPreprocessorHighlightRules = CsoundPreprocessorHighlightRules;\n});\nace.define(\"ace/mode/csound_score_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/csound_preprocessor_highlight_rules\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n  var CsoundPreprocessorHighlightRules = require(\"./csound_preprocessor_highlight_rules\").CsoundPreprocessorHighlightRules;\n  var CsoundScoreHighlightRules = function (embeddedRulePrefix) {\n    CsoundPreprocessorHighlightRules.call(this, embeddedRulePrefix);\n    this.quotedStringContents.push({\n      token: \"invalid.illegal.csound-score\",\n      regex: /[^\"]*$/\n    });\n    var start = this.$rules.start;\n    start.push({\n      token: \"keyword.control.csound-score\",\n      regex: /[aBbCdefiqstvxy]/\n    }, {\n      token: \"invalid.illegal.csound-score\",\n      regex: /w/\n    }, {\n      token: \"constant.numeric.language.csound-score\",\n      regex: /z/\n    }, {\n      token: [\"keyword.control.csound-score\", \"constant.numeric.integer.decimal.csound-score\"],\n      regex: /([nNpP][pP])(\\d+)/\n    }, {\n      token: \"keyword.other.csound-score\",\n      regex: /[mn]/,\n      push: [{\n        token: \"empty\",\n        regex: /$/,\n        next: \"pop\"\n      }, this.comments, {\n        token: \"entity.name.label.csound-score\",\n        regex: /[A-Z_a-z]\\w*/\n      }]\n    }, {\n      token: \"keyword.preprocessor.csound-score\",\n      regex: /r\\b/,\n      next: \"repeat section\"\n    }, this.numbers, {\n      token: \"keyword.operator.csound-score\",\n      regex: \"[!+\\\\-*/^%&|<>#~.]\"\n    }, this.pushRule({\n      token: \"punctuation.definition.string.begin.csound-score\",\n      regex: /\"/,\n      next: \"quoted string\"\n    }), this.pushRule({\n      token: \"punctuation.braced-loop.begin.csound-score\",\n      regex: /{/,\n      next: \"loop after left brace\"\n    }));\n    this.addRules({\n      \"repeat section\": [{\n        token: \"empty\",\n        regex: /$/,\n        next: \"start\"\n      }, this.comments, {\n        token: \"constant.numeric.integer.decimal.csound-score\",\n        regex: /\\d+/,\n        next: \"repeat section before label\"\n      }],\n      \"repeat section before label\": [{\n        token: \"empty\",\n        regex: /$/,\n        next: \"start\"\n      }, this.comments, {\n        token: \"entity.name.label.csound-score\",\n        regex: /[A-Z_a-z]\\w*/,\n        next: \"start\"\n      }],\n      \"quoted string\": [this.popRule({\n        token: \"punctuation.definition.string.end.csound-score\",\n        regex: /\"/\n      }), this.quotedStringContents, {\n        defaultToken: \"string.quoted.csound-score\"\n      }],\n      \"loop after left brace\": [this.popRule({\n        token: \"constant.numeric.integer.decimal.csound-score\",\n        regex: /\\d+/,\n        next: \"loop after repeat count\"\n      }), this.comments, {\n        token: \"invalid.illegal.csound\",\n        regex: /\\S.*/\n      }],\n      \"loop after repeat count\": [this.popRule({\n        token: \"entity.name.function.preprocessor.csound-score\",\n        regex: /[A-Z_a-z]\\w*\\b/,\n        next: \"loop after macro name\"\n      }), this.comments, {\n        token: \"invalid.illegal.csound\",\n        regex: /\\S.*/\n      }],\n      \"loop after macro name\": [start, this.popRule({\n        token: \"punctuation.braced-loop.end.csound-score\",\n        regex: /}/\n      })]\n    });\n    this.normalizeRules();\n  };\n  oop.inherits(CsoundScoreHighlightRules, CsoundPreprocessorHighlightRules);\n  exports.CsoundScoreHighlightRules = CsoundScoreHighlightRules;\n});\nace.define(\"ace/mode/csound_score\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/text\", \"ace/mode/csound_score_highlight_rules\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n  var TextMode = require(\"./text\").Mode;\n  var CsoundScoreHighlightRules = require(\"./csound_score_highlight_rules\").CsoundScoreHighlightRules;\n  var Mode = function () {\n    this.HighlightRules = CsoundScoreHighlightRules;\n  };\n  oop.inherits(Mode, TextMode);\n  (function () {\n    this.lineCommentStart = \";\";\n    this.blockComment = {\n      start: \"/*\",\n      end: \"*/\"\n    };\n    this.$id = \"ace/mode/csound_score\";\n  }).call(Mode.prototype);\n  exports.Mode = Mode;\n});\n(function () {\n  ace.require([\"ace/mode/csound_score\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();"}