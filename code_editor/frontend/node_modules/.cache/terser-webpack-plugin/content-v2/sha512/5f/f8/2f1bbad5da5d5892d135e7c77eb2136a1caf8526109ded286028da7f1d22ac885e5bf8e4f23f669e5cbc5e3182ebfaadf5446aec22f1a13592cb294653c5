{"code":"ace.define(\"ace/ext/spellcheck\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/editor\",\"ace/config\"],(function(e,t,n){\"use strict\";var i=e(\"../lib/event\");t.contextMenuHandler=function(e){var t=e.target,n=t.textInput.getElement();if(t.selection.isEmpty()){var o=t.getCursorPosition(),s=t.session.getWordRange(o.row,o.column),r=t.session.getTextRange(s);if(t.session.tokenRe.lastIndex=0,t.session.tokenRe.test(r)){var c=r+\" \\x01\\x01\";n.value=c,n.setSelectionRange(r.length,r.length+1),n.setSelectionRange(0,0),n.setSelectionRange(0,r.length);var l=!1;i.addListener(n,\"keydown\",(function e(){i.removeListener(n,\"keydown\",e),l=!0})),t.textInput.setInputHandler((function(e){if(e==c)return\"\";if(0===e.lastIndexOf(c,0))return e.slice(c.length);if(e.substr(n.selectionEnd)==c)return e.slice(0,-c.length);if(\"\\x01\\x01\"==e.slice(-2)){var i=e.slice(0,-2);if(\" \"==i.slice(-1))return l?i.substring(0,n.selectionEnd):(i=i.slice(0,-1),t.session.replace(s,i),\"\")}return e}))}}};var o=e(\"../editor\").Editor;e(\"../config\").defineOptions(o.prototype,\"editor\",{spellcheck:{set:function(e){this.textInput.getElement().spellcheck=!!e,e?this.on(\"nativecontextmenu\",t.contextMenuHandler):this.removeListener(\"nativecontextmenu\",t.contextMenuHandler)},value:!0}})})),ace.require([\"ace/ext/spellcheck\"],(function(e){\"object\"==typeof module&&\"object\"==typeof exports&&module&&(module.exports=e)}));","name":"f780f45157500681d899e95cd0d8b1f1.js","input":"ace.define(\"ace/ext/spellcheck\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/editor\", \"ace/config\"], function (require, exports, module) {\n  \"use strict\";\n\n  var event = require(\"../lib/event\");\n  exports.contextMenuHandler = function (e) {\n    var host = e.target;\n    var text = host.textInput.getElement();\n    if (!host.selection.isEmpty()) return;\n    var c = host.getCursorPosition();\n    var r = host.session.getWordRange(c.row, c.column);\n    var w = host.session.getTextRange(r);\n    host.session.tokenRe.lastIndex = 0;\n    if (!host.session.tokenRe.test(w)) return;\n    var PLACEHOLDER = \"\\x01\\x01\";\n    var value = w + \" \" + PLACEHOLDER;\n    text.value = value;\n    text.setSelectionRange(w.length, w.length + 1);\n    text.setSelectionRange(0, 0);\n    text.setSelectionRange(0, w.length);\n    var afterKeydown = false;\n    event.addListener(text, \"keydown\", function onKeydown() {\n      event.removeListener(text, \"keydown\", onKeydown);\n      afterKeydown = true;\n    });\n    host.textInput.setInputHandler(function (newVal) {\n      if (newVal == value) return '';\n      if (newVal.lastIndexOf(value, 0) === 0) return newVal.slice(value.length);\n      if (newVal.substr(text.selectionEnd) == value) return newVal.slice(0, -value.length);\n      if (newVal.slice(-2) == PLACEHOLDER) {\n        var val = newVal.slice(0, -2);\n        if (val.slice(-1) == \" \") {\n          if (afterKeydown) return val.substring(0, text.selectionEnd);\n          val = val.slice(0, -1);\n          host.session.replace(r, val);\n          return \"\";\n        }\n      }\n      return newVal;\n    });\n  };\n  var Editor = require(\"../editor\").Editor;\n  require(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    spellcheck: {\n      set: function (val) {\n        var text = this.textInput.getElement();\n        text.spellcheck = !!val;\n        if (!val) this.removeListener(\"nativecontextmenu\", exports.contextMenuHandler);else this.on(\"nativecontextmenu\", exports.contextMenuHandler);\n      },\n      value: true\n    }\n  });\n});\n(function () {\n  ace.require([\"ace/ext/spellcheck\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();"}