{"code":"(this[\"webpackJsonpstreamlit-code-editor\"]=this[\"webpackJsonpstreamlit-code-editor\"]||[]).push([[0],{518:function(e,t,n){\"use strict\";n.r(t);var o=n(0),s=n.n(o),r=n(23),a=n.n(r),i=n(24),c=n(4),m=n(6),l=n(520),d=n(3),u=n.n(d),p=n(25),g=n.n(p),y=(n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(514),n(2));const b=e=>{let{lang:t,theme:n,shortcuts:s,props:r,snippetString:a,commands:i,completions:c,ghostText:m,keybindingString:l,editorRef:d,code:p,replaceCompleter:b,onChange:h,onSelectionChange:f,onBlur:S}=e,x=Object(o.useRef)(i);return Object(o.useEffect)((()=>{if(d.current){u.a.require(\"ace/autocomplete\").Autocomplete.for(d.current.editor);const e=JSON.parse(l);e.commands&&e.commands.length>0&&e.commands.forEach((e=>{var t;if(e.name&&\"string\"===typeof e.name&&JSON.stringify(null!==(t=d.current.editor.commands.commands[e.name].bindKey)&&void 0!==t?t:\"\")!==JSON.stringify(e.bindkey)){const t={...d.current.editor.commands.commands[e.name]};t.bindKey=e.bindkey,d.current.editor.commands.addCommand(t),x.current=[...x.current,t]}})),e.completer&&e.completer.length>0&&e.completer.forEach((e=>{var t;if(e.name&&\"string\"===typeof e.name&&JSON.stringify(null!==(t=d.current.editor.completer.keyboardHandler.commands[e.name].bindKey)&&void 0!==t?t:\"\")!==JSON.stringify(e.bindkey)){const t={...d.current.editor.completer.keyboardHandler.commands[e.name]};t.bindKey=e.bindkey,d.current.editor.completer.keyboardHandler.addCommand(t)}})),u.a.require(\"ace/ext/keybinding_menu\").init(d.current.editor);const t=u.a.require(\"ace/snippets\").snippetManager,n=JSON.parse(a);for(const[o,s]of Object.entries(n))s[0]&&t.register(t.parseSnippetFile(s[0],o),o),s[1]&&t.unregister(t.parseSnippetFile(s[1],o),o);if(c.length>0){const e={getCompletions:(e,t,n,o,s)=>{s(null,c)}};b&&d.current.editor.completers.pop(),u.a.require(\"ace/ext/language_tools\").addCompleter(e)}}}),[a,l]),Object(o.useEffect)((()=>{if(d.current&&\"\"!==m){const e=new(0,u.a.require(\"ace/autocomplete/inline\").AceInline),t={snippet:m};!e.show(d.current.editor,t,\"\")&&e.hide()&&console.log(\"failed to show ghost text\")}}),[m,d]),Object(y.jsx)(g.a,{ref:d,name:\"REACT_ACE_EDITOR\",mode:t,theme:n,value:p,keyboardHandler:s,commands:x.current,onChange:h,onSelectionChange:f,onBlur:S,...r})};var h=n(29);const f=c.c.div.withConfig({displayName:\"button-menu__StyledDiv\",componentId:\"sc-rz5v7a-0\"})([\"\"]);var S=Object(c.c)(f).withConfig({displayName:\"button-menu___StyledStyledDiv2\",componentId:\"sc-rz5v7a-1\"})([\"\",\"\"],(e=>e.$_css2)),x=Object(c.c)(f).withConfig({displayName:\"button-menu___StyledStyledDiv\",componentId:\"sc-rz5v7a-2\"})([\"\",\"\"],(e=>e.$_css));const O=c.c.span.withConfig({displayName:\"button-menu__StyledRegSpan\",componentId:\"sc-rz5v7a-3\"})([\"\"]),v=c.c.span.withConfig({displayName:\"button-menu__StyledSpan\",componentId:\"sc-rz5v7a-4\"})([\"height:2.5rem;line-height:2.5rem;margin:0px 0.4rem 0.15rem 0.4rem;opacity:0;transform:scale(0);transition:opacity 300ms 150ms,transform 300ms 150ms;\"]),j=c.c.button.withConfig({displayName:\"button-menu__StyledButton\",componentId:\"sc-rz5v7a-5\"})([\"border:none;border-radius:5px;background:none;height:2.5rem;line-height:0;display:flex;align-items:center;justify-content:center;opacity:0;position:absolute;transform:scale(0);transition:opacity 20ms 300ms,transform 20ms 300ms;z-index:9994;:focus{outline:none;}span{color:\",\";transform:scale(0);transform-origin:right;transition:opacity 300ms 150ms,transform 300ms 150ms;}:hover span{color:\",\";opacity:1;transform:scale(1);}svg{stroke:\",\";transform:scale(0);transition:opacity 300ms 150ms,transform 300ms 150ms;}:hover svg{stroke:\",\";}\"],(e=>\"streamlit_dark\"===e.themeProp?\"rgba(250,250,250,0.6)\":\"rgba(0,0,0,0.5)\"),(e=>e.primary?e.theme.primaryColor:\"streamlit_dark\"===e.themeProp?\"rgb(250,250,250)\":\"rgb(49, 51, 63)\"),(e=>\"streamlit_dark\"===e.themeProp?\"rgba(250,250,250,0.6)\":\"rgba(0,0,0,0.5)\"),(e=>e.primary?e.theme.primaryColor:\"streamlit_dark\"===e.themeProp?\"rgb(250,250,250)\":\"rgb(49, 51, 63)\")),C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;const n=h[e];return Object(y.jsx)(n,{size:\"\".concat(t)})},_=e=>{let{info:t,theme:n,infoRef:o}=e;return Object(y.jsx)(c.a,{theme:n,children:0===Object.keys(t).length?\"\":Object(y.jsxs)(x,{className:\"custom_info_bar \"+(t.name?t.name:\"\"),style:t.style,$_css:t.css,children:[Object(y.jsx)(O,{ref:o,className:\"code_editor-info message\"},\"code_editor_info_message\"),(t.info||[]).map((e=>Object(y.jsx)(O,{className:e.class,style:e.style,children:e.name},\"info_\"+e.name)))]},\"info_bar\")})},w=e=>{let{button:t,theme:n,themeProp:s,executeAll:r}=e;const[a,i]=Object(o.useState)(!1),c=Object(o.useRef)(null);return Object(y.jsxs)(j,{ref:c,primary:!!t.primary&&t.primary,className:(t.class?t.class:\"\")+(t.alwaysOn?\" always-on\":\"\")+(t.showWithIcon?\" with-icon\":\"\"),themeProp:s,style:t.style,theme:n,onClick:()=>{var e,n,o;return n=null!==(e=t.commands)&&void 0!==e?e:[],o=t.toggledCommands,void(t.classToggle?(i(!a),c.current?(c.current.classList.toggle(t.classToggle),c.current.classList.contains(t.classToggle)?r(c,n):r(c,null!==o&&void 0!==o?o:n)):r(c,a&&null!==o&&void 0!==o?o:n)):r(c,n))},children:[t.hasText&&t.name?Object(y.jsx)(v,{children:t.name}):\"\",t.feather?C(t.feather||\"X\",t.iconSize):\"\"]})},k=e=>{let{buttonGroup:t,executeAll:n,theme:o,themeProp:s}=e;return Object(y.jsx)(c.a,{theme:o,children:t.buttons.map((e=>Object(y.jsx)(w,{button:e,themeProp:s,theme:o,executeAll:(e,t)=>((e,t)=>{t&&n(t)})(0,t)},t.name+\"_\"+e.name)))})},E=e=>{let{menu:t,executeAll:n,theme:o,themeProp:s}=e;return Object(y.jsx)(c.a,{theme:o,children:0===Object.keys(t).length?\"\":Object(y.jsx)(S,{className:\"custom_menu\",style:t.style,$_css2:t.css,children:t.groups?t.groups.map(((e,t)=>Object(y.jsx)(f,{className:\"menu_group \"+e.name,style:e.style,\"data-one-toggle-only\":e.toggleOnlyOne,children:e.buttons.map((t=>Object(y.jsx)(w,{button:t,themeProp:s,theme:o,executeAll:(e,t)=>((e,t)=>{t&&n(t)})(0,t)},e.name+\"_\"+t.name)))},\"group_\"+e.name+t))):\"\"},\"menu_bar\")})};var A;const N={fontFamily:'\"Source Code Pro\", monospace',cursorStyle:\"smooth\",displayIndentGuides:!1,wrap:!1,highlightActiveLine:!0,showPrintMargin:!1,showLineNumbers:!1,foldStyle:\"markbegin\",autoScrollEditorIntoView:!1,animatedScroll:!0,fadeFoldWidgets:!0},T={editorProps:{$blockScrolling:!0}},I={cursorStart:1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!0,enableSnippets:!0,focus:!1,fontSize:14,highlightActiveLine:!0,navigateToFileEnd:!0,placeholder:null,readOnly:!1,scrollMargin:[15,15,0,0],setOptions:N,showGutter:!0,showPrintMargin:!1,style:{},tabSize:4,width:\"auto\",debounceChangePeriod:250},P=Object(c.b)(A||(A=Object(i.a)([\"\\n  html {\\n    opacity: \",\";\\n    cursor: \",\";\\n    pointer-events: \",\";\\n  }\\n  \",\"\\n\"])),(e=>e.isDisabled?\"0.5\":\"1\"),(e=>e.isDisabled?\"not-allowed\":\"auto\"),(e=>e.isDisabled?\"none\":\"auto\"),(e=>e.inject)),K=c.c.div.withConfig({displayName:\"CodeEditor__StyledCodeEditor\",componentId:\"sc-wmif04-0\"})([\"width:100%;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;:hover button{opacity:1;transform:scale(1);}button.always-on{opacity:1;transform:scale(1);transition:none;}:hover button svg{opacity:1;transform:scale(1);}:hover button.with-icon span{opacity:1;transform:scale(1);}button.always-on > span{opacity:1;transform:scale(1);transition:none;}button.always-on > svg{opacity:1;transform:scale(1);transition:none;}\"]);var J=Object(c.c)(K).withConfig({displayName:\"CodeEditor___StyledStyledCodeEditor\",componentId:\"sc-wmif04-1\"})([\"\",\"\"],(e=>e.$_css));var L=Object(m.b)((e=>{var t;let{args:n,width:s,disabled:r,theme:a}=e;const[i,c]=Object(o.useState)(n.code),d=Object(o.useRef)(null),p=Object(o.useRef)(null),g=Object(o.useRef)(null),h=Object(o.useRef)(!1),f=Object(o.useRef)(!1);var S;const x=e=>\"string\"===typeof e?e:(Array.isArray(e)?e:[e]).map((e=>{let{name:t,code:n}=e;return[\"snippet \"+t,n.split(\"\\n\").map((e=>\"\\t\"+e)).join(\"\\n\")].join(\"\\n\")})).join(\"\\n\"),[O,v]=Object(o.useState)({[n.lang]:[x(n.snippets[0]),x(n.snippets[1])]}),[j,C]=Object(o.useState)(n.keybindings);Object(o.useEffect)((()=>()=>{S&&clearTimeout(S)}),[]),Object(o.useEffect)((()=>{d.current&&h.current&&(d.current.editor.focus(),h.current=!1)}),[h.current]),Object(o.useEffect)((()=>{d.current&&n.focus&&d.current.editor.focus()}),[n.focus]);const w=e=>{c(e);if((\"string\"===typeof n.response_mode?[n.response_mode]:n.response_mode).includes(\"debounce\")&&d.current&&d.current.editor){const t=d.current.editor,n=t.getSession().$modeId.split(\"/\").pop();m.a.setComponentValue({id:Object(l.a)().slice(0,8),type:\"change\",lang:n,text:e,selected:t.getSelectedText(),cursor:t.getCursorPosition()})}},A=e=>{if((\"string\"===typeof n.response_mode?[n.response_mode]:n.response_mode).includes(\"select\")&&d.current&&d.current.editor){const e=d.current.editor,t=e.getSession().$modeId.split(\"/\").pop();m.a.setComponentValue({id:Object(l.a)().slice(0,8),type:\"selection\",lang:t,text:i,selected:e.getSelectedText(),cursor:e.getCursorPosition()})}},K=(e,t)=>{if((\"string\"===typeof n.response_mode?[n.response_mode]:n.response_mode).includes(\"blur\")&&t){const e=t.getSession().$modeId.split(\"/\").pop();c(t.getValue()),m.a.setComponentValue({id:Object(l.a)().slice(0,8),type:\"blur\",lang:e,text:t.getValue(),selected:t.getSelectedText(),cursor:t.getCursorPosition()})}},L={commands:[{name:\"submit\",description:\"Send 'submit' response\",bindKey:{win:\"Ctrl-Enter\",mac:\"Command-Enter\"},exec:e=>{const t=e.getSession().$modeId.split(\"/\").pop();m.a.setComponentValue({id:Object(l.a)().slice(0,8),type:\"submit\",lang:t,text:e.getValue(),selected:e.getSelectedText(),cursor:e.getCursorPosition()})}},{name:\"saveState\",description:\"Save state\",bindKey:{win:\"Ctrl-Alt-S\",mac:\"Command-Alt-S\"},exec:e=>{c(e.getValue())}},{name:\"copyAll\",description:\"Copy all text to clipboard\",exec:e=>{M(e.getValue())}},{name:\"reset\",exec:()=>{$()}},{name:\"keepFocus\",description:\"Return cursor to editor\",exec:()=>{h.current=!0}},{name:\"setMode\",description:\"Set language mode\",exec:(e,t)=>{t&&\"string\"===typeof t&&e.getSession().setMode(\"ace/mode/\"+t)},readOnly:!0},{name:\"changeShortcuts\",description:\"Switch shortcuts\",exec:(e,t)=>{if(t&&\"string\"===typeof t)e.setKeyboardHandler(\"ace/keyboard/\"+t);else{const t=[\"ace/keyboard/vim\",\"ace/keyboard/emacs\",\"ace/keyboard/sublime\",\"ace/keyboard/vscode\"],n=t[(t.indexOf(e.$keybindingId)+1)%4];e.setKeyboardHandler(n)}},readOnly:!0},{name:\"toggleKeyboardShortcuts\",exec:e=>{document.getElementById(\"kbshortcutmenu\")?e.execCommand(\"simulateKeyPress\",{type:\"keydown\",keyCode:27}):e.execCommand(\"showKeyboardShortcuts\")}},{name:\"simulateKeyPress\",exec:(e,t)=>{t.key?document.dispatchEvent(new KeyboardEvent(t.type,{key:t.key})):t.keyCode&&document.dispatchEvent(new KeyboardEvent(t.type,{keyCode:t.keyCode}))}},{name:\"infoMessage\",description:\"Display message in info bar\",exec:(e,t)=>{if(t.targetQueryString){const e=document.querySelector(t.targetQueryString);e&&(e.innerText=t.text,e.classList.add(t.classToggle||\"\"),t.timeout&&(S=setTimeout((()=>{e.classList.remove(t.classToggle||\"\")}),t.timeout)))}else p.current&&(p.current.innerText=t.text,p.current.classList.add(t.classToggle||\"\"),t.timeout&&(S=setTimeout((()=>{var e;null===(e=p.current)||void 0===e||e.classList.remove(t.classToggle||\"\")}),t.timeout)))}},{name:\"response\",description:\"Send custom response\",exec:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";const n=e.getSession().$modeId.split(\"/\").pop();m.a.setComponentValue({id:Object(l.a)().slice(0,8),type:t,lang:n,text:e.getValue(),selected:e.getSelectedText(),cursor:e.getCursorPosition()})}},{name:\"returnSelection\",description:\"Send selected text to Streamlit\",exec:e=>{const t=e.getSession().$modeId.split(\"/\").pop();m.a.setComponentValue({id:Object(l.a)().slice(0,8),type:\"selection\",lang:t,text:e.getSelectedText(),cursor:e.getCursorPosition()})}},{name:\"appendGhostText\",description:\"Add ghost test to end of line\",bindKey:{win:\"Ctrl-/\",mac:\"Command-Alt-N\"},exec:e=>{const t=n.ghost_text;if(t){const n=e.getCursorPosition(),o=e.session.getLine(n.row);e.session.replace({start:{row:n.row,column:o.length},end:{row:n.row,column:o.length}},t)}}},{name:\"editSnippets\",description:\"Edit snippets\",bindKey:{win:\"Ctrl-Alt-N\",mac:\"Command-Alt-N\"},exec:e=>{const t=u.a.require(\"ace/snippets\").snippetManager;if(g.current){const t=e.getSession().$modeId.split(\"/\").pop();if(\"snippets\"===t){const t=e.getSession().getValue();e.setSession(g.current),g.current=null,c(e.getSession().getValue());try{const n=t.split(\"###~~~\")[1],[o,s]=n.split(\"###---\"),r=o.split(\"###+++\")[1],a=s,i=e.getSession().$modeId.split(\"/\").pop();v({[i]:[O[i][0]+r,O[i][1]+a]})}catch(o){e.execCommand(\"infoMessage\",{text:\"error parsing file, restoring original file\",timeout:2e3,classToggle:\"show\"})}}}else{const o=e.getSession().$modeId.split(\"/\").pop(),s=\"\\n###~~~#(DO NOT EDIT THIS LINE)\\n# Commented out above are all the snippets that are currently\\n# registered for \".concat(n.lang,\" mode.\\n\\n\\n###+++#(DO NOT EDIT THIS LINE) \\n# Put the snippets you want to add below this line.\\n\\n\\n\\n\\n\\n\\n\\n###---#(DO NOT EDIT THIS LINE) \\n# Put the snippets you want to remove below this line.\\n\\n\\n\\n\\n\\n\\n\"),r=\"#\"+x(t.snippetMap[o].map((e=>({name:e.name,code:e.content})))).replace(/\\n/g,\"\\n#\")+s,a=(r.match(/\\n/g)||[]).length;g.current=e.getSession();const i=u.a.createEditSession(r,\"ace/mode/snippets\");e.setSession(i);const c={row:a-15>0?a-15:0,column:0};e.moveCursorTo(c.row,c.column),e.renderer.scrollCursorIntoView(c,.5)}}},{name:\"editKeyBindings\",description:\"Edit keybindings\",bindKey:{win:\"Ctrl-Alt-B\",mac:\"Command-Alt-B\"},exec:e=>{if(u.a.require(\"ace/autocomplete\").Autocomplete.for(e),g.current){if(\"json\"===e.getSession().$modeId.split(\"/\").pop()){const n=e.getSession().getValue();e.setSession(g.current),g.current=null,c(e.getSession().getValue());try{C(JSON.parse(n))}catch(t){e.execCommand(\"infoMessage\",{text:\"error parsing file, restoring original file\",timeout:2e3,classToggle:\"show\"})}}}else{const t={commands:{},completer:{}};e.completer&&e.completer.keyboardHandler.commands&&(t.completer=Object.keys(e.completer.keyboardHandler.commands).map((t=>{var n;return{bindkey:null!==(n=e.completer.keyboardHandler.commands[t].bindKey)&&void 0!==n?n:\"\",name:e.completer.keyboardHandler.commands[t].name}}))),e.commands.commands&&(t.commands=Object.keys(e.commands.commands).map((t=>{var n;return{bindkey:null!==(n=e.commands.commands[t].bindKey)&&void 0!==n?n:\"\",name:e.commands.commands[t].name}})));const n=JSON.stringify(t,void 0,2);g.current=e.getSession();const o=u.a.createEditSession(n,\"ace/mode/json\");e.setSession(o)}}},{name:\"exitSession\",bindKey:{win:\"Esc\",mac:\"Esc\"},description:\"Return to main session (keep changes)\",exec:e=>{if(g.current){const t=e.getSession().$modeId.split(\"/\").pop();\"snippets\"===t?e.execCommand(\"editSnippets\"):\"json\"===t&&e.execCommand(\"editKeyBindings\")}}},{name:\"abandonSession\",bindKey:{win:\"Ctrl-Alt-Esc\",mac:\"Command-Alt-Esc\"},description:\"Return to main session (discard changes)\",exec:e=>{g.current&&(e.setSession(g.current),g.current=null,c(e.getSession().getValue()))}},{name:\"classART\",description:\"Add/Remove/Toggle class for element\",exec:(e,t)=>{var n,o,s;if(t.targetQueryString&&t.type&&t.class)switch(t.type){case\"add\":null===(n=document.querySelectorAll(t.targetQueryString))||void 0===n||n.forEach((e=>e.classList.add(t.class)));break;case\"remove\":null===(o=document.querySelectorAll(t.targetQueryString))||void 0===o||o.forEach((e=>e.classList.remove(t.class)));break;case\"toggle\":null===(s=document.querySelectorAll(t.targetQueryString))||void 0===s||s.forEach((e=>e.classList.toggle(t.class)))}}},{name:\"conditionalExecute\",description:\"Execute command if element exists\",exec:(e,t)=>{var n;t.targetQueryString&&t.command&&Array.isArray(t.command)&&(!(null===(n=t.condition)||void 0===n||n)===!document.querySelector(t.targetQueryString)&&(\"string\"===typeof t.command[0]?R(t.command[0],t.command[1]):console.warn(\"Editor command - conditionalExecute: improper command format! Command array must contain name of command as first element and arguments as second element.\")))}},{name:\"delayedExecute\",description:\"Execute command after a period of time\",exec:(e,t)=>{var n;if(t.command)if(Array.isArray(t.command)&&2===t.command.length)\"string\"===typeof t.command[0]?setTimeout((()=>{R(t.command[0],t.command[1])}),null!==(n=t.timeout)&&void 0!==n?n:I.debounceChangePeriod):console.warn(\"Editor command - conditionalExecute: improper command format! Command array must contain name of command as first element and arguments as second element.\");else if(\"string\"===typeof t.command){var o;setTimeout((()=>{R(t.command)}),null!==(o=t.timeout)&&void 0!==o?o:I.debounceChangePeriod)}}}]},R=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";const o=null===(t=d.current)||void 0===t?void 0:t.editor;if(o)if(n)if(\"number\"===typeof n||\"string\"===typeof n)o.execCommand(e,n);else if(\"object\"!==typeof n||Array.isArray(n))console.warn('Function - execute: failed to parse/execute \"'.concat(e,'\" command!'));else{var s=!0;Object.keys(n).forEach((e=>{s=\"string\"===typeof n[e]||\"number\"===typeof n[e]||Array.isArray(n[e])})),Object.keys(n).length<4&&s&&o.execCommand(e,n)}else o.execCommand(e)},V=e=>{e.forEach((e=>{Array.isArray(e)?\"string\"===typeof e[0]?R(e[0],e[1]):console.warn(\"Function - executeAll: improper command format! Singular commands must contain name of command as first element and arguments as second element.\"):\"string\"===typeof e?R(e):console.warn(\"Function - executeAll: failed to parse/execute command(s)!\")}))},$=()=>{c(n.code)},M=e=>{const t=document.createElement(\"textarea\");t.value=e,document.body.appendChild(t),t.select(),document.execCommand(\"copy\"),t.remove()},D=new ResizeObserver((e=>{var t;m.a.setFrameHeight(null!==(t=e[0].contentBoxSize.blockSize)&&void 0!==t?t:e[0].contentRect.height)}));Object(o.useEffect)((()=>{!0===n.allow_reset&&n.code!==i&&(f.current=!f.current,$())}),[n.code]);const z=(()=>{const e=!a||\"dark\"===a.base;switch(n.theme){case\"contrast\":return e?\"streamlit_light\":\"streamlit_dark\";case\"light\":return\"streamlit_light\";case\"dark\":return\"streamlit_dark\";default:return e?\"streamlit_dark\":\"streamlit_light\"}})(),H=n.component_props,{info:B,menu:q,focus:F,code:Q,...G}=n,W=JSON.stringify(G),X=JSON.stringify(q),U=JSON.stringify(B),Y=JSON.stringify(n.buttons),Z=JSON.stringify(a),ee=JSON.stringify(O),te=Object(o.useMemo)((()=>{const e=JSON.stringify(j),t=JSON.parse(W);t.buttons.length>0&&t.buttons.forEach((e=>{L.commands=[...L.commands,{name:e.name.trim().replace(/\\s+/g,\"_\")+\"_button\",bindKey:e.bindKey,description:\"Execute '\"+e.name+\"' button command(s)\",exec:()=>{V(e.commands)}}]}));let n={};\"number\"===typeof t.height?n={minLines:1,maxLines:t.height}:\"string\"===typeof t.height?n={height:t.height}:Array.isArray(t.height)&&2===t.height.length&&(n={minLines:t.height[0],maxLines:t.height[1]});const o={...T,...t.editor_props},s={setOptions:{...N,...t.options},editorProps:o},r={...I,...s,...n,...t.props};return Object(y.jsx)(b,{editorRef:d,code:i,lang:t.lang,theme:z,shortcuts:t.shortcuts,snippetString:ee,ghostText:t.ghost_text,commands:L.commands,completions:t.completions,replaceCompleter:t.replace_completer,keybindingString:e,props:r,onChange:w,onSelectionChange:A,onBlur:K})}),[W,z,ee,j,f.current]),ne=Object(o.useMemo)((()=>{const e=JSON.parse(Y),t=JSON.parse(Z),n=null!==t&&void 0!==t?t:{},o={buttons:null!==e&&void 0!==e?e:[],name:\"customButtons\"};return Object(y.jsx)(k,{buttonGroup:o,theme:n,themeProp:z,executeAll:e=>V(e)})}),[Y,Z,z]),oe=Object(o.useMemo)((()=>{const e=JSON.parse(X),t=JSON.parse(Z),n=null!==t&&void 0!==t?t:{};return Object(y.jsx)(E,{menu:e,theme:n,themeProp:z,executeAll:e=>V(e)})}),[X,Z,z]),se=Object(o.useMemo)((()=>{const e=JSON.parse(U),t=JSON.parse(Z),n=null!==t&&void 0!==t?t:{};return Object(y.jsx)(_,{infoRef:p,info:e,theme:n})}),[U,Z]),re=Object(o.useMemo)((()=>Object(y.jsx)(P,{isDisabled:r,inject:H.globalCSS})),[H.globalCSS,r]);return Object(y.jsxs)(J,{ref:e=>{e?D.observe(e):D.disconnect()},style:H.style,className:null!==(t=\"streamlit_code-editor \"+(null===a||void 0===a?void 0:a.base))&&void 0!==t?t:\"\",$_css:H.css,children:[re,te,ne,oe,se]})}));a.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(L,{})}),document.getElementById(\"root\"))}},[[518,1,2]]]);","name":"static/js/main.b5a85557.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","taggedTemplateLiteral","styled_components_browser_esm","dist","v1","ace","ace_default","lib","lib_default","jsx_runtime","Editor","_ref","lang","theme","shortcuts","props","snippetString","commands","completions","ghostText","keybindingString","editorRef","code","replaceCompleter","onChange","onSelectionChange","onBlur","commandsList","Object","current","a","require","Autocomplete","for","editor","keybindings","JSON","parse","length","forEach","binding","_editorRef$current$ed","name","stringify","bindKey","bindkey","newCommand","addCommand","completer","_editorRef$current$ed2","keyboardHandler","init","snippetManager","snippets","snippetsLang","snippetsAddRemove","entries","register","parseSnippetFile","unregister","customCompleter","getCompletions","session","pos","prefix","callback","completers","pop","addCompleter","inline","aceInline","AceInline","testCompletion","snippet","show","hide","console","log","ref","mode","value","react_feather_dist","StyledDiv","div","withConfig","displayName","componentId","_StyledStyledDiv2","p","$_css2","_StyledStyledDiv","$_css","StyledRegSpan","span","StyledSpan","StyledButton","button","themeProp","primary","primaryColor","creatIcon","size","arguments","undefined","CustomIcon","concat","Info","info","infoRef","children","keys","className","style","css","map","class","Button","_ref2","executeAll","toggle","setToggle","alwaysOn","showWithIcon","onClick","_button$commands","toggledCommands","classToggle","classList","contains","hasText","feather","iconSize","Set","_ref3","buttonGroup","buttons","buttonRef","execute","Menu","_ref4","menu","groups","group","index","toggleOnlyOne","_templateObject","defaultOptions","fontFamily","cursorStyle","displayIndentGuides","wrap","highlightActiveLine","showPrintMargin","showLineNumbers","foldStyle","autoScrollEditorIntoView","animatedScroll","fadeFoldWidgets","defaultEditorProps","editorProps","$blockScrolling","defaultProps","cursorStart","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","focus","fontSize","navigateToFileEnd","placeholder","readOnly","scrollMargin","setOptions","showGutter","tabSize","width","debounceChangePeriod","GlobalCSS","isDisabled","inject","StyledCodeEditor","_StyledStyledCodeEditor","src_CodeEditor","args","disabled","setCode","aceEditor","infoTextRef","baseSession","keepFocus","reset","timeoutId","createSnippets","snippetRaw","Array","isArray","split","c","join","snippetAddRemove","setSnippetAddRemove","keybindingAddRemove","setKeybindingAddRemove","clearTimeout","onChangeHandler","newCode","includes","outgoingMode","getSession","$modeId","setComponentValue","id","slice","type","text","selected","getSelectedText","cursor","getCursorPosition","onSelectionChangeHandler","selectedText","onEditorBlur","event","getValue","description","win","mac","exec","unsecureCopyTextToClipboard","resetEditor","setMode","setKeyboardHandler","handlers","currentHandler","indexOf","$keybindingId","document","getElementById","execCommand","keyCode","key","dispatchEvent","KeyboardEvent","targetQueryString","target","querySelector","innerText","add","timeout","setTimeout","remove","_infoTextRef$current","responseType","cursorPos","line","getLine","row","replace","start","column","end","snippetText","setSession","snippetsPlusMinus","snippetsPlus","snippetsMinus","snippetsToAdd","snippetsToRemove","langMode","error","snippetConcatText","snippetMap","snip","content","lineCount","match","snippetsSession","createEditSession","moveCursorTo","renderer","scrollCursorIntoView","keybindingsJSON","_editor$completer$key","_editor$commands$comm","keybindingsSession","_document$querySelect","_document$querySelect2","_document$querySelect3","querySelectorAll","el","_args$condition","command","condition","warn","_args$timeout","_args$timeout2","_aceEditor$current","containsNumsStr","singleCommand","textField","createElement","body","appendChild","select","resizeObserver","ResizeObserver","_entries$0$contentBox","setFrameHeight","contentBoxSize","blockSize","contentRect","height","isDarkTheme","base","themeChoice","componentContainerProps","infoArg","menuArg","focusArg","codeArg","rest","editorArgsString","menuArgsString","infoArgsString","buttonArgsString","themeString","revertedArgs","trim","heightProps","minLines","maxLines","aceEditorProps","partProps","aceProps","revertedButtons","revertedTheme","customButtonTheme","customButtons","revertedMenu","menuTheme","revertedInfo","infoTheme","globalCSS","divElem","observe","disconnect","render","StrictMode"],"sources":["static/js/main.b5a85557.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpstreamlit-code-editor\"] = this[\"webpackJsonpstreamlit-code-editor\"] || []).push([[0],{\n\n/***/ 518:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(23);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/streamlit-component-lib/dist/index.js + 107 modules\nvar dist = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v1.js + 4 modules\nvar v1 = __webpack_require__(520);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/src-noconflict/ace.js\nvar ace = __webpack_require__(3);\nvar ace_default = /*#__PURE__*/__webpack_require__.n(ace);\n\n// EXTERNAL MODULE: ./node_modules/react-ace/lib/index.js\nvar lib = __webpack_require__(25);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/webpack-resolver.js\nvar webpack_resolver = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/src-noconflict/mode-python.js\nvar mode_python = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/src-noconflict/mode-javascript.js\nvar mode_javascript = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/src-noconflict/ext-language_tools.js\nvar ext_language_tools = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/src-noconflict/ext-searchbox.js\nvar ext_searchbox = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/src-noconflict/ext-prompt.js\nvar ext_prompt = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/src-noconflict/ext-modelist.js\nvar ext_modelist = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/ace-builds/src-noconflict/ext-keybinding_menu.js\nvar ext_keybinding_menu = __webpack_require__(514);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/editor.tsx\nconst Editor=_ref=>{let{lang,theme,shortcuts,props,snippetString,commands,completions,ghostText,keybindingString,editorRef,code,replaceCompleter,onChange,onSelectionChange,onBlur}=_ref;let commandsList=Object(react[\"useRef\"])(commands);Object(react[\"useEffect\"])(()=>{if(editorRef.current){// Add/remove keybindings\nace_default.a.require('ace/autocomplete').Autocomplete.for(editorRef.current.editor);const keybindings=JSON.parse(keybindingString);if(keybindings.commands&&keybindings.commands.length>0){// const bindkeySelector = editorRef.current.editor.commands.platform as string;\nkeybindings.commands.forEach(binding=>{if(binding.name&&typeof binding.name===\"string\"){var _editorRef$current$ed;if(JSON.stringify((_editorRef$current$ed=editorRef.current.editor.commands.commands[binding.name].bindKey)!==null&&_editorRef$current$ed!==void 0?_editorRef$current$ed:\"\")!==JSON.stringify(binding.bindkey)){const newCommand={...editorRef.current.editor.commands.commands[binding.name]};newCommand.bindKey=binding.bindkey;editorRef.current.editor.commands.addCommand(newCommand);commandsList.current=[...commandsList.current,newCommand];}}});}if(keybindings.completer&&keybindings.completer.length>0){// const bindkeySelector = editorRef.current.editor.completer.keyboardHandler.platform as string;\nkeybindings.completer.forEach(binding=>{if(binding.name&&typeof binding.name===\"string\"){var _editorRef$current$ed2;if(JSON.stringify((_editorRef$current$ed2=editorRef.current.editor.completer.keyboardHandler.commands[binding.name].bindKey)!==null&&_editorRef$current$ed2!==void 0?_editorRef$current$ed2:\"\")!==JSON.stringify(binding.bindkey)){const newCommand={...editorRef.current.editor.completer.keyboardHandler.commands[binding.name]};newCommand.bindKey=binding.bindkey;editorRef.current.editor.completer.keyboardHandler.addCommand(newCommand);}}});}// Add/remove snippets\nace_default.a.require(\"ace/ext/keybinding_menu\").init(editorRef.current.editor);const snippetManager=ace_default.a.require('ace/snippets').snippetManager;const snippets=JSON.parse(snippetString);for(const[snippetsLang,snippetsAddRemove]of Object.entries(snippets)){if(snippetsAddRemove[0])snippetManager.register(snippetManager.parseSnippetFile(snippetsAddRemove[0],snippetsLang),snippetsLang);if(snippetsAddRemove[1])snippetManager.unregister(snippetManager.parseSnippetFile(snippetsAddRemove[1],snippetsLang),snippetsLang);}// Add completions\nif(completions.length>0){const customCompleter={getCompletions:(editor,session,pos,prefix,callback)=>{callback(null,completions);}};if(replaceCompleter){editorRef.current.editor.completers.pop();}ace_default.a.require(\"ace/ext/language_tools\").addCompleter(customCompleter);}}},[snippetString,keybindingString]);Object(react[\"useEffect\"])(()=>{if(editorRef.current&&ghostText!==\"\"){const aceInline=ace_default.a.require(\"ace/autocomplete/inline\").AceInline;const inline=new aceInline();const testCompletion={snippet:ghostText};const result=inline.show(editorRef.current.editor,testCompletion,\"\");!result&&inline.hide()&&console.log(\"failed to show ghost text\");}},[ghostText,editorRef]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib_default.a,{ref:editorRef,name:\"REACT_ACE_EDITOR\",mode:lang,theme:theme,value:code,keyboardHandler:shortcuts,commands:commandsList.current,onChange:onChange,onSelectionChange:onSelectionChange,onBlur:onBlur,...props});};\n// EXTERNAL MODULE: ./node_modules/react-feather/dist/index.js + 287 modules\nvar react_feather_dist = __webpack_require__(29);\n\n// CONCATENATED MODULE: ./src/button-menu.tsx\n// import styled, { ThemeProvider, css } from \"styled-components\"\nconst StyledDiv=styled_components_browser_esm[\"c\" /* default */].div.withConfig({displayName:\"button-menu__StyledDiv\",componentId:\"sc-rz5v7a-0\"})([\"\"]);var _StyledStyledDiv2=Object(styled_components_browser_esm[\"c\" /* default */])(StyledDiv).withConfig({displayName:\"button-menu___StyledStyledDiv2\",componentId:\"sc-rz5v7a-1\"})([\"\",\"\"],p=>p.$_css2);var _StyledStyledDiv=Object(styled_components_browser_esm[\"c\" /* default */])(StyledDiv).withConfig({displayName:\"button-menu___StyledStyledDiv\",componentId:\"sc-rz5v7a-2\"})([\"\",\"\"],p=>p.$_css);const StyledRegSpan=styled_components_browser_esm[\"c\" /* default */].span.withConfig({displayName:\"button-menu__StyledRegSpan\",componentId:\"sc-rz5v7a-3\"})([\"\"]);const StyledSpan=styled_components_browser_esm[\"c\" /* default */].span.withConfig({displayName:\"button-menu__StyledSpan\",componentId:\"sc-rz5v7a-4\"})([\"height:2.5rem;line-height:2.5rem;margin:0px 0.4rem 0.15rem 0.4rem;opacity:0;transform:scale(0);transition:opacity 300ms 150ms,transform 300ms 150ms;\"]);const StyledButton=styled_components_browser_esm[\"c\" /* default */].button.withConfig({displayName:\"button-menu__StyledButton\",componentId:\"sc-rz5v7a-5\"})([\"border:none;border-radius:5px;background:none;height:2.5rem;line-height:0;display:flex;align-items:center;justify-content:center;opacity:0;position:absolute;transform:scale(0);transition:opacity 20ms 300ms,transform 20ms 300ms;z-index:9994;:focus{outline:none;}span{color:\",\";transform:scale(0);transform-origin:right;transition:opacity 300ms 150ms,transform 300ms 150ms;}:hover span{color:\",\";opacity:1;transform:scale(1);}svg{stroke:\",\";transform:scale(0);transition:opacity 300ms 150ms,transform 300ms 150ms;}:hover svg{stroke:\",\";}\"],props=>props.themeProp===\"streamlit_dark\"?\"rgba(250,250,250,0.6)\":\"rgba(0,0,0,0.5)\",props=>props.primary?props.theme.primaryColor:props.themeProp===\"streamlit_dark\"?\"rgb(250,250,250)\":\"rgb(49, 51, 63)\",props=>props.themeProp===\"streamlit_dark\"?\"rgba(250,250,250,0.6)\":\"rgba(0,0,0,0.5)\",props=>props.primary?props.theme.primaryColor:props.themeProp===\"streamlit_dark\"?\"rgb(250,250,250)\":\"rgb(49, 51, 63)\");const creatIcon=function(name){let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:16;const CustomIcon=react_feather_dist[name];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CustomIcon,{size:\"\".concat(size)});};const Info=_ref=>{let{info,theme,infoRef}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(styled_components_browser_esm[\"a\" /* ThemeProvider */],{theme:theme,children:Object.keys(info).length===0?\"\":/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(_StyledStyledDiv,{className:\"custom_info_bar \"+(info.name?info.name:\"\"),style:info.style,$_css:info.css,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledRegSpan,{ref:infoRef,className:\"code_editor-info message\"},\"code_editor_info_message\"),(info.info||[]).map(info=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledRegSpan,{className:info.class,style:info.style,children:info.name},\"info_\"+info.name))]},\"info_bar\")});};const Button=_ref2=>{let{button,theme,themeProp,executeAll}=_ref2;const[toggle,setToggle]=Object(react[\"useState\"])(false);//this toggle is currently not being used\nconst ref=Object(react[\"useRef\"])(null);const execute=(commands,toggledCommands)=>{if(button.classToggle){setToggle(!toggle);if(ref.current){ref.current.classList.toggle(button.classToggle);if(ref.current.classList.contains(button.classToggle))executeAll(ref,commands);else executeAll(ref,toggledCommands!==null&&toggledCommands!==void 0?toggledCommands:commands);}else executeAll(ref,toggle?toggledCommands!==null&&toggledCommands!==void 0?toggledCommands:commands:commands);}else executeAll(ref,commands);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(StyledButton,{ref:ref,primary:button.primary?button.primary:false,className:(button.class?button.class:\"\")+(button.alwaysOn?\" always-on\":\"\")+(button.showWithIcon?\" with-icon\":\"\"),themeProp:themeProp,style:button.style,theme:theme,onClick:()=>{var _button$commands;return execute((_button$commands=button.commands)!==null&&_button$commands!==void 0?_button$commands:[],button.toggledCommands);},children:[button.hasText&&button.name?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledSpan,{children:button.name}):\"\",button.feather?creatIcon(button.feather||\"X\",button.iconSize):\"\"]});};const Set=_ref3=>{let{buttonGroup,executeAll,theme,themeProp}=_ref3;const execute=(buttonRef,commands)=>{// Do things here that depend on which button is clicked using buttonRef.current\nif(commands)executeAll(commands);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(styled_components_browser_esm[\"a\" /* ThemeProvider */],{theme:theme,children:buttonGroup.buttons.map(button=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{button:button,themeProp:themeProp,theme:theme,executeAll:(ref,commands)=>execute(ref,commands)},buttonGroup.name+\"_\"+button.name))});};const Menu=_ref4=>{let{menu,executeAll,theme,themeProp}=_ref4;const execute=(buttonRef,commands)=>{// Do things here that depend on which button is clicked using buttonRef.current\nif(commands)executeAll(commands);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(styled_components_browser_esm[\"a\" /* ThemeProvider */],{theme:theme,children:Object.keys(menu).length===0?\"\":/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_StyledStyledDiv2,{className:\"custom_menu\",style:menu.style,$_css2:menu.css,children:!menu.groups?\"\":menu.groups.map((group,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledDiv,{className:\"menu_group \"+group.name,style:group.style,\"data-one-toggle-only\":group.toggleOnlyOne,children:group.buttons.map(button=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{button:button,themeProp:themeProp,theme:theme,executeAll:(ref,commands)=>execute(ref,commands)},group.name+\"_\"+button.name))},\"group_\"+group.name+index))},\"menu_bar\")});};\n// CONCATENATED MODULE: ./src/CodeEditor.tsx\nvar _templateObject;const defaultOptions={fontFamily:'\"Source Code Pro\", monospace',cursorStyle:\"smooth\",displayIndentGuides:false,wrap:false,highlightActiveLine:true,showPrintMargin:false,showLineNumbers:false,foldStyle:\"markbegin\",autoScrollEditorIntoView:false,animatedScroll:true,fadeFoldWidgets:true};const defaultEditorProps={editorProps:{$blockScrolling:true}};const defaultProps={cursorStart:1,enableBasicAutocompletion:false,enableLiveAutocompletion:true,enableSnippets:true,focus:false,fontSize:14,highlightActiveLine:true,navigateToFileEnd:true,placeholder:null,readOnly:false,scrollMargin:[15,15,0,0],setOptions:defaultOptions,showGutter:true,showPrintMargin:false,style:{},tabSize:4,width:\"auto\",debounceChangePeriod:250};const GlobalCSS=Object(styled_components_browser_esm[\"b\" /* createGlobalStyle */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  html {\\n    opacity: \",\";\\n    cursor: \",\";\\n    pointer-events: \",\";\\n  }\\n  \",\"\\n\"])),props=>props.isDisabled?\"0.5\":\"1\",props=>props.isDisabled?\"not-allowed\":\"auto\",props=>props.isDisabled?\"none\":\"auto\",props=>props.inject);const StyledCodeEditor=styled_components_browser_esm[\"c\" /* default */].div.withConfig({displayName:\"CodeEditor__StyledCodeEditor\",componentId:\"sc-wmif04-0\"})([\"width:100%;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;:hover button{opacity:1;transform:scale(1);}button.always-on{opacity:1;transform:scale(1);transition:none;}:hover button svg{opacity:1;transform:scale(1);}:hover button.with-icon span{opacity:1;transform:scale(1);}button.always-on > span{opacity:1;transform:scale(1);transition:none;}button.always-on > svg{opacity:1;transform:scale(1);transition:none;}\"]);var _StyledStyledCodeEditor=Object(styled_components_browser_esm[\"c\" /* default */])(StyledCodeEditor).withConfig({displayName:\"CodeEditor___StyledStyledCodeEditor\",componentId:\"sc-wmif04-1\"})([\"\",\"\"],p=>p.$_css);const CodeEditor=_ref=>{var _ref3;let{args,width,disabled,theme}=_ref;//sets code to the initial value every time the component is rendered\n//to set the initial value once, use a function instead of a value.\nconst[code,setCode]=Object(react[\"useState\"])(args['code']);// const [keybindingAddRemove, setKeybindingAddRemove] = useState([\"\",\"\"]);\nconst aceEditor=Object(react[\"useRef\"])(null);const infoTextRef=Object(react[\"useRef\"])(null);const baseSession=Object(react[\"useRef\"])(null);const keepFocus=Object(react[\"useRef\"])(false);const reset=Object(react[\"useRef\"])(false);var timeoutId;/**\n    * This function takes as input either a snippetText string that is expected\n    * to be already formatted like the text in a SnippetFile or a dictionary or \n    * and array of dictionaries. For the first case, it just returns the input.\n    * For the second and third case, a (SnippetFile format) string is constructed\n    * from the dict(s) and returned. Learn more about snippets {@link  here}\n    * @param snippetRaw snippets to be converted to a single snippetText string\n    * @returns {string} snippetText\n    */const createSnippets=snippetRaw=>{return typeof snippetRaw===\"string\"?snippetRaw:(Array.isArray(snippetRaw)?snippetRaw:[snippetRaw]).map(_ref2=>{let{name,code}=_ref2;return['snippet '+name,code.split('\\n').map(c=>'\\t'+c).join('\\n')].join('\\n');}).join('\\n');};const[snippetAddRemove,setSnippetAddRemove]=Object(react[\"useState\"])({[args['lang']]:[createSnippets(args[\"snippets\"][0]),createSnippets(args[\"snippets\"][1])]});const[keybindingAddRemove,setKeybindingAddRemove]=Object(react[\"useState\"])(args['keybindings']);Object(react[\"useEffect\"])(()=>{return()=>{if(timeoutId){clearTimeout(timeoutId);}};},[]);Object(react[\"useEffect\"])(()=>{if(aceEditor.current&&keepFocus.current){aceEditor.current.editor.focus();keepFocus.current=false;}},[keepFocus.current]);// To reasons for the useEffect here: \n//   1. to set the focus on the editor only when the focus argument has changed to true.\n//   2. to set the focus on the editor after rendering the component at which point, the \n//      editor should be ready.\nObject(react[\"useEffect\"])(()=>{if(aceEditor.current&&args.focus){aceEditor.current.editor.focus();}},[args.focus]);const onChangeHandler=newCode=>{setCode(newCode);const responseMode=typeof args[\"response_mode\"]===\"string\"?[args[\"response_mode\"]]:args[\"response_mode\"];if(responseMode.includes(\"debounce\")&&aceEditor.current&&aceEditor.current.editor){const editor=aceEditor.current.editor;const outgoingMode=editor.getSession().$modeId.split(\"/\").pop();dist[\"a\" /* Streamlit */].setComponentValue({id:Object(v1[\"a\" /* default */])().slice(0,8),type:\"change\",lang:outgoingMode,text:newCode,selected:editor.getSelectedText(),cursor:editor.getCursorPosition()});}};const onSelectionChangeHandler=selectedText=>{const responseMode=typeof args[\"response_mode\"]===\"string\"?[args[\"response_mode\"]]:args[\"response_mode\"];if(responseMode.includes(\"select\")&&aceEditor.current&&aceEditor.current.editor){const editor=aceEditor.current.editor;const outgoingMode=editor.getSession().$modeId.split(\"/\").pop();dist[\"a\" /* Streamlit */].setComponentValue({id:Object(v1[\"a\" /* default */])().slice(0,8),type:\"selection\",lang:outgoingMode,text:code,selected:editor.getSelectedText(),cursor:editor.getCursorPosition()});}};const onEditorBlur=(event,editor)=>{const responseMode=typeof args[\"response_mode\"]===\"string\"?[args[\"response_mode\"]]:args[\"response_mode\"];if(responseMode.includes(\"blur\")&&editor){const outgoingMode=editor.getSession().$modeId.split(\"/\").pop();setCode(editor.getValue());dist[\"a\" /* Streamlit */].setComponentValue({id:Object(v1[\"a\" /* default */])().slice(0,8),type:\"blur\",lang:outgoingMode,text:editor.getValue(),selected:editor.getSelectedText(),cursor:editor.getCursorPosition()});}};// commands is an array of objects containing functions\n// that the editor can be triggered to call.\nconst commands={commands:[{name:'submit',//name for the key binding.\ndescription:\"Send 'submit' response\",//description of the command\nbindKey:{win:'Ctrl-Enter',mac:'Command-Enter'},//key combination used for the command.\nexec:editor=>{const outgoingMode=editor.getSession().$modeId.split(\"/\").pop();dist[\"a\" /* Streamlit */].setComponentValue({id:Object(v1[\"a\" /* default */])().slice(0,8),type:\"submit\",lang:outgoingMode,text:editor.getValue(),selected:editor.getSelectedText(),cursor:editor.getCursorPosition()});}},{name:'saveState',description:\"Save state\",bindKey:{win:'Ctrl-Alt-S',mac:'Command-Alt-S'},exec:editor=>{setCode(editor.getValue());}},{name:'copyAll',description:\"Copy all text to clipboard\",exec:editor=>{unsecureCopyTextToClipboard(editor.getValue());}},{name:'reset',exec:()=>{resetEditor();}},{name:'keepFocus',description:\"Return cursor to editor\",exec:()=>{keepFocus.current=true;}},{name:\"setMode\",description:\"Set language mode\",exec:(editor,lang)=>{if(lang&&typeof lang===\"string\")editor.getSession().setMode(\"ace/mode/\"+lang);},readOnly:true},{name:\"changeShortcuts\",description:\"Switch shortcuts\",exec:(editor,shortcuts)=>{if(shortcuts&&typeof shortcuts===\"string\")editor.setKeyboardHandler(\"ace/keyboard/\"+shortcuts);else{//rotate through the available keyboard handlers\nconst handlers=[\"ace/keyboard/vim\",\"ace/keyboard/emacs\",\"ace/keyboard/sublime\",\"ace/keyboard/vscode\"];const currentHandler=handlers[(handlers.indexOf(editor.$keybindingId)+1)%4];editor.setKeyboardHandler(currentHandler);}},readOnly:true},{name:'toggleKeyboardShortcuts',exec:editor=>{if(!document.getElementById('kbshortcutmenu'))editor.execCommand('showKeyboardShortcuts');else editor.execCommand('simulateKeyPress',{type:\"keydown\",keyCode:27});}},{name:'simulateKeyPress',exec:(editor,args)=>{if(args.key)document.dispatchEvent(new KeyboardEvent(args.type,{'key':args.key}));else if(args.keyCode)document.dispatchEvent(new KeyboardEvent(args.type,{'keyCode':args.keyCode}));}},{name:'infoMessage',description:\"Display message in info bar\",exec:(editor,args)=>{if(args.targetQueryString){const target=document.querySelector(args.targetQueryString);if(target){target.innerText=args.text;target.classList.add(args.classToggle||\"\");if(args.timeout){timeoutId=setTimeout(()=>{target.classList.remove(args.classToggle||\"\");},args.timeout);}}}else if(infoTextRef.current){infoTextRef.current.innerText=args.text;infoTextRef.current.classList.add(args.classToggle||\"\");if(args.timeout){timeoutId=setTimeout(()=>{var _infoTextRef$current;(_infoTextRef$current=infoTextRef.current)===null||_infoTextRef$current===void 0?void 0:_infoTextRef$current.classList.remove(args.classToggle||\"\");},args.timeout);}}}},{name:'response',//name for the key binding.\ndescription:\"Send custom response\",//description of the command\nexec:function(editor){let responseType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";const outgoingMode=editor.getSession().$modeId.split(\"/\").pop();dist[\"a\" /* Streamlit */].setComponentValue({id:Object(v1[\"a\" /* default */])().slice(0,8),type:responseType,lang:outgoingMode,text:editor.getValue(),selected:editor.getSelectedText(),cursor:editor.getCursorPosition()});}},{name:'returnSelection',//name for the key binding.\ndescription:\"Send selected text to Streamlit\",//description of the command\nexec:editor=>{const outgoingMode=editor.getSession().$modeId.split(\"/\").pop();dist[\"a\" /* Streamlit */].setComponentValue({id:Object(v1[\"a\" /* default */])().slice(0,8),type:\"selection\",lang:outgoingMode,text:editor.getSelectedText(),cursor:editor.getCursorPosition()});}},{name:'appendGhostText',description:\"Add ghost test to end of line\",bindKey:{win:'Ctrl-/',mac:'Command-Alt-N'},exec:editor=>{const ghostText=args['ghost_text'];if(ghostText){const cursorPos=editor.getCursorPosition();const line=editor.session.getLine(cursorPos.row);editor.session.replace({start:{row:cursorPos.row,column:line.length},end:{row:cursorPos.row,column:line.length}},ghostText);}}},{name:'editSnippets',description:\"Edit snippets\",bindKey:{win:'Ctrl-Alt-N',mac:'Command-Alt-N'},exec:editor=>{const snippetManager=ace_default.a.require('ace/snippets').snippetManager;if(baseSession.current){const outgoingMode=editor.getSession().$modeId.split(\"/\").pop();if(outgoingMode===\"snippets\"){const snippetText=editor.getSession().getValue();editor.setSession(baseSession.current);baseSession.current=null;setCode(editor.getSession().getValue());if(outgoingMode===\"snippets\"){}try{const snippetsPlusMinus=snippetText.split(\"###~~~\")[1];const[snippetsPlus,snippetsMinus]=snippetsPlusMinus.split(\"###---\");const snippetsToAdd=snippetsPlus.split(\"###+++\")[1];const snippetsToRemove=snippetsMinus;const langMode=editor.getSession().$modeId.split(\"/\").pop();setSnippetAddRemove({[langMode]:[snippetAddRemove[langMode][0]+snippetsToAdd,snippetAddRemove[langMode][1]+snippetsToRemove]});}catch(error){editor.execCommand(\"infoMessage\",{text:\"error parsing file, restoring original file\",timeout:2000,classToggle:\"show\"});}}}else{const langMode=editor.getSession().$modeId.split(\"/\").pop();const snippetConcatText=\"\\n###~~~#(DO NOT EDIT THIS LINE)\\n# Commented out above are all the snippets that are currently\\n# registered for \".concat(args['lang'],\" mode.\\n\\n\\n###+++#(DO NOT EDIT THIS LINE) \\n# Put the snippets you want to add below this line.\\n\\n\\n\\n\\n\\n\\n\\n###---#(DO NOT EDIT THIS LINE) \\n# Put the snippets you want to remove below this line.\\n\\n\\n\\n\\n\\n\\n\");const snippetText=\"#\"+createSnippets(snippetManager.snippetMap[langMode].map(snip=>({name:snip.name,code:snip.content}))).replace(/\\n/g,\"\\n#\")+snippetConcatText;// snippetManager.files[editor.getSession().$modeId].snippetText\nconst lineCount=(snippetText.match(/\\n/g)||[]).length;baseSession.current=editor.getSession();const snippetsSession=ace_default.a.createEditSession(snippetText,\"ace/mode/snippets\");editor.setSession(snippetsSession);const cursorPos={row:lineCount-15>0?lineCount-15:0,column:0};editor.moveCursorTo(cursorPos.row,cursorPos.column);editor.renderer.scrollCursorIntoView(cursorPos,0.5);}}},{name:'editKeyBindings',description:\"Edit keybindings\",bindKey:{win:'Ctrl-Alt-B',mac:'Command-Alt-B'},exec:editor=>{ace_default.a.require('ace/autocomplete').Autocomplete.for(editor);if(baseSession.current){const outgoingMode=editor.getSession().$modeId.split(\"/\").pop();if(outgoingMode===\"json\"){const keybindingsJSON=editor.getSession().getValue();editor.setSession(baseSession.current);baseSession.current=null;setCode(editor.getSession().getValue());try{setKeybindingAddRemove(JSON.parse(keybindingsJSON));}catch(error){editor.execCommand(\"infoMessage\",{text:\"error parsing file, restoring original file\",timeout:2000,classToggle:\"show\"});}}}else{const keybindings={commands:{},completer:{}};if(editor.completer&&editor.completer.keyboardHandler.commands){keybindings.completer=Object.keys(editor.completer.keyboardHandler.commands).map(key=>{var _editor$completer$key;return{bindkey:(_editor$completer$key=editor.completer.keyboardHandler.commands[key].bindKey)!==null&&_editor$completer$key!==void 0?_editor$completer$key:\"\",name:editor.completer.keyboardHandler.commands[key].name};});}if(editor.commands.commands){keybindings.commands=Object.keys(editor.commands.commands).map(key=>{var _editor$commands$comm;return{bindkey:(_editor$commands$comm=editor.commands.commands[key].bindKey)!==null&&_editor$commands$comm!==void 0?_editor$commands$comm:\"\",name:editor.commands.commands[key].name};});}const keybindingsJSON=JSON.stringify(keybindings,undefined,2);baseSession.current=editor.getSession();const keybindingsSession=ace_default.a.createEditSession(keybindingsJSON,\"ace/mode/json\");editor.setSession(keybindingsSession);}}},{name:'exitSession',//name for the key binding.\nbindKey:{win:'Esc',mac:'Esc'},description:\"Return to main session (keep changes)\",//description of the command\nexec:editor=>{if(baseSession.current){const mode=editor.getSession().$modeId.split(\"/\").pop();if(mode===\"snippets\")editor.execCommand(\"editSnippets\");else if(mode===\"json\")editor.execCommand(\"editKeyBindings\");}}},{name:'abandonSession',//name for the key binding.\nbindKey:{win:'Ctrl-Alt-Esc',mac:'Command-Alt-Esc'},description:\"Return to main session (discard changes)\",//description of the command\nexec:editor=>{if(baseSession.current){editor.setSession(baseSession.current);baseSession.current=null;setCode(editor.getSession().getValue());}}},{name:'classART',//name for the key binding.\ndescription:\"Add/Remove/Toggle class for element\",//description of the command\nexec:(editor,args)=>{var _document$querySelect,_document$querySelect2,_document$querySelect3;if(args.targetQueryString&&args.type&&args.class){switch(args.type){case\"add\":(_document$querySelect=document.querySelectorAll(args.targetQueryString))===null||_document$querySelect===void 0?void 0:_document$querySelect.forEach(el=>el.classList.add(args.class));break;case\"remove\":(_document$querySelect2=document.querySelectorAll(args.targetQueryString))===null||_document$querySelect2===void 0?void 0:_document$querySelect2.forEach(el=>el.classList.remove(args.class));break;case\"toggle\":(_document$querySelect3=document.querySelectorAll(args.targetQueryString))===null||_document$querySelect3===void 0?void 0:_document$querySelect3.forEach(el=>el.classList.toggle(args.class));break;default:break;}}}},{name:'conditionalExecute',//name for the key binding.\ndescription:\"Execute command if element exists\",//description of the command\nexec:(editor,args)=>{if(args.targetQueryString&&args.command&&Array.isArray(args.command)){var _args$condition;if(!((_args$condition=args.condition)!==null&&_args$condition!==void 0?_args$condition:true)===!document.querySelector(args.targetQueryString)){typeof args.command[0]===\"string\"?execute(args.command[0],args.command[1]):console.warn(\"Editor command - conditionalExecute: improper command format! Command array must contain name of command as first element and arguments as second element.\");}}}},{name:'delayedExecute',//name for the key binding.\ndescription:\"Execute command after a period of time\",//description of the command\nexec:(editor,args)=>{if(args.command){if(Array.isArray(args.command)&&args.command.length===2){var _args$timeout;typeof args.command[0]===\"string\"?setTimeout(()=>{execute(args.command[0],args.command[1]);},(_args$timeout=args.timeout)!==null&&_args$timeout!==void 0?_args$timeout:defaultProps.debounceChangePeriod):console.warn(\"Editor command - conditionalExecute: improper command format! Command array must contain name of command as first element and arguments as second element.\");}else if(typeof args.command===\"string\"){var _args$timeout2;setTimeout(()=>{execute(args.command);},(_args$timeout2=args.timeout)!==null&&_args$timeout2!==void 0?_args$timeout2:defaultProps.debounceChangePeriod);}}}}]};const execute=function(command){var _aceEditor$current;let args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";const editor=(_aceEditor$current=aceEditor.current)===null||_aceEditor$current===void 0?void 0:_aceEditor$current.editor;if(editor){if(!args){editor.execCommand(command);}else if(typeof args===\"number\"||typeof args===\"string\"){editor.execCommand(command,args);}else if(typeof args===\"object\"&&!Array.isArray(args)){var containsNumsStr=true;Object.keys(args).forEach(key=>{containsNumsStr=typeof args[key]===\"string\"||typeof args[key]===\"number\"||Array.isArray(args[key]);});if(Object.keys(args).length<4&&containsNumsStr){editor.execCommand(command,args);}}else{console.warn(\"Function - execute: failed to parse/execute \\\"\".concat(command,\"\\\" command!\"));}}};const executeAll=commands=>{commands.forEach(singleCommand=>{if(Array.isArray(singleCommand)){typeof singleCommand[0]===\"string\"?execute(singleCommand[0],singleCommand[1]):console.warn(\"Function - executeAll: improper command format! Singular commands must contain name of command as first element and arguments as second element.\");}else if(typeof singleCommand===\"string\"){execute(singleCommand);}else{console.warn(\"Function - executeAll: failed to parse/execute command(s)!\");}});};const resetEditor=()=>{setCode(args['code']);};const unsecureCopyTextToClipboard=text=>{const textField=document.createElement('textarea');textField.value=text;document.body.appendChild(textField);textField.select();document.execCommand('copy');textField.remove();};/**\n   * resizeObserver observes changes in elements its given to observe and is used here\n   * to communicate to streamlit the height of the component that has changed\n   * so that streamlit can adjust the iframe containing the component accordingly.\n   */const resizeObserver=new ResizeObserver(entries=>{var _entries$0$contentBox;// If we know that the body will always fully contain our component (without cutting it off)\n// then we can use docuemnt.body height instead\ndist[\"a\" /* Streamlit */].setFrameHeight((_entries$0$contentBox=entries[0].contentBoxSize.blockSize)!==null&&_entries$0$contentBox!==void 0?_entries$0$contentBox:entries[0].contentRect.height);});const observe=divElem=>{divElem?resizeObserver.observe(divElem):resizeObserver.disconnect();};// This useEffect is used to reset the editor when the code argument changes and\n// the allow_reset argument is true. The allow_reset argument only impacts the\n// behavior of the component when the component has a fixed key argument because\n// changing the key argument results in the creation of a new component instance.\n// Everything would be reset anyways.\nObject(react[\"useEffect\"])(()=>{if(args['allow_reset']===true&&args['code']!==code){reset.current=!reset.current;resetEditor();}},[args['code']]);/**\n   * This could also be memoized but I don't think it would be necessary because its not expensive.\n   */const themeChoice=()=>{const isDarkTheme=theme?theme.base===\"dark\":true;switch(args['theme']){case\"contrast\":return isDarkTheme?\"streamlit_light\":\"streamlit_dark\";case\"light\":return\"streamlit_light\";case\"dark\":return\"streamlit_dark\";case\"default\":return isDarkTheme?\"streamlit_dark\":\"streamlit_light\";default:return isDarkTheme?\"streamlit_dark\":\"streamlit_light\";}};const themeProp=themeChoice();const componentContainerProps=args[\"component_props\"];const{info:infoArg,menu:menuArg,focus:focusArg,code:codeArg,...rest}=args;const editorArgsString=JSON.stringify(rest);const menuArgsString=JSON.stringify(menuArg);const infoArgsString=JSON.stringify(infoArg);const buttonArgsString=JSON.stringify(args['buttons']);const themeString=JSON.stringify(theme);const snippets=JSON.stringify(snippetAddRemove);/**\n   * This section contains the main sub-components (child components). These components are wrapped in useMemos\n   * in order to prevent unnecessary re-rendering of the components. This is listed as one of its use cases in the\n   * React docs ({@link https://beta.reactjs.org/reference/react/useMemo#skipping-re-rendering-of-components Skipping re-rendering of components})\n   *\n   * This component is the editor component that is rendered. It is only re-rendered when\n   * certain properties change. This is important because we should account for the possibility that the editor \n   * is being used at any given moment. Unnecessary and frequent re-rendering of the editor (for outside reasons\n   * especially) can impact user experience and responsiveness.\n   */const editor=Object(react[\"useMemo\"])(()=>{const keybindings=JSON.stringify(keybindingAddRemove);const revertedArgs=JSON.parse(editorArgsString);// Create commands for each button\nif(revertedArgs['buttons'].length>0){revertedArgs['buttons'].forEach(button=>{commands.commands=[...commands.commands,{name:button.name.trim().replace(/\\s+/g,'_')+'_button',bindKey:button.bindKey,description:\"Execute '\"+button.name+\"' button command(s)\",exec:()=>{executeAll(button.commands);}}];});}let heightProps={};if(typeof revertedArgs['height']===\"number\")heightProps={minLines:1,maxLines:revertedArgs['height']};else if(typeof revertedArgs['height']===\"string\")heightProps={height:revertedArgs['height']};else if(Array.isArray(revertedArgs['height'])&&revertedArgs['height'].length===2)heightProps={minLines:revertedArgs['height'][0],maxLines:revertedArgs['height'][1]};const aceEditorProps={...defaultEditorProps,...revertedArgs['editor_props']};const aceOptions={...defaultOptions,...revertedArgs['options']};const partProps={setOptions:aceOptions,editorProps:aceEditorProps};const aceProps={...defaultProps,...partProps,...heightProps,...revertedArgs['props']};/**\n     * TODO: Remove props from aceProps that we don't want to allow user access to.\n     */return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Editor,{editorRef:aceEditor,code:code,lang:revertedArgs['lang'],theme:themeProp,shortcuts:revertedArgs['shortcuts'],snippetString:snippets,ghostText:revertedArgs['ghost_text'],commands:commands.commands,completions:revertedArgs['completions'],replaceCompleter:revertedArgs['replace_completer'],keybindingString:keybindings,props:aceProps,onChange:onChangeHandler,onSelectionChange:onSelectionChangeHandler,onBlur:onEditorBlur});},[editorArgsString,themeProp,snippets,keybindingAddRemove,reset.current]);const buttons=Object(react[\"useMemo\"])(()=>{const revertedButtons=JSON.parse(buttonArgsString);const revertedTheme=JSON.parse(themeString);const customButtonTheme=revertedTheme!==null&&revertedTheme!==void 0?revertedTheme:{};const customButtons={buttons:revertedButtons!==null&&revertedButtons!==void 0?revertedButtons:[],name:\"customButtons\"};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Set,{buttonGroup:customButtons,theme:customButtonTheme,themeProp:themeProp,executeAll:commands=>executeAll(commands)});},[buttonArgsString,themeString,themeProp]);const menu=Object(react[\"useMemo\"])(()=>{const revertedMenu=JSON.parse(menuArgsString);const revertedTheme=JSON.parse(themeString);const menuTheme=revertedTheme!==null&&revertedTheme!==void 0?revertedTheme:{};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu,{menu:revertedMenu,theme:menuTheme,themeProp:themeProp,executeAll:commands=>executeAll(commands)});},[menuArgsString,themeString,themeProp]);const info=Object(react[\"useMemo\"])(()=>{const revertedInfo=JSON.parse(infoArgsString);const revertedTheme=JSON.parse(themeString);const infoTheme=revertedTheme!==null&&revertedTheme!==void 0?revertedTheme:{};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Info,{infoRef:infoTextRef,info:revertedInfo,theme:infoTheme});},[infoArgsString,themeString]);const globalCSS=Object(react[\"useMemo\"])(()=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GlobalCSS,{isDisabled:disabled,inject:componentContainerProps.globalCSS});},[componentContainerProps.globalCSS,disabled]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(_StyledStyledCodeEditor,{ref:observe,style:componentContainerProps.style,className:(_ref3=\"streamlit_code-editor \"+(theme===null||theme===void 0?void 0:theme.base))!==null&&_ref3!==void 0?_ref3:\"\",$_css:componentContainerProps.css,children:[globalCSS,editor,buttons,menu,info]});};/* harmony default export */ var src_CodeEditor = (Object(dist[\"b\" /* withStreamlitConnection */])(CodeEditor));\n// CONCATENATED MODULE: ./src/index.tsx\n// / <reference types=\"styled-components/cssprop\" />\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_CodeEditor,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[518,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/anasb/code-projects/streamlit/streamlit-code-editor/code_editor/frontend/src/editor.tsx","/home/anasb/code-projects/streamlit/streamlit-code-editor/code_editor/frontend/src/button-menu.tsx","/home/anasb/code-projects/streamlit/streamlit-code-editor/code_editor/frontend/src/CodeEditor.tsx","/home/anasb/code-projects/streamlit/streamlit-code-editor/code_editor/frontend/src/index.tsx"],"names":["Editor","_ref","lang","theme","shortcuts","props","snippetString","commands","completions","ghostText","keybindingString","editorRef","code","replaceCompleter","onChange","onSelectionChange","onBlur","commandsList","useRef","useEffect","current","ace","require","Autocomplete","for","editor","keybindings","JSON","parse","length","forEach","binding","name","_editorRef$current$ed","stringify","bindKey","bindkey","newCommand","addCommand","completer","_editorRef$current$ed2","keyboardHandler","init","snippetManager","snippets","snippetsLang","snippetsAddRemove","Object","entries","register","parseSnippetFile","unregister","customCompleter","getCompletions","session","pos","prefix","callback","completers","pop","addCompleter","aceInline","AceInline","inline","testCompletion","snippet","result","show","hide","console","log","_jsx","AceEditor","ref","mode","value","StyledDiv","styled","div","withConfig","displayName","componentId","_StyledStyledDiv2","_styled","p","$_css2","_StyledStyledDiv","$_css","StyledRegSpan","span","StyledSpan","StyledButton","button","themeProp","primary","primaryColor","creatIcon","size","arguments","undefined","CustomIcon","Icons","concat","Info","info","infoRef","_ThemeProvider","children","keys","_jsxs","className","style","css","map","class","Button","_ref2","executeAll","toggle","setToggle","useState","execute","toggledCommands","classToggle","classList","contains","alwaysOn","showWithIcon","onClick","_button$commands","hasText","feather","iconSize","Set","_ref3","buttonGroup","buttonRef","buttons","Menu","_ref4","menu","groups","group","index","toggleOnlyOne","defaultOptions","fontFamily","cursorStyle","displayIndentGuides","wrap","highlightActiveLine","showPrintMargin","showLineNumbers","foldStyle","autoScrollEditorIntoView","animatedScroll","fadeFoldWidgets","defaultEditorProps","editorProps","$blockScrolling","defaultProps","cursorStart","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","focus","fontSize","navigateToFileEnd","placeholder","readOnly","scrollMargin","setOptions","showGutter","tabSize","width","debounceChangePeriod","GlobalCSS","createGlobalStyle","_templateObject","_taggedTemplateLiteral","isDisabled","inject","StyledCodeEditor","_StyledStyledCodeEditor","CodeEditor","args","disabled","setCode","aceEditor","infoTextRef","baseSession","keepFocus","reset","timeoutId","createSnippets","snippetRaw","Array","isArray","split","c","join","snippetAddRemove","setSnippetAddRemove","keybindingAddRemove","setKeybindingAddRemove","clearTimeout","onChangeHandler","newCode","responseMode","includes","outgoingMode","getSession","$modeId","Streamlit","setComponentValue","id","v1","slice","type","text","selected","getSelectedText","cursor","getCursorPosition","onSelectionChangeHandler","selectedText","onEditorBlur","event","getValue","description","win","mac","exec","unsecureCopyTextToClipboard","resetEditor","setMode","setKeyboardHandler","handlers","currentHandler","indexOf","$keybindingId","document","getElementById","execCommand","keyCode","key","dispatchEvent","KeyboardEvent","targetQueryString","target","querySelector","innerText","add","timeout","setTimeout","remove","_infoTextRef$current","responseType","cursorPos","line","getLine","row","replace","start","column","end","snippetText","setSession","snippetsPlusMinus","snippetsPlus","snippetsMinus","snippetsToAdd","snippetsToRemove","langMode","error","snippetConcatText","snippetMap","snip","content","lineCount","match","snippetsSession","createEditSession","moveCursorTo","renderer","scrollCursorIntoView","keybindingsJSON","_editor$completer$key","_editor$commands$comm","keybindingsSession","_document$querySelect","_document$querySelect2","_document$querySelect3","querySelectorAll","el","command","_args$condition","condition","warn","_args$timeout","_args$timeout2","_aceEditor$current","containsNumsStr","singleCommand","textField","createElement","body","appendChild","select","resizeObserver","ResizeObserver","_entries$0$contentBox","setFrameHeight","contentBoxSize","blockSize","contentRect","height","observe","divElem","disconnect","themeChoice","isDarkTheme","base","componentContainerProps","infoArg","menuArg","focusArg","codeArg","rest","editorArgsString","menuArgsString","infoArgsString","buttonArgsString","themeString","useMemo","revertedArgs","trim","heightProps","minLines","maxLines","aceEditorProps","aceOptions","partProps","aceProps","revertedButtons","revertedTheme","customButtonTheme","customButtons","ButtonSet","revertedMenu","menuTheme","ButtonMenu","revertedInfo","infoTheme","InfoBar","globalCSS","withStreamlitConnection","ReactDOM","render","React","StrictMode"],"mappings":"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","file":"x","sourcesContent":["import { useEffect, useRef} from \"react\"\nimport AceEditor from \"react-ace\";\nimport ace from \"ace-builds\";\n\nimport \"ace-builds/webpack-resolver\";\nimport \"ace-builds/src-noconflict/mode-python\";\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/ext-searchbox\";\nimport \"ace-builds/src-noconflict/ext-prompt\";\nimport \"ace-builds/src-noconflict/ext-modelist\";\nimport \"ace-builds/src-noconflict/ext-keybinding_menu\";\n\nexport interface KeyBinding {\n    bindkey: string | object,\n    name: string\n}\n\nexport interface EditorKeyBindings {\n  commands?: KeyBinding[],\n  completer?: KeyBinding[]\n}\n\nexport type EditorProps = {\n    code: string,\n    lang: string,\n    theme: string,\n    shortcuts: string,\n    props: any,\n    editorRef: any,\n    snippetString: string,\n    ghostText: string,\n    commands: object[],\n    completions: object[],\n    keybindingString: string,\n    replaceCompleter: boolean,\n    onChange: (value: string, event?: any) => void,\n    onSelectionChange: (value: any, event?: any) => void,\n    onBlur: (event: any, editor?: any) => void\n  }\n  \nexport const Editor = ({ lang, theme, shortcuts, props, snippetString, commands, completions, ghostText, keybindingString, editorRef, code, replaceCompleter, onChange, onSelectionChange, onBlur }: EditorProps ) => {\n    \n  let commandsList = useRef<object[]>(commands);\n  useEffect(() => {\n    if(editorRef.current){\n\n      // Add/remove keybindings\n      ace.require('ace/autocomplete').Autocomplete.for(editorRef.current.editor);\n      const keybindings = JSON.parse(keybindingString) as EditorKeyBindings;\n      if(keybindings.commands && keybindings.commands.length > 0){\n        // const bindkeySelector = editorRef.current.editor.commands.platform as string;\n        keybindings.commands.forEach((binding) => {\n            if(binding.name && typeof binding.name === \"string\"){\n              if (JSON.stringify(editorRef.current.editor.commands.commands[binding.name].bindKey ?? \"\") !== JSON.stringify(binding.bindkey)) {\n                const newCommand = {...editorRef.current.editor.commands.commands[binding.name]};\n                newCommand.bindKey = binding.bindkey;\n                editorRef.current.editor.commands.addCommand(newCommand);\n                commandsList.current= [...commandsList.current, newCommand];\n              }\n            }\n   \n        });\n      }\n      if(keybindings.completer && keybindings.completer.length > 0){\n        // const bindkeySelector = editorRef.current.editor.completer.keyboardHandler.platform as string;\n        keybindings.completer.forEach((binding) => {\n            if(binding.name && typeof binding.name === \"string\"){\n              if (JSON.stringify(editorRef.current.editor.completer.keyboardHandler.commands[binding.name].bindKey ?? \"\") !== JSON.stringify(binding.bindkey)) {\n                const newCommand = {...editorRef.current.editor.completer.keyboardHandler.commands[binding.name]};\n                newCommand.bindKey = binding.bindkey;\n                editorRef.current.editor.completer.keyboardHandler.addCommand(newCommand);\n              }\n            }\n        });\n      }\n\n      // Add/remove snippets\n      ace.require(\"ace/ext/keybinding_menu\").init(editorRef.current.editor);\n      const snippetManager = ace.require('ace/snippets').snippetManager;\n      const snippets = JSON.parse(snippetString) as object;\n      for (const [snippetsLang, snippetsAddRemove] of Object.entries(snippets)){\n        if(snippetsAddRemove[0])\n          snippetManager.register(snippetManager.parseSnippetFile(snippetsAddRemove[0], snippetsLang), snippetsLang)\n        \n        if(snippetsAddRemove[1])\n          snippetManager.unregister(snippetManager.parseSnippetFile(snippetsAddRemove[1], snippetsLang), snippetsLang)\n      }\n\n      // Add completions\n      if (completions.length > 0) {\n        const customCompleter = {\n          getCompletions: (\n              editor: ace.Ace.Editor,\n              session: ace.Ace.EditSession,\n              pos: ace.Ace.Point,\n              prefix: string,\n              callback: ace.Ace.CompleterCallback\n          ): void => {\n              callback(\n                  null,\n                  (completions as ace.Ace.Completion[])\n              );\n            },\n          };\n        if(replaceCompleter) {\n          editorRef.current.editor.completers.pop();\n        }\n        ace.require(\"ace/ext/language_tools\").addCompleter(customCompleter);\n      }\n    }\n  }, [snippetString, keybindingString]);\n\n  useEffect(() => {\n    if(editorRef.current && ghostText !== \"\"){\n      const aceInline = ace.require(\"ace/autocomplete/inline\").AceInline;\n      const inline = new aceInline();\n      const testCompletion: ace.Ace.Completion = {\n        snippet: ghostText,\n      }\n      const result = inline.show(editorRef.current.editor, testCompletion, \"\");\n      !result && inline.hide() && console.log(\"failed to show ghost text\");\n    }\n  }, [ghostText, editorRef]);\n\n  return (\n          <AceEditor\n           ref={editorRef}\n           name=\"REACT_ACE_EDITOR\"\n           mode={lang}\n           theme={theme}\n           value={code}\n           keyboardHandler={shortcuts}\n           commands={commandsList.current}\n           onChange={onChange}\n           onSelectionChange={onSelectionChange}\n           onBlur={onBlur}\n           {...props}/>\n  );\n};","// import styled, { ThemeProvider, css } from \"styled-components\"\nimport { useRef, useState } from \"react\"\nimport styled, { ThemeProvider } from 'styled-components/macro'\nimport * as Icons from \"react-feather\"\n\n\nexport interface customInfoText {\n  name: string,\n  class?: string,\n  style?: object,\n  theme?: object\n}\n\nexport interface infoBar {\n  name?: string,\n  css?: string,\n  style?: object,\n  info?: customInfoText[]\n}\n\nexport interface customButton {\n  name: string,\n  feather?: string,\n  iconSize?: number,\n  primary?: boolean,\n  hasText?: boolean,\n  showWithIcon?: boolean,\n  alwaysOn?: boolean,\n  commands?: any[],\n  toggledCommands?: any[],\n  bindKey?: string | object,\n  class?: string,\n  style?: object,\n  theme?: object, \n  classToggle?: string,\n}\n\nexport interface buttonGroup {\n  name: string,\n  buttons: customButton[],\n  style?: object,\n  toggleOnlyOne?: boolean,\n}\n\nexport interface menu {\n  style?: object,\n  css?: string,\n  groups?: buttonGroup[]\n}\n\nexport const StyledDiv = styled.div``;\nexport const StyledRegSpan = styled.span``;\n\nexport const StyledSpan = styled.span`\n  height: 2.5rem;\n  line-height: 2.5rem;\n  margin: 0px 0.4rem 0.15rem 0.4rem;\n  opacity: 0;\n  transform: scale(0);\n  transition: opacity 300ms 150ms, transform 300ms 150ms;\n`;\n\nexport const StyledButton = styled.button<{primary?: boolean, themeProp: string, theme: object}>`\n  border: none;\n  border-radius: 5px;\n  background: none;\n  height: 2.5rem;\n  line-height: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  position: absolute;\n  transform: scale(0);\n  transition: opacity 20ms 300ms, transform 20ms 300ms;\n  z-index: 9994;\n  :focus {\n    outline: none;\n  }\n  span{\n    color: ${props => props.themeProp === \"streamlit_dark\"? \"rgba(250,250,250,0.6)\": \"rgba(0,0,0,0.5)\"};\n    transform: scale(0);\n    transform-origin: right;\n    transition: opacity 300ms 150ms, transform 300ms 150ms;\n  }\n  :hover span {\n    color: ${props => props.primary? props.theme.primaryColor : props.themeProp === \"streamlit_dark\"? \"rgb(250,250,250)\" : \"rgb(49, 51, 63)\"};\n    opacity: 1;\n    transform: scale(1);\n  }\n  svg {\n    stroke: ${props => props.themeProp === \"streamlit_dark\"? \"rgba(250,250,250,0.6)\": \"rgba(0,0,0,0.5)\"};\n    transform: scale(0);\n    transition: opacity 300ms 150ms, transform 300ms 150ms;\n  }\n  :hover svg {\n    stroke: ${props => props.primary? props.theme.primaryColor : props.themeProp === \"streamlit_dark\"? \"rgb(250,250,250)\" : \"rgb(49, 51, 63)\"};\n  }\n`;\n\nexport type iconKey = keyof typeof Icons;\n\nexport const creatIcon = (name: iconKey, size = 16) => {\n  const CustomIcon = Icons[name];\n  return <CustomIcon size={`${size}`} />;\n}\n\nexport type CustomInfoBar = {\n  theme: object,\n  info: infoBar,\n  infoRef: any,\n}\n\nexport const Info = ({info, theme, infoRef}: CustomInfoBar) => {\n\n  return (\n    <ThemeProvider theme={theme}>\n      {(Object.keys(info).length === 0) ? `` : <StyledDiv key=\"info_bar\" className={\"custom_info_bar \" + (info.name? info.name : \"\")} css={info.css} style={info.style}>\n        {<StyledRegSpan ref={infoRef} key=\"code_editor_info_message\" className=\"code_editor-info message\">\n          </StyledRegSpan>}\n        {(info.info || []).map((info: customInfoText)=>(\n          <StyledRegSpan key={\"info_\" + info.name} className={info.class} style={info.style}>\n            {info.name}\n          </StyledRegSpan>\n        ))}\n      </StyledDiv>}\n    </ThemeProvider>);\n}\n  \nexport type CustomButtonType = {\n  button: customButton, \n  theme: object, \n  themeProp: string, \n  executeAll: (ref: React.RefObject<HTMLButtonElement>, commands: any[]) => void\n}\nexport const Button = ({button, theme, themeProp, executeAll}: CustomButtonType) => {\n  const [toggle, setToggle] = useState(false);     //this toggle is currently not being used\n  const ref = useRef<HTMLButtonElement>(null);\n\n  const execute = (commands: any[], toggledCommands?: any[]) => {\n    if(button.classToggle){\n      setToggle(!toggle);\n      if (ref.current){\n        ref.current.classList.toggle(button.classToggle);\n        if(ref.current.classList.contains(button.classToggle))\n          executeAll(ref, commands);\n        else\n          executeAll(ref, toggledCommands ?? commands);\n      }\n      else \n        executeAll(ref, toggle? toggledCommands?? commands : commands);\n    } \n    else \n      executeAll(ref, commands);\n  }\n\n  return (\n    <StyledButton \n      ref={ref}\n      primary={button.primary? button.primary : false} \n      className={(button.class? button.class: \"\" ) + (button.alwaysOn? \" always-on\" : \"\") + (button.showWithIcon? \" with-icon\" : \"\") }\n      themeProp={themeProp}\n      style={button.style} \n      theme={theme}\n      onClick={() => execute(button.commands ?? [], button.toggledCommands)}>\n        {(button.hasText && button.name)? <StyledSpan >{button.name}</StyledSpan> : ``}\n        {button.feather? creatIcon(button.feather as iconKey || \"X\", button.iconSize) : \"\"}\n    </StyledButton>\n  )\n}\n\nexport type CustomButtonSet = \n{\n  theme: object,\n  themeProp: string,\n  buttonGroup: buttonGroup,\n  executeAll: (commands: any[]) => void \n}\n  \nexport const Set = ({buttonGroup, executeAll, theme, themeProp}: CustomButtonSet) => {\n\n  const execute = (buttonRef: React.RefObject<HTMLButtonElement>, commands: any[]) => {\n    // Do things here that depend on which button is clicked using buttonRef.current\n    if(commands)\n      executeAll(commands);\n  }\n\n  return (\n      <ThemeProvider theme={theme}>\n        {buttonGroup.buttons.map( (button) => (\n        <Button \n          key={buttonGroup.name + \"_\" + button.name}\n          button={button}\n          themeProp={themeProp}\n          theme={theme}\n          executeAll={(ref, commands) => execute(ref, commands)}/>\n      ))}\n    </ThemeProvider>\n  )\n}\n  \nexport type CustomMenu = \n{\n  menu : menu,\n  theme: object,\n  themeProp: string,\n  executeAll: (commands: any[]) => void\n}\n  \nexport const Menu = ({menu, executeAll, theme, themeProp}: CustomMenu) => {\n\n  const execute = (buttonRef: React.RefObject<HTMLButtonElement>, commands: any[]) => {\n    // Do things here that depend on which button is clicked using buttonRef.current\n    if(commands)\n      executeAll(commands);\n  }\n  \n  return (\n    <ThemeProvider theme={theme}>\n      {(Object.keys(menu).length === 0 )? \"\" : <StyledDiv key=\"menu_bar\" className=\"custom_menu\" style={menu.style} css={menu.css}>\n        {!menu.groups? `` : menu.groups.map((group: buttonGroup, index) => (\n          <StyledDiv key={\"group_\" + group.name + index} className={\"menu_group \" + group.name} style={group.style} data-one-toggle-only={group.toggleOnlyOne} >\n              {group.buttons.map((button: customButton,)=>(\n                <Button \n                  key={group.name + \"_\" + button.name}\n                  button={button}\n                  themeProp={themeProp}\n                  theme={theme}\n                  executeAll={(ref, commands) => execute(ref, commands)}/>\n              ))}\n          </StyledDiv>\n        ))}\n      </StyledDiv>}\n    </ThemeProvider>\n  )\n}","import {\n  Streamlit,\n  withStreamlitConnection,\n  ComponentProps,\n  Theme,\n} from \"streamlit-component-lib\"\nimport {v1} from 'uuid';\nimport styled, { createGlobalStyle } from \"styled-components/macro\"\nimport { useState, useRef, useEffect, useMemo } from \"react\"\nimport AceEditor from \"react-ace\";\nimport ace from \"ace-builds\";\nimport { Editor } from './editor';\nimport { Menu as ButtonMenu, Set as ButtonSet, customButton, buttonGroup, Info as InfoBar } from \"./button-menu\"\n\nimport \"ace-builds/webpack-resolver\";\nimport \"ace-builds/src-noconflict/mode-python\";\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/ext-searchbox\";\nimport \"ace-builds/src-noconflict/ext-prompt\";\nimport \"ace-builds/src-noconflict/ext-modelist\";\n\ninterface CodeEditorProps extends ComponentProps {\n  args: any\n  width: number\n  disabled: boolean\n  theme?: Theme\n}\n\nconst defaultOptions = {\n  fontFamily: '\"Source Code Pro\", monospace',\n  cursorStyle: \"smooth\",\n  displayIndentGuides: false,\n  wrap: false,\n  highlightActiveLine: true,\n  showPrintMargin: false,\n  showLineNumbers: false,\n  foldStyle: \"markbegin\",\n  autoScrollEditorIntoView: false,\n  animatedScroll: true,\n  fadeFoldWidgets: true,\n}\n\nconst defaultEditorProps = {\n  editorProps: {\n    $blockScrolling: true\n  }\n}\n\nconst defaultProps = {\n  cursorStart: 1,\n  enableBasicAutocompletion: false,\n  enableLiveAutocompletion: true,\n  enableSnippets: true,\n  focus: false,\n  fontSize: 14,\n  highlightActiveLine: true,\n  navigateToFileEnd: true,\n  placeholder: null,\n  readOnly: false,\n  scrollMargin: [15, 15, 0, 0],\n  setOptions: defaultOptions,\n  showGutter: true,\n  showPrintMargin: false,\n  style: {},\n  tabSize: 4,\n  width: \"auto\",\n  debounceChangePeriod: 250,\n}\n\nconst GlobalCSS = createGlobalStyle<{isDisabled?: boolean, inject: string}>`\n  html {\n    opacity: ${props => props.isDisabled? \"0.5\": \"1\"};\n    cursor: ${props => props.isDisabled? \"not-allowed\": \"auto\"};\n    pointer-events: ${props => props.isDisabled? \"none\": \"auto\"};\n  }\n  ${props => props.inject}\n`\nconst StyledCodeEditor = styled.div`\n  width: 100%;\n  border-radius: 8px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  :hover button {\n    opacity: 1;\n    transform: scale(1);\n  }\n  button.always-on {\n    opacity: 1;\n    transform: scale(1);\n    transition: none;\n  }\n  :hover button svg {\n        opacity: 1;\n        transform: scale(1);\n  }\n  :hover button.with-icon span {\n    opacity: 1;\n    transform: scale(1);\n  }\n  button.always-on > span {\n    opacity: 1;\n    transform: scale(1);\n    transition: none;\n  }\n  button.always-on > svg {\n    opacity: 1;\n    transform: scale(1);\n    transition: none;\n  }\n  `;\n\nconst CodeEditor = ({ args, width, disabled, theme }: CodeEditorProps) => {\n\n  //sets code to the initial value every time the component is rendered\n  //to set the initial value once, use a function instead of a value.\n  const [code, setCode] = useState(args['code']);\n  // const [keybindingAddRemove, setKeybindingAddRemove] = useState([\"\",\"\"]);\n\n  const aceEditor = useRef<AceEditor>(null);\n  const infoTextRef = useRef<HTMLSpanElement>(null);\n  const baseSession = useRef<ace.Ace.EditSession | null>(null);\n  const keepFocus = useRef<boolean>(false);\n  const reset = useRef<boolean>(false);\n\n  var timeoutId: NodeJS.Timeout;\n\n  /**\n    * This function takes as input either a snippetText string that is expected\n    * to be already formatted like the text in a SnippetFile or a dictionary or \n    * and array of dictionaries. For the first case, it just returns the input.\n    * For the second and third case, a (SnippetFile format) string is constructed\n    * from the dict(s) and returned. Learn more about snippets {@link  here}\n    * @param snippetRaw snippets to be converted to a single snippetText string\n    * @returns {string} snippetText\n    */\n  const createSnippets = (snippetRaw: string | object | [object]): string => {\n    return (typeof snippetRaw === \"string\" ? snippetRaw : (Array.isArray(snippetRaw) ? snippetRaw : [snippetRaw]).map(({ name, code }) =>\n    ([\n      'snippet ' + name,\n      code.split('\\n')\n        .map((c: string) => '\\t' + c)\n        .join('\\n'),\n    ].join('\\n'))\n    ).join('\\n'))\n  }\n  const [snippetAddRemove, setSnippetAddRemove] = useState({[args['lang']] : [createSnippets(args[\"snippets\"][0]), createSnippets(args[\"snippets\"][1])]});\n  const [keybindingAddRemove, setKeybindingAddRemove] = useState(args['keybindings']);\n\n\n  useEffect(() => {\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if(aceEditor.current && keepFocus.current){\n      aceEditor.current.editor.focus();\n      keepFocus.current = false;\n    }\n  }, [keepFocus.current]);\n\n  // To reasons for the useEffect here: \n  //   1. to set the focus on the editor only when the focus argument has changed to true.\n  //   2. to set the focus on the editor after rendering the component at which point, the \n  //      editor should be ready.\n  useEffect(() => {\n    if(aceEditor.current && args.focus){\n      aceEditor.current.editor.focus();\n    }\n  }, [args.focus]);\n\n  const onChangeHandler = (newCode: string) => {\n    setCode(newCode);\n\n    const responseMode = typeof args[\"response_mode\"] === \"string\" ? [args[\"response_mode\"]] : args[\"response_mode\"];\n    if (responseMode.includes(\"debounce\") && aceEditor.current && aceEditor.current.editor) {\n      const editor = aceEditor.current.editor as any;\n      const outgoingMode = editor.getSession().$modeId.split(\"/\").pop();\n      Streamlit.setComponentValue({id: v1().slice(0,8), type: \"change\", lang: outgoingMode, text: newCode, selected: editor.getSelectedText(), cursor: editor.getCursorPosition()});\n    }\n  }\n  \n  const onSelectionChangeHandler = (selectedText: any) => {\n    const responseMode = typeof args[\"response_mode\"] === \"string\" ? [args[\"response_mode\"]] : args[\"response_mode\"];\n    if (responseMode.includes(\"select\") && aceEditor.current && aceEditor.current.editor) {\n      const editor = aceEditor.current.editor as any;\n      const outgoingMode = editor.getSession().$modeId.split(\"/\").pop();\n      Streamlit.setComponentValue({id: v1().slice(0,8), type: \"selection\", lang: outgoingMode, text: code, selected: editor.getSelectedText(), cursor: editor.getCursorPosition()});\n    }\n  }\n\n  const onEditorBlur = (event: any, editor: any) => {\n    const responseMode = typeof args[\"response_mode\"] === \"string\" ? [args[\"response_mode\"]] : args[\"response_mode\"];\n    if (responseMode.includes(\"blur\") && editor) {\n      const outgoingMode = editor.getSession().$modeId.split(\"/\").pop();\n      setCode(editor.getValue());\n      Streamlit.setComponentValue({id: v1().slice(0,8), type: \"blur\", lang: outgoingMode, text: editor.getValue(), selected: editor.getSelectedText(), cursor: editor.getCursorPosition()});\n    }\n  }\n\n  // commands is an array of objects containing functions\n  // that the editor can be triggered to call.\n  const commands = { commands: [\n    {\n      name: 'submit', //name for the key binding.\n      description: \"Send 'submit' response\", //description of the command\n      bindKey: { win: 'Ctrl-Enter', mac: 'Command-Enter' }, //key combination used for the command.\n      exec: (editor: any) => {\n        const outgoingMode = editor.getSession().$modeId.split(\"/\").pop();\n        Streamlit.setComponentValue({id: v1().slice(0,8), type: \"submit\", lang: outgoingMode, text: editor.getValue(), selected: editor.getSelectedText(), cursor: editor.getCursorPosition()});\n      }\n    },\n    {\n      name: 'saveState',\n      description: \"Save state\",\n      bindKey: { win: 'Ctrl-Alt-S', mac: 'Command-Alt-S' },\n      exec: (editor: ace.Ace.Editor) => {\n        setCode(editor.getValue());\n      }\n    },\n    {\n      name: 'copyAll',\n      description: \"Copy all text to clipboard\",\n      exec: (editor: ace.Ace.Editor) => {\n        unsecureCopyTextToClipboard(editor.getValue());\n      }\n    },\n    {\n      name: 'reset',\n      exec: () => {\n        resetEditor();\n      }\n    },\n    {\n      name: 'keepFocus',\n      description: \"Return cursor to editor\",\n      exec: () => {\n        keepFocus.current = true;\n      }\n    },\n    {\n      name: \"setMode\",\n      description: \"Set language mode\",\n      exec: (editor: ace.Ace.Editor, lang: string) => {\n          if(lang && typeof lang === \"string\")\n            editor.getSession().setMode(\"ace/mode/\" + lang);\n      },\n      readOnly: true\n    },\n    {\n      name: \"changeShortcuts\",\n      description: \"Switch shortcuts\",\n      exec: (editor: any, shortcuts?: string) => {\n        if(shortcuts && typeof shortcuts === \"string\")\n          editor.setKeyboardHandler(\"ace/keyboard/\" + shortcuts);\n        else {\n          //rotate through the available keyboard handlers\n          const handlers = [\"ace/keyboard/vim\", \"ace/keyboard/emacs\", \"ace/keyboard/sublime\", \"ace/keyboard/vscode\"];\n          const currentHandler = handlers[(handlers.indexOf(editor.$keybindingId) + 1) % 4];\n          editor.setKeyboardHandler(currentHandler);\n        }\n      },\n      readOnly: true\n    },\n    {\n      name: 'toggleKeyboardShortcuts',\n      exec: (editor: ace.Ace.Editor) => {\n        if(!document.getElementById('kbshortcutmenu'))\n          editor.execCommand('showKeyboardShortcuts');\n        else \n          editor.execCommand('simulateKeyPress', {type:\"keydown\", keyCode: 27});\n      }\n    },\n    {\n      name: 'simulateKeyPress',\n      exec: (editor: ace.Ace.Editor, args: {type: string, key?: string, keyCode?: number}) => {\n        if(args.key)\n          document.dispatchEvent(new KeyboardEvent(args.type,{'key': args.key})); \n        else if(args.keyCode)\n          document.dispatchEvent(new KeyboardEvent(args.type,{'keyCode': args.keyCode})); \n      }\n    },\n    {\n      name: 'infoMessage',\n      description: \"Display message in info bar\",\n      exec: (editor: ace.Ace.Editor, args: {text: string, timeout?: number, classToggle?: string, targetQueryString?: string} ) => {\n        if(args.targetQueryString){\n          const target = document.querySelector(args.targetQueryString) as HTMLElement;\n          if(target){\n            target.innerText = args.text;\n            target.classList.add(args.classToggle || \"\")\n            if(args.timeout){\n              timeoutId = setTimeout(() => {\n                target.classList.remove(args.classToggle || \"\");\n              }, args.timeout);\n            }\n          }\n        }\n        else if(infoTextRef.current){\n          infoTextRef.current.innerText = args.text;\n          infoTextRef.current.classList.add(args.classToggle || \"\");\n          if(args.timeout){\n            timeoutId = setTimeout(() => {\n              infoTextRef.current?.classList.remove(args.classToggle || \"\");\n            }, args.timeout);\n          }\n        }\n      }\n    },\n    {\n      name: 'response', //name for the key binding.\n      description: \"Send custom response\", //description of the command\n      exec: (editor: any, responseType = \"\") => {\n        const outgoingMode = editor.getSession().$modeId.split(\"/\").pop();\n        Streamlit.setComponentValue({id: v1().slice(0,8), type: responseType, lang: outgoingMode, text: editor.getValue(), selected: editor.getSelectedText(), cursor: editor.getCursorPosition()});\n      }\n    },\n    {\n      name: 'returnSelection', //name for the key binding.\n      description: \"Send selected text to Streamlit\", //description of the command\n      exec: (editor: any) => {\n        const outgoingMode = editor.getSession().$modeId.split(\"/\").pop();\n        Streamlit.setComponentValue({id: v1().slice(0,8), type: \"selection\", lang: outgoingMode, text: editor.getSelectedText(), cursor: editor.getCursorPosition()});\n      }\n    },\n    {\n      name: 'appendGhostText',\n      description: \"Add ghost test to end of line\",\n      bindKey: { win: 'Ctrl-/', mac: 'Command-Alt-N' },\n      exec: (editor: any) => {\n        const ghostText = args['ghost_text'];\n        if(ghostText){\n          const cursorPos = editor.getCursorPosition();\n          const line = editor.session.getLine(cursorPos.row);\n          editor.session.replace({start: {row: cursorPos.row, column: line.length}, end: {row: cursorPos.row, column: line.length}}, ghostText);\n        }\n      }\n    },\n    {\n      name: 'editSnippets',\n      description: \"Edit snippets\",\n      bindKey: { win: 'Ctrl-Alt-N', mac: 'Command-Alt-N' },\n      exec: (editor: any) => {\n        const snippetManager = ace.require('ace/snippets').snippetManager;\n        if(baseSession.current){\n          const outgoingMode = editor.getSession().$modeId.split(\"/\").pop();\n          if(outgoingMode === \"snippets\"){\n            const snippetText = editor.getSession().getValue();\n            editor.setSession(baseSession.current);\n            baseSession.current = null;\n            setCode(editor.getSession().getValue());\n            if(outgoingMode === \"snippets\"){}\n            try{\n              const snippetsPlusMinus = snippetText.split(\"###~~~\")[1];\n              const [snippetsPlus, snippetsMinus] = snippetsPlusMinus.split(\"###---\");\n              const snippetsToAdd = snippetsPlus.split(\"###+++\")[1];\n              const snippetsToRemove = snippetsMinus;\n              const langMode = editor.getSession().$modeId.split(\"/\").pop();\n              setSnippetAddRemove({[langMode] : [snippetAddRemove[langMode][0] + snippetsToAdd, snippetAddRemove[langMode][1] + snippetsToRemove]});\n            } catch (error) {\n              editor.execCommand(\"infoMessage\",{text: \"error parsing file, restoring original file\", timeout: 2000, classToggle: \"show\"});\n            }\n          }\n        } else {\n          const langMode = editor.getSession().$modeId.split(\"/\").pop()\n          const snippetConcatText = `\\n###~~~#(DO NOT EDIT THIS LINE)\n# Commented out above are all the snippets that are currently\n# registered for ${args['lang']} mode.\n\\n\\n###+++#(DO NOT EDIT THIS LINE) \\n# Put the snippets you want to add below this line.\\n\\n\\n\\n\n\\n\\n\\n###---#(DO NOT EDIT THIS LINE) \\n# Put the snippets you want to remove below this line.\\n\\n\\n\\n\\n\\n\\n`;\n          const snippetText = \"#\" + createSnippets(snippetManager.snippetMap[langMode].map((snip: any) => ({name: snip.name, code: snip.content}))).replace(/\\n/g, \"\\n#\") + snippetConcatText;\n          // snippetManager.files[editor.getSession().$modeId].snippetText\n          const lineCount = (snippetText.match(/\\n/g) || []).length;\n          baseSession.current = editor.getSession();\n          const snippetsSession = ace.createEditSession(snippetText, \"ace/mode/snippets\");\n          editor.setSession(snippetsSession);\n          const cursorPos = {row: (lineCount - 15)>0? lineCount - 15 : 0, column: 0};\n          editor.moveCursorTo(cursorPos.row, cursorPos.column);\n          editor.renderer.scrollCursorIntoView(cursorPos, 0.5);\n        }\n      }\n    },\n    {\n      name: 'editKeyBindings',\n      description: \"Edit keybindings\",\n      bindKey: { win: 'Ctrl-Alt-B', mac: 'Command-Alt-B' },\n      exec: (editor: any) => {\n        ace.require('ace/autocomplete').Autocomplete.for(editor);\n        if(baseSession.current){\n          const outgoingMode = editor.getSession().$modeId.split(\"/\").pop();\n          if(outgoingMode === \"json\"){\n            const keybindingsJSON = editor.getSession().getValue();\n            editor.setSession(baseSession.current);\n            baseSession.current = null;\n            setCode(editor.getSession().getValue());\n            try{\n              setKeybindingAddRemove(JSON.parse(keybindingsJSON));\n            } catch (error) {\n              editor.execCommand(\"infoMessage\",{text: \"error parsing file, restoring original file\", timeout: 2000, classToggle: \"show\"});\n            }\n          }\n        } else {\n          const keybindings = {commands: {}, completer: {}};\n          if(editor.completer && editor.completer.keyboardHandler.commands){\n            keybindings.completer = Object.keys(editor.completer.keyboardHandler.commands).map((key: any) => ({bindkey: editor.completer.keyboardHandler.commands[key].bindKey ?? \"\", name: editor.completer.keyboardHandler.commands[key].name}));\n          }\n          if(editor.commands.commands){\n            keybindings.commands = Object.keys(editor.commands.commands).map((key: any) => ({bindkey: editor.commands.commands[key].bindKey ?? \"\", name: editor.commands.commands[key].name}));\n          }\n          const keybindingsJSON = JSON.stringify(keybindings, undefined, 2);\n          baseSession.current = editor.getSession();\n          const keybindingsSession = ace.createEditSession(keybindingsJSON, \"ace/mode/json\");\n          editor.setSession(keybindingsSession);\n        }\n      }\n    },\n    {\n      name: 'exitSession', //name for the key binding.\n      bindKey: { win: 'Esc', mac: 'Esc' },\n      description: \"Return to main session (keep changes)\", //description of the command\n      exec: (editor: any) => {\n        if(baseSession.current){\n          const mode = editor.getSession().$modeId.split(\"/\").pop();\n          if (mode === \"snippets\")\n            editor.execCommand(\"editSnippets\");\n          else if (mode === \"json\")\n            editor.execCommand(\"editKeyBindings\");\n        }\n      }\n    },\n    {\n      name: 'abandonSession', //name for the key binding.\n      bindKey: { win: 'Ctrl-Alt-Esc', mac: 'Command-Alt-Esc' },\n      description: \"Return to main session (discard changes)\", //description of the command\n      exec: (editor: any) => {\n        if(baseSession.current){\n          editor.setSession(baseSession.current);\n          baseSession.current = null;\n          setCode(editor.getSession().getValue());\n        }\n      }\n    },\n    {\n      name: 'classART', //name for the key binding.\n      description: \"Add/Remove/Toggle class for element\", //description of the command\n      exec: (editor: any, args: {targetQueryString: string, type: string, class: string}) => {\n        if(args.targetQueryString && args.type && args.class){\n          switch(args.type){\n            case \"add\":\n              document.querySelectorAll(args.targetQueryString)?.forEach((el: any) => el.classList.add(args.class));\n              break;\n            case \"remove\":\n              document.querySelectorAll(args.targetQueryString)?.forEach((el: any) => el.classList.remove(args.class));\n              break;\n            case \"toggle\":\n              document.querySelectorAll(args.targetQueryString)?.forEach((el: any) => el.classList.toggle(args.class));\n              break;\n            default:\n              break;\n          }\n        }\n      }\n    },\n    {\n      name: 'conditionalExecute', //name for the key binding.\n      description: \"Execute command if element exists\", //description of the command\n      exec: (editor: any, args: {targetQueryString: string, command: any[], condition?: boolean}) => {\n        if(args.targetQueryString && args.command && Array.isArray(args.command)){\n          if(!(args.condition ?? true) === !document.querySelector(args.targetQueryString)){\n            typeof args.command[0] === \"string\" ? execute(args.command[0], args.command[1]) : console.warn(\"Editor command - conditionalExecute: improper command format! Command array must contain name of command as first element and arguments as second element.\");\n          }\n        }\n      }\n    },\n    {\n      name: 'delayedExecute', //name for the key binding.\n      description: \"Execute command after a period of time\", //description of the command\n      exec: (editor: any, args: { command: string | any[], timeout?: number}) => {\n        if(args.command){\n          if(Array.isArray(args.command) && args.command.length === 2){\n            typeof args.command[0] === \"string\" ? setTimeout(() => {execute(args.command[0], args.command[1])}, args.timeout ?? defaultProps.debounceChangePeriod) : console.warn(\"Editor command - conditionalExecute: improper command format! Command array must contain name of command as first element and arguments as second element.\");\n          }\n          else if(typeof args.command === \"string\"){\n            setTimeout(() => {\n              execute(args.command as string);\n            }, args.timeout ?? defaultProps.debounceChangePeriod);\n          }\n        }\n      }\n    }\n  ]};\n\n  const execute = (command: string, args: any = \"\") => {\n    const editor = aceEditor.current?.editor;\n    if (editor) {\n      if (!args) {\n        editor.execCommand(command)\n      }\n      else if (typeof args === \"number\" || typeof args === \"string\") {\n        editor.execCommand(command, args);\n      }\n      else if (typeof args === \"object\" && !Array.isArray(args)) {\n        var containsNumsStr = true;\n        Object.keys(args).forEach((key: any) => {\n          containsNumsStr = typeof args[key] === \"string\" || typeof args[key] === \"number\" || Array.isArray(args[key]);\n        });\n        if (Object.keys(args).length < 4 && containsNumsStr) {\n          editor.execCommand(command, args);\n        }\n      }\n      else {\n        console.warn(`Function - execute: failed to parse/execute \"${command}\" command!`);\n      }\n    }\n  }\n\n  const executeAll = (commands: any[]) => {\n    commands.forEach(singleCommand => {\n      if (Array.isArray(singleCommand)) {\n        typeof singleCommand[0] === \"string\" ? execute(singleCommand[0], singleCommand[1]) : console.warn(\"Function - executeAll: improper command format! Singular commands must contain name of command as first element and arguments as second element.\");\n      } else if (typeof singleCommand === \"string\") {\n        execute(singleCommand);\n      } else {\n        console.warn(\"Function - executeAll: failed to parse/execute command(s)!\");\n      }\n    });\n  }\n\n  const resetEditor = () => {\n    setCode(args['code']);\n  }\n\n  const unsecureCopyTextToClipboard = (text: string) => {\n    const textField = document.createElement('textarea');\n    textField.value = text;\n    document.body.appendChild(textField);\n    textField.select();\n    document.execCommand('copy');\n    textField.remove();\n  }\n\n  /**\n   * resizeObserver observes changes in elements its given to observe and is used here\n   * to communicate to streamlit the height of the component that has changed\n   * so that streamlit can adjust the iframe containing the component accordingly.\n   */\n  const resizeObserver = new ResizeObserver((entries: any) => {\n    // If we know that the body will always fully contain our component (without cutting it off)\n    // then we can use docuemnt.body height instead\n    Streamlit.setFrameHeight((entries[0].contentBoxSize.blockSize ?? entries[0].contentRect.height)); \n  })\n\n  const observe = (divElem: any) => {\n    divElem ? resizeObserver.observe(divElem as HTMLDivElement) : resizeObserver.disconnect();\n  }\n\n  // This useEffect is used to reset the editor when the code argument changes and\n  // the allow_reset argument is true. The allow_reset argument only impacts the\n  // behavior of the component when the component has a fixed key argument because\n  // changing the key argument results in the creation of a new component instance.\n  // Everything would be reset anyways.\n  useEffect(() => {\n    if (args['allow_reset'] === true && args['code'] !== code) {\n      reset.current = !reset.current;\n      resetEditor();\n    }\n  }, [args['code']]);\n\n  /**\n   * This could also be memoized but I don't think it would be necessary because its not expensive.\n   */\n  const themeChoice = () => {\n    const isDarkTheme = theme? theme.base === \"dark\" : true;\n    switch (args['theme']) {\n      case \"contrast\":\n        return isDarkTheme? \"streamlit_light\" : \"streamlit_dark\";\n      case \"light\":\n        return \"streamlit_light\";\n      case \"dark\":\n        return \"streamlit_dark\";\n      case \"default\":\n        return isDarkTheme? \"streamlit_dark\" : \"streamlit_light\";\n      default:\n        return isDarkTheme? \"streamlit_dark\" : \"streamlit_light\";\n    }\n  }\n\n  const themeProp = themeChoice();\n  const componentContainerProps = args[\"component_props\"];\n\n  const {info: infoArg, menu: menuArg, focus: focusArg, code: codeArg, ...rest} = args;\n  const editorArgsString = JSON.stringify(rest);\n  const menuArgsString = JSON.stringify(menuArg);\n  const infoArgsString = JSON.stringify(infoArg);\n  const buttonArgsString = JSON.stringify(args['buttons']);\n  const themeString = JSON.stringify(theme);\n  const snippets = JSON.stringify(snippetAddRemove);\n\n  /**\n   * This section contains the main sub-components (child components). These components are wrapped in useMemos\n   * in order to prevent unnecessary re-rendering of the components. This is listed as one of its use cases in the\n   * React docs ({@link https://beta.reactjs.org/reference/react/useMemo#skipping-re-rendering-of-components Skipping re-rendering of components})\n   *\n   * This component is the editor component that is rendered. It is only re-rendered when\n   * certain properties change. This is important because we should account for the possibility that the editor \n   * is being used at any given moment. Unnecessary and frequent re-rendering of the editor (for outside reasons\n   * especially) can impact user experience and responsiveness.\n   */\n  const editor = useMemo(() => {\n    const keybindings = JSON.stringify(keybindingAddRemove);\n    const revertedArgs = JSON.parse(editorArgsString);\n\n    // Create commands for each button\n    if(revertedArgs['buttons'].length > 0) {\n      revertedArgs['buttons'].forEach((button: any) => {\n          commands.commands = [...commands.commands, {\n            name: (button.name as string).trim().replace(/\\s+/g, '_') + '_button',\n            bindKey: button.bindKey,\n            description: \"Execute '\" + button.name + \"' button command(s)\",\n            exec: () => {\n            executeAll(button.commands);\n          }}];\n      });\n    }\n\n    let heightProps = {};\n    if(typeof revertedArgs['height'] === \"number\") \n      heightProps = {minLines: 1, maxLines: revertedArgs['height']};\n    else if(typeof revertedArgs['height'] === \"string\") \n      heightProps = {height: revertedArgs['height']};\n    else if(Array.isArray(revertedArgs['height']) && revertedArgs['height'].length === 2) \n      heightProps = {minLines: revertedArgs['height'][0], maxLines: revertedArgs['height'][1]};\n\n    const aceEditorProps = { ...defaultEditorProps, ...revertedArgs['editor_props'] };\n    const aceOptions = { ...defaultOptions, ...revertedArgs['options'] };\n    const partProps = { setOptions: aceOptions, editorProps: aceEditorProps };\n    const aceProps = { ...defaultProps, ...partProps,...heightProps, ...revertedArgs['props'] };\n\n    /**\n     * TODO: Remove props from aceProps that we don't want to allow user access to.\n     */\n    return (\n        <Editor\n         editorRef={aceEditor}\n         code={code} \n         lang={revertedArgs['lang']} \n         theme={themeProp} \n         shortcuts={revertedArgs['shortcuts']} \n         snippetString={snippets} \n         ghostText={revertedArgs['ghost_text']}\n         commands={commands.commands} \n         completions={revertedArgs['completions']}\n         replaceCompleter={revertedArgs['replace_completer']}\n         keybindingString={keybindings} \n         props={aceProps} \n         onChange={onChangeHandler}\n         onSelectionChange={onSelectionChangeHandler}\n         onBlur={onEditorBlur}  \n        />\n      );\n  }, [editorArgsString, themeProp, snippets, keybindingAddRemove, reset.current]);\n\n  const buttons = useMemo(() => {\n    const revertedButtons = JSON.parse(buttonArgsString);\n    const revertedTheme = JSON.parse(themeString);\n    const customButtonTheme = revertedTheme ?? {};\n    const customButtons = {buttons: (revertedButtons ?? []) as customButton[], name: \"customButtons\"} as buttonGroup;\n    return (\n      < ButtonSet\n       buttonGroup={customButtons} \n       theme={customButtonTheme} \n       themeProp={themeProp} \n       executeAll={(commands) => executeAll(commands)} />\n    );\n  }, [buttonArgsString, themeString, themeProp]);\n\n  const menu = useMemo(() => {\n    const revertedMenu = JSON.parse(menuArgsString);\n    const revertedTheme = JSON.parse(themeString);\n    const menuTheme = revertedTheme ?? {};\n    return (\n      <ButtonMenu\n       menu={revertedMenu} \n       theme={menuTheme} \n       themeProp={themeProp} \n       executeAll={(commands) => executeAll(commands)} />\n    );\n  }, [menuArgsString, themeString, themeProp]);\n\n  const info = useMemo(() => {\n    const revertedInfo = JSON.parse(infoArgsString);\n    const revertedTheme = JSON.parse(themeString);\n    const infoTheme = revertedTheme ?? {};\n    return (\n      <InfoBar\n       infoRef={infoTextRef} \n       info={revertedInfo} \n       theme={infoTheme} />\n    );\n  }, [infoArgsString, themeString]);\n\n  const globalCSS = useMemo(() => {\n    return (\n      <GlobalCSS isDisabled={disabled} inject={componentContainerProps.globalCSS} />\n    );\n  }, [componentContainerProps.globalCSS, disabled]);\n\n  return (\n    <StyledCodeEditor ref={observe} style={componentContainerProps.style} css={componentContainerProps.css} className={\"streamlit_code-editor \" + theme?.base ?? \"\" } >\n      {globalCSS}\n      {editor}\n      {buttons}\n      {menu}\n      {info}\n    </StyledCodeEditor>\n  )\n}\n\nexport default withStreamlitConnection(CodeEditor)\n","// / <reference types=\"styled-components/cssprop\" />\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport CodeEditor from \"./CodeEditor\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <CodeEditor />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"]}}