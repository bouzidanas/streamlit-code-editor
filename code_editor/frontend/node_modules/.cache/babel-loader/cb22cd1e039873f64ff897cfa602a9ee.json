{"ast":null,"code":"ace.define(\"ace/autocomplete/popup\", [\"require\", \"exports\", \"module\", \"ace/virtual_renderer\", \"ace/editor\", \"ace/range\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/config\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Renderer = require(\"../virtual_renderer\").VirtualRenderer;\n  var Editor = require(\"../editor\").Editor;\n  var Range = require(\"../range\").Range;\n  var event = require(\"../lib/event\");\n  var lang = require(\"../lib/lang\");\n  var dom = require(\"../lib/dom\");\n  var nls = require(\"../config\").nls;\n  var userAgent = require(\"./../lib/useragent\");\n  var getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n  };\n  var popupAriaRole = userAgent.isSafari ? \"menu\" : \"listbox\";\n  var optionAriaRole = userAgent.isSafari ? \"menuitem\" : \"option\";\n  var ariaActiveState = userAgent.isSafari ? \"aria-current\" : \"aria-selected\";\n  var $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n  };\n  var AcePopup = /** @class */function () {\n    function AcePopup(parentNode) {\n      var el = dom.createElement(\"div\");\n      var popup = $singleLineEditor(el);\n      if (parentNode) {\n        parentNode.appendChild(el);\n      }\n      el.style.display = \"none\";\n      popup.renderer.content.style.cursor = \"default\";\n      popup.renderer.setStyle(\"ace_autocomplete\");\n      popup.renderer.$textLayer.element.setAttribute(\"role\", popupAriaRole);\n      popup.renderer.$textLayer.element.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.aria-roledescription\", \"Autocomplete suggestions\"));\n      popup.renderer.$textLayer.element.setAttribute(\"aria-label\", nls(\"autocomplete.popup.aria-label\", \"Autocomplete suggestions\"));\n      popup.renderer.textarea.setAttribute(\"aria-hidden\", \"true\");\n      popup.setOption(\"displayIndentGuides\", false);\n      popup.setOption(\"dragDelay\", 150);\n      var noop = function () {};\n      popup.focus = noop;\n      popup.$isFocused = true;\n      popup.renderer.$cursorLayer.restartTimer = noop;\n      popup.renderer.$cursorLayer.element.style.opacity = \"0\";\n      popup.renderer.$maxLines = 8;\n      popup.renderer.$keepTextAreaAtCursor = false;\n      popup.setHighlightActiveLine(false);\n      popup.session.highlight(\"\");\n      popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n      popup.on(\"mousedown\", function (e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n      });\n      var lastMouseEvent;\n      var hoverMarker = new Range(-1, 0, -1, Infinity);\n      var selectionMarker = new Range(-1, 0, -1, Infinity);\n      selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n      popup.setSelectOnHover = function (val) {\n        if (!val) {\n          hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        } else if (hoverMarker.id) {\n          popup.session.removeMarker(hoverMarker.id);\n          hoverMarker.id = null;\n        }\n      };\n      popup.setSelectOnHover(false);\n      popup.on(\"mousemove\", function (e) {\n        if (!lastMouseEvent) {\n          lastMouseEvent = e;\n          return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n          return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        popup.isMouseOver = true;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n          if (!hoverMarker.id) popup.setRow(row);\n          setHoverMarker(row);\n        }\n      });\n      popup.renderer.on(\"beforeRender\", function () {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n          lastMouseEvent.$pos = null;\n          var row = lastMouseEvent.getDocumentPosition().row;\n          if (!hoverMarker.id) popup.setRow(row);\n          setHoverMarker(row, true);\n        }\n      });\n      popup.renderer.on(\"afterRender\", function () {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = /** @type {HTMLElement|null} */t.element.childNodes[row - t.config.firstRow];\n        var el = document.activeElement; // Active element is textarea of main editor\n        if (selected !== popup.selectedNode && popup.selectedNode) {\n          dom.removeCssClass(popup.selectedNode, \"ace_selected\");\n          el.removeAttribute(\"aria-activedescendant\");\n          popup.selectedNode.removeAttribute(ariaActiveState);\n          popup.selectedNode.removeAttribute(\"id\");\n        }\n        popup.selectedNode = selected;\n        if (selected) {\n          dom.addCssClass(selected, \"ace_selected\");\n          var ariaId = getAriaId(row);\n          selected.id = ariaId;\n          t.element.setAttribute(\"aria-activedescendant\", ariaId);\n          el.setAttribute(\"aria-activedescendant\", ariaId);\n          selected.setAttribute(\"role\", optionAriaRole);\n          selected.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.item.aria-roledescription\", \"item\"));\n          selected.setAttribute(\"aria-label\", popup.getData(row).caption || popup.getData(row).value);\n          selected.setAttribute(\"aria-setsize\", popup.data.length);\n          selected.setAttribute(\"aria-posinset\", row + 1);\n          selected.setAttribute(\"aria-describedby\", \"doc-tooltip\");\n          selected.setAttribute(ariaActiveState, \"true\");\n        }\n      });\n      var hideHoverMarker = function () {\n        setHoverMarker(-1);\n      };\n      var setHoverMarker = function (row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n          hoverMarker.start.row = hoverMarker.end.row = row;\n          if (!suppressRedraw) popup.session._emit(\"changeBackMarker\");\n          popup._emit(\"changeHoverMarker\");\n        }\n      };\n      popup.getHoveredRow = function () {\n        return hoverMarker.start.row;\n      };\n      event.addListener(popup.container, \"mouseout\", function () {\n        popup.isMouseOver = false;\n        hideHoverMarker();\n      });\n      popup.on(\"hide\", hideHoverMarker);\n      popup.on(\"changeSelection\", hideHoverMarker);\n      popup.session.doc.getLength = function () {\n        return popup.data.length;\n      };\n      popup.session.doc.getLine = function (i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\") return data;\n        return data && data.value || \"\";\n      };\n      var bgTokenizer = popup.session.bgTokenizer;\n      bgTokenizer.$tokenizeRow = function (row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data) return tokens;\n        if (typeof data == \"string\") data = {\n          value: data\n        };\n        var caption = data.caption || data.value || data.name;\n        function addToken(value, className) {\n          value && tokens.push({\n            type: (data.className || \"\") + (className || \"\"),\n            value: value\n          });\n        }\n        var lower = caption.toLowerCase();\n        var filterText = (popup.filterText || \"\").toLowerCase();\n        var lastIndex = 0;\n        var lastI = 0;\n        for (var i = 0; i <= filterText.length; i++) {\n          if (i != lastI && (data.matchMask & 1 << i || i == filterText.length)) {\n            var sub = filterText.slice(lastI, i);\n            lastI = i;\n            var index = lower.indexOf(sub, lastIndex);\n            if (index == -1) continue;\n            addToken(caption.slice(lastIndex, index), \"\");\n            lastIndex = index + sub.length;\n            addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n          }\n        }\n        addToken(caption.slice(lastIndex, caption.length), \"\");\n        tokens.push({\n          type: \"completion-spacer\",\n          value: \" \"\n        });\n        if (data.meta) tokens.push({\n          type: \"completion-meta\",\n          value: data.meta\n        });\n        if (data.message) tokens.push({\n          type: \"completion-message\",\n          value: data.message\n        });\n        return tokens;\n      };\n      bgTokenizer.$updateOnChange = noop;\n      bgTokenizer.start = noop;\n      popup.session.$computeWidth = function () {\n        return this.screenWidth = 0;\n      };\n      popup.isOpen = false;\n      popup.isTopdown = false;\n      popup.autoSelect = true;\n      popup.filterText = \"\";\n      popup.isMouseOver = false;\n      popup.data = [];\n      popup.setData = function (list, filterText) {\n        popup.filterText = filterText || \"\";\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n      };\n      popup.getData = function (row) {\n        return popup.data[row];\n      };\n      popup.getRow = function () {\n        return selectionMarker.start.row;\n      };\n      popup.setRow = function (line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, line));\n        if (selectionMarker.start.row != line) {\n          popup.selection.clearSelection();\n          selectionMarker.start.row = selectionMarker.end.row = line || 0;\n          popup.session._emit(\"changeBackMarker\");\n          popup.moveCursorTo(line || 0, 0);\n          if (popup.isOpen) popup._signal(\"select\");\n        }\n      };\n      popup.on(\"changeSelection\", function () {\n        if (popup.isOpen) popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n      });\n      popup.hide = function () {\n        this.container.style.display = \"none\";\n        popup.anchorPos = null;\n        popup.anchor = null;\n        if (popup.isOpen) {\n          popup.isOpen = false;\n          this._signal(\"hide\");\n        }\n      };\n      popup.tryShow = function (pos, lineHeight, anchor, forceShow) {\n        if (!forceShow && popup.isOpen && popup.anchorPos && popup.anchor && popup.anchorPos.top === pos.top && popup.anchorPos.left === pos.left && popup.anchor === anchor) {\n          return true;\n        }\n        var el = this.container;\n        var screenHeight = window.innerHeight;\n        var screenWidth = window.innerWidth;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var dims = {\n          top: 0,\n          bottom: 0,\n          left: 0\n        };\n        var spaceBelow = screenHeight - pos.top - 3 * this.$borderSize - lineHeight;\n        var spaceAbove = pos.top - 3 * this.$borderSize;\n        if (!anchor) {\n          if (spaceAbove <= spaceBelow || spaceBelow >= maxH) {\n            anchor = \"bottom\";\n          } else {\n            anchor = \"top\";\n          }\n        }\n        if (anchor === \"top\") {\n          dims.bottom = pos.top - this.$borderSize;\n          dims.top = dims.bottom - maxH;\n        } else if (anchor === \"bottom\") {\n          dims.top = pos.top + lineHeight + this.$borderSize;\n          dims.bottom = dims.top + maxH;\n        }\n        var fitsX = dims.top >= 0 && dims.bottom <= screenHeight;\n        if (!forceShow && !fitsX) {\n          return false;\n        }\n        if (!fitsX) {\n          if (anchor === \"top\") {\n            renderer.$maxPixelHeight = spaceAbove;\n          } else {\n            renderer.$maxPixelHeight = spaceBelow;\n          }\n        } else {\n          renderer.$maxPixelHeight = null;\n        }\n        if (anchor === \"top\") {\n          el.style.top = \"\";\n          el.style.bottom = screenHeight - dims.bottom + \"px\";\n          popup.isTopdown = false;\n        } else {\n          el.style.top = dims.top + \"px\";\n          el.style.bottom = \"\";\n          popup.isTopdown = true;\n        }\n        el.style.display = \"\";\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth) left = screenWidth - el.offsetWidth;\n        el.style.left = left + \"px\";\n        el.style.right = \"\";\n        if (!popup.isOpen) {\n          popup.isOpen = true;\n          this._signal(\"show\");\n          lastMouseEvent = null;\n        }\n        popup.anchorPos = pos;\n        popup.anchor = anchor;\n        return true;\n      };\n      popup.show = function (pos, lineHeight, topdownOnly) {\n        this.tryShow(pos, lineHeight, topdownOnly ? \"bottom\" : undefined, true);\n      };\n      popup.goTo = function (where) {\n        var row = this.getRow();\n        var max = this.session.getLength() - 1;\n        switch (where) {\n          case \"up\":\n            row = row <= 0 ? max : row - 1;\n            break;\n          case \"down\":\n            row = row >= max ? -1 : row + 1;\n            break;\n          case \"start\":\n            row = 0;\n            break;\n          case \"end\":\n            row = max;\n            break;\n        }\n        this.setRow(row);\n      };\n      popup.getTextLeftOffset = function () {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n      };\n      popup.$imageSize = 0;\n      popup.$borderSize = 1;\n      return popup;\n    }\n    return AcePopup;\n  }();\n  dom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin-left: 0.9em;\\n}\\n.ace_completion-message {\\n    margin-left: 0.9em;\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\\n.ace_autocomplete .ace_text-layer  {\\n    width: calc(100% - 8px);\\n}\\n.ace_autocomplete .ace_line {\\n    display: flex;\\n    align-items: center;\\n}\\n.ace_autocomplete .ace_line > * {\\n    min-width: 0;\\n    flex: 0 0 auto;\\n}\\n.ace_autocomplete .ace_line .ace_ {\\n    flex: 0 1 auto;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ace_autocomplete .ace_completion-spacer {\\n    flex: 1;\\n}\\n.ace_autocomplete.ace_loading:after  {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0px;\\n    height: 2px;\\n    width: 8%;\\n    background: blue;\\n    z-index: 100;\\n    animation: ace_progress 3s infinite linear;\\n    animation-delay: 300ms;\\n    transform: translateX(-100%) scaleX(1);\\n}\\n@keyframes ace_progress {\\n    0% { transform: translateX(-100%) scaleX(1) }\\n    50% { transform: translateX(625%) scaleX(2) } \\n    100% { transform: translateX(1500%) scaleX(3) } \\n}\\n@media (prefers-reduced-motion) {\\n    .ace_autocomplete.ace_loading:after {\\n        transform: translateX(625%) scaleX(2);\\n        animation: none;\\n     }\\n}\\n\", \"autocompletion.css\", false);\n  exports.AcePopup = AcePopup;\n  exports.$singleLineEditor = $singleLineEditor;\n  exports.getAriaId = getAriaId;\n});\nace.define(\"ace/snippets\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/range\", \"ace/range_list\", \"ace/keyboard/hash_handler\", \"ace/tokenizer\", \"ace/clipboard\", \"ace/editor\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"./lib/dom\");\n  var oop = require(\"./lib/oop\");\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var lang = require(\"./lib/lang\");\n  var Range = require(\"./range\").Range;\n  var RangeList = require(\"./range_list\").RangeList;\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var Tokenizer = require(\"./tokenizer\").Tokenizer;\n  var clipboard = require(\"./clipboard\");\n  var VARIABLES = {\n    CURRENT_WORD: function (editor) {\n      return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n      var text = editor.session.getTextRange();\n      if (indentation) return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n      return text;\n    },\n    CURRENT_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n      return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n      return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n      return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n      return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n      return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n      return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) {\n      return \"/not implemented.txt\";\n    },\n    WORKSPACE_NAME: function () {\n      return \"Unknown\";\n    },\n    FULLNAME: function () {\n      return \"Unknown\";\n    },\n    BLOCK_COMMENT_START: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, {\n      year: \"numeric\"\n    }),\n    CURRENT_YEAR_SHORT: date.bind(null, {\n      year: \"2-digit\"\n    }),\n    CURRENT_MONTH: date.bind(null, {\n      month: \"numeric\"\n    }),\n    CURRENT_MONTH_NAME: date.bind(null, {\n      month: \"long\"\n    }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, {\n      month: \"short\"\n    }),\n    CURRENT_DATE: date.bind(null, {\n      day: \"2-digit\"\n    }),\n    CURRENT_DAY_NAME: date.bind(null, {\n      weekday: \"long\"\n    }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, {\n      weekday: \"short\"\n    }),\n    CURRENT_HOUR: date.bind(null, {\n      hour: \"2-digit\",\n      hour12: false\n    }),\n    CURRENT_MINUTE: date.bind(null, {\n      minute: \"2-digit\"\n    }),\n    CURRENT_SECOND: date.bind(null, {\n      second: \"2-digit\"\n    })\n  };\n  VARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\n  function date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n  }\n  var SnippetManager = /** @class */function () {\n    function SnippetManager() {\n      this.snippetMap = {};\n      this.snippetNameMap = {};\n      this.variables = VARIABLES;\n    }\n    SnippetManager.prototype.getTokenizer = function () {\n      return SnippetManager[\"$tokenizer\"] || this.createTokenizer();\n    };\n    SnippetManager.prototype.createTokenizer = function () {\n      function TabstopToken(str) {\n        str = str.substr(1);\n        if (/^\\d+$/.test(str)) return [{\n          tabstopId: parseInt(str, 10)\n        }];\n        return [{\n          text: str\n        }];\n      }\n      function escape(ch) {\n        return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n      }\n      var formatMatcher = {\n        regex: \"/(\" + escape(\"/\") + \"+)/\",\n        onMatch: function (val, state, stack) {\n          var ts = stack[0];\n          ts.fmtString = true;\n          ts.guard = val.slice(1, -1);\n          ts.flag = \"\";\n          return \"\";\n        },\n        next: \"formatString\"\n      };\n      SnippetManager[\"$tokenizer\"] = new Tokenizer({\n        start: [{\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) {\n              val = ch;\n            } else if (\"`$\\\\\".indexOf(ch) != -1) {\n              val = ch;\n            }\n            return [val];\n          }\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            return [stack.length ? stack.shift() : val];\n          }\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: TabstopToken\n        }, {\n          regex: /\\$\\{[\\dA-Z_a-z]+/,\n          onMatch: function (str, state, stack) {\n            var t = TabstopToken(str.substr(1));\n            stack.unshift(t[0]);\n            return t;\n          },\n          next: \"snippetVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }],\n        snippetVar: [{\n          regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\",\n          onMatch: function (val, state, stack) {\n            var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n              return operator.length == 2 ? operator[1] : \"\\x00\";\n            }).split(\"\\x00\").map(function (value) {\n              return {\n                value: value\n              };\n            });\n            stack[0].choices = choices;\n            return [choices[0]];\n          },\n          next: \"start\"\n        }, formatMatcher, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"start\"\n        }],\n        formatString: [{\n          regex: /:/,\n          onMatch: function (val, state, stack) {\n            if (stack.length && stack[0].expectElse) {\n              stack[0].expectElse = false;\n              stack[0].ifEnd = {\n                elseEnd: stack[0]\n              };\n              return [stack[0].ifEnd];\n            }\n            return \":\";\n          }\n        }, {\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) val = ch;else if (\"`$\\\\\".indexOf(ch) != -1) val = ch;else if (ch == \"n\") val = \"\\n\";else if (ch == \"t\") val = \"\\t\";else if (\"ulULE\".indexOf(ch) != -1) val = {\n              changeCase: ch,\n              local: ch > \"a\"\n            };\n            return [val];\n          }\n        }, {\n          regex: \"/\\\\w*}\",\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            if (next) next.flag = val.slice(1, -1);\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: function (val, state, stack) {\n            return [{\n              text: val.slice(1)\n            }];\n          }\n        }, {\n          regex: /\\${\\w+/,\n          onMatch: function (val, state, stack) {\n            var token = {\n              text: val.slice(2)\n            };\n            stack.unshift(token);\n            return [token];\n          },\n          next: \"formatStringVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }],\n        formatStringVar: [{\n          regex: /:\\/\\w+}/,\n          onMatch: function (val, state, stack) {\n            var ts = stack[0];\n            ts.formatFunction = val.slice(2, -1);\n            return [stack.shift()];\n          },\n          next: \"formatString\"\n        }, formatMatcher, {\n          regex: /:[\\?\\-+]?/,\n          onMatch: function (val, state, stack) {\n            if (val[1] == \"+\") stack[0].ifEnd = stack[0];\n            if (val[1] == \"?\") stack[0].expectElse = true;\n          },\n          next: \"formatString\"\n        }, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"formatString\"\n        }]\n      });\n      return SnippetManager[\"$tokenizer\"];\n    };\n    SnippetManager.prototype.tokenizeTmSnippet = function (str, startState) {\n      return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n        return x.value || x;\n      });\n    };\n    SnippetManager.prototype.getVariableValue = function (editor, name, indentation) {\n      if (/^\\d+$/.test(name)) return (this.variables.__ || {})[name] || \"\";\n      if (/^[A-Z]\\d+$/.test(name)) return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n      name = name.replace(/^TM_/, \"\");\n      if (!this.variables.hasOwnProperty(name)) return \"\";\n      var value = this.variables[name];\n      if (typeof value == \"function\") value = this.variables[name](editor, name, indentation);\n      return value == null ? \"\" : value;\n    };\n    SnippetManager.prototype.tmStrFormat = function (str, ch, editor) {\n      if (!ch.fmt) return str;\n      var flag = ch.flag || \"\";\n      var re = ch.guard;\n      re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n      var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n      var _self = this;\n      var formatted = str.replace(re, function () {\n        var oldArgs = _self.variables.__;\n        _self.variables.__ = [].slice.call(arguments);\n        var fmtParts = _self.resolveVariables(fmtTokens, editor);\n        var gChangeCase = \"E\";\n        for (var i = 0; i < fmtParts.length; i++) {\n          var ch = fmtParts[i];\n          if (typeof ch == \"object\") {\n            fmtParts[i] = \"\";\n            if (ch.changeCase && ch.local) {\n              var next = fmtParts[i + 1];\n              if (next && typeof next == \"string\") {\n                if (ch.changeCase == \"u\") fmtParts[i] = next[0].toUpperCase();else fmtParts[i] = next[0].toLowerCase();\n                fmtParts[i + 1] = next.substr(1);\n              }\n            } else if (ch.changeCase) {\n              gChangeCase = ch.changeCase;\n            }\n          } else if (gChangeCase == \"U\") {\n            fmtParts[i] = ch.toUpperCase();\n          } else if (gChangeCase == \"L\") {\n            fmtParts[i] = ch.toLowerCase();\n          }\n        }\n        _self.variables.__ = oldArgs;\n        return fmtParts.join(\"\");\n      });\n      return formatted;\n    };\n    SnippetManager.prototype.tmFormatFunction = function (str, ch, editor) {\n      if (ch.formatFunction == \"upcase\") return str.toUpperCase();\n      if (ch.formatFunction == \"downcase\") return str.toLowerCase();\n      return str;\n    };\n    SnippetManager.prototype.resolveVariables = function (snippet, editor) {\n      var result = [];\n      var indentation = \"\";\n      var afterNewLine = true;\n      for (var i = 0; i < snippet.length; i++) {\n        var ch = snippet[i];\n        if (typeof ch == \"string\") {\n          result.push(ch);\n          if (ch == \"\\n\") {\n            afterNewLine = true;\n            indentation = \"\";\n          } else if (afterNewLine) {\n            indentation = /^\\t*/.exec(ch)[0];\n            afterNewLine = /\\S/.test(ch);\n          }\n          continue;\n        }\n        if (!ch) continue;\n        afterNewLine = false;\n        if (ch.fmtString) {\n          var j = snippet.indexOf(ch, i + 1);\n          if (j == -1) j = snippet.length;\n          ch.fmt = snippet.slice(i + 1, j);\n          i = j;\n        }\n        if (ch.text) {\n          var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n          if (ch.fmtString) value = this.tmStrFormat(value, ch, editor);\n          if (ch.formatFunction) value = this.tmFormatFunction(value, ch, editor);\n          if (value && !ch.ifEnd) {\n            result.push(value);\n            gotoNext(ch);\n          } else if (!value && ch.ifEnd) {\n            gotoNext(ch.ifEnd);\n          }\n        } else if (ch.elseEnd) {\n          gotoNext(ch.elseEnd);\n        } else if (ch.tabstopId != null) {\n          result.push(ch);\n        } else if (ch.changeCase != null) {\n          result.push(ch);\n        }\n      }\n      function gotoNext(ch) {\n        var i1 = snippet.indexOf(ch, i + 1);\n        if (i1 != -1) i = i1;\n      }\n      return result;\n    };\n    SnippetManager.prototype.getDisplayTextForSnippet = function (editor, snippetText) {\n      var processedSnippet = processSnippetText.call(this, editor, snippetText);\n      return processedSnippet.text;\n    };\n    SnippetManager.prototype.insertSnippetForSelection = function (editor, snippetText, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var processedSnippet = processSnippetText.call(this, editor, snippetText, options);\n      var range = editor.getSelectionRange();\n      var end = editor.session.replace(range, processedSnippet.text);\n      var tabstopManager = new TabstopManager(editor);\n      var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n      tabstopManager.addTabstops(processedSnippet.tabstops, range.start, end, selectionId);\n    };\n    SnippetManager.prototype.insertSnippet = function (editor, snippetText, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var self = this;\n      if (editor.inVirtualSelectionMode) return self.insertSnippetForSelection(editor, snippetText, options);\n      editor.forEachSelection(function () {\n        self.insertSnippetForSelection(editor, snippetText, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (editor.tabstopManager) editor.tabstopManager.tabNext();\n    };\n    SnippetManager.prototype.$getScope = function (editor) {\n      var scope = editor.session.$mode.$id || \"\";\n      scope = scope.split(\"/\").pop();\n      if (scope === \"html\" || scope === \"php\") {\n        if (scope === \"php\" && !editor.session.$mode.inlinePhp) scope = \"html\";\n        var c = editor.getCursorPosition();\n        var state = editor.session.getState(c.row);\n        if (typeof state === \"object\") {\n          state = state[0];\n        }\n        if (state.substring) {\n          if (state.substring(0, 3) == \"js-\") scope = \"javascript\";else if (state.substring(0, 4) == \"css-\") scope = \"css\";else if (state.substring(0, 4) == \"php-\") scope = \"php\";\n        }\n      }\n      return scope;\n    };\n    SnippetManager.prototype.getActiveScopes = function (editor) {\n      var scope = this.$getScope(editor);\n      var scopes = [scope];\n      var snippetMap = this.snippetMap;\n      if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n        scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n      }\n      scopes.push(\"_\");\n      return scopes;\n    };\n    SnippetManager.prototype.expandWithTab = function (editor, options) {\n      var self = this;\n      var result = editor.forEachSelection(function () {\n        return self.expandSnippetForSelection(editor, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (result && editor.tabstopManager) editor.tabstopManager.tabNext();\n      return result;\n    };\n    SnippetManager.prototype.expandSnippetForSelection = function (editor, options) {\n      var cursor = editor.getCursorPosition();\n      var line = editor.session.getLine(cursor.row);\n      var before = line.substring(0, cursor.column);\n      var after = line.substr(cursor.column);\n      var snippetMap = this.snippetMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = this.findMatchingSnippet(snippets, before, after);\n        return !!snippet;\n      }, this);\n      if (!snippet) return false;\n      if (options && options.dryRun) return true;\n      editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n      this.variables.M__ = snippet.matchBefore;\n      this.variables.T__ = snippet.matchAfter;\n      this.insertSnippetForSelection(editor, snippet.content);\n      this.variables.M__ = this.variables.T__ = null;\n      return true;\n    };\n    SnippetManager.prototype.findMatchingSnippet = function (snippetList, before, after) {\n      for (var i = snippetList.length; i--;) {\n        var s = snippetList[i];\n        if (s.startRe && !s.startRe.test(before)) continue;\n        if (s.endRe && !s.endRe.test(after)) continue;\n        if (!s.startRe && !s.endRe) continue;\n        s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n        s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n        s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n        s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n        return s;\n      }\n    };\n    SnippetManager.prototype.register = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      var self = this;\n      if (!snippets) snippets = [];\n      function wrapRegexp(src) {\n        if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src)) src = \"(?:\" + src + \")\";\n        return src || \"\";\n      }\n      function guardedRegexp(re, guard, opening) {\n        re = wrapRegexp(re);\n        guard = wrapRegexp(guard);\n        if (opening) {\n          re = guard + re;\n          if (re && re[re.length - 1] != \"$\") re = re + \"$\";\n        } else {\n          re = re + guard;\n          if (re && re[0] != \"^\") re = \"^\" + re;\n        }\n        return new RegExp(re);\n      }\n      function addSnippet(s) {\n        if (!s.scope) s.scope = scope || \"_\";\n        scope = s.scope;\n        if (!snippetMap[scope]) {\n          snippetMap[scope] = [];\n          snippetNameMap[scope] = {};\n        }\n        var map = snippetNameMap[scope];\n        if (s.name) {\n          var old = map[s.name];\n          if (old) self.unregister(old);\n          map[s.name] = s;\n        }\n        snippetMap[scope].push(s);\n        if (s.prefix) s.tabTrigger = s.prefix;\n        if (!s.content && s.body) s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n        if (s.tabTrigger && !s.trigger) {\n          if (!s.guard && /^\\w/.test(s.tabTrigger)) s.guard = \"\\\\b\";\n          s.trigger = lang.escapeRegExp(s.tabTrigger);\n        }\n        if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard) return;\n        s.startRe = guardedRegexp(s.trigger, s.guard, true);\n        s.triggerRe = new RegExp(s.trigger);\n        s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n        s.endTriggerRe = new RegExp(s.endTrigger);\n      }\n      if (Array.isArray(snippets)) {\n        snippets.forEach(addSnippet);\n      } else {\n        Object.keys(snippets).forEach(function (key) {\n          addSnippet(snippets[key]);\n        });\n      }\n      this._signal(\"registerSnippets\", {\n        scope: scope\n      });\n    };\n    SnippetManager.prototype.unregister = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      function removeSnippet(s) {\n        var nameMap = snippetNameMap[s.scope || scope];\n        if (nameMap && nameMap[s.name]) {\n          delete nameMap[s.name];\n          var map = snippetMap[s.scope || scope];\n          var i = map && map.indexOf(s);\n          if (i >= 0) map.splice(i, 1);\n        }\n      }\n      if (snippets.content) removeSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(removeSnippet);\n    };\n    SnippetManager.prototype.parseSnippetFile = function (str) {\n      str = str.replace(/\\r/g, \"\");\n      var list = [],\n        /**@type{Snippet}*/snippet = {};\n      var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n      var m;\n      while (m = re.exec(str)) {\n        if (m[1]) {\n          try {\n            snippet = JSON.parse(m[1]);\n            list.push(snippet);\n          } catch (e) {}\n        }\n        if (m[4]) {\n          snippet.content = m[4].replace(/^\\t/gm, \"\");\n          list.push(snippet);\n          snippet = {};\n        } else {\n          var key = m[2],\n            val = m[3];\n          if (key == \"regex\") {\n            var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n            snippet.guard = guardRe.exec(val)[1];\n            snippet.trigger = guardRe.exec(val)[1];\n            snippet.endTrigger = guardRe.exec(val)[1];\n            snippet.endGuard = guardRe.exec(val)[1];\n          } else if (key == \"snippet\") {\n            snippet.tabTrigger = val.match(/^\\S*/)[0];\n            if (!snippet.name) snippet.name = val;\n          } else if (key) {\n            snippet[key] = val;\n          }\n        }\n      }\n      return list;\n    };\n    SnippetManager.prototype.getSnippetByName = function (name, editor) {\n      var snippetMap = this.snippetNameMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = snippets[name];\n        return !!snippet;\n      }, this);\n      return snippet;\n    };\n    return SnippetManager;\n  }();\n  oop.implement(SnippetManager.prototype, EventEmitter);\n  var processSnippetText = function (editor, snippetText, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var cursor = editor.getCursorPosition();\n    var line = editor.session.getLine(cursor.row);\n    var tabString = editor.session.getTabString();\n    var indentString = line.match(/^\\s*/)[0];\n    if (cursor.column < indentString.length) indentString = indentString.slice(0, cursor.column);\n    snippetText = snippetText.replace(/\\r/g, \"\");\n    var tokens = this.tokenizeTmSnippet(snippetText);\n    tokens = this.resolveVariables(tokens, editor);\n    tokens = tokens.map(function (x) {\n      if (x == \"\\n\" && !options.excludeExtraIndent) return x + indentString;\n      if (typeof x == \"string\") return x.replace(/\\t/g, tabString);\n      return x;\n    });\n    var tabstops = [];\n    tokens.forEach(function (p, i) {\n      if (typeof p != \"object\") return;\n      var id = p.tabstopId;\n      var ts = tabstops[id];\n      if (!ts) {\n        ts = tabstops[id] = [];\n        ts.index = id;\n        ts.value = \"\";\n        ts.parents = {};\n      }\n      if (ts.indexOf(p) !== -1) return;\n      if (p.choices && !ts.choices) ts.choices = p.choices;\n      ts.push(p);\n      var i1 = tokens.indexOf(p, i + 1);\n      if (i1 === -1) return;\n      var value = tokens.slice(i + 1, i1);\n      var isNested = value.some(function (t) {\n        return typeof t === \"object\";\n      });\n      if (isNested && !ts.value) {\n        ts.value = value;\n      } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n        ts.value = value.join(\"\");\n      }\n    });\n    tabstops.forEach(function (ts) {\n      ts.length = 0;\n    });\n    var expanding = {};\n    function copyValue(val) {\n      var copy = [];\n      for (var i = 0; i < val.length; i++) {\n        var p = val[i];\n        if (typeof p == \"object\") {\n          if (expanding[p.tabstopId]) continue;\n          var j = val.lastIndexOf(p, i - 1);\n          p = copy[j] || {\n            tabstopId: p.tabstopId\n          };\n        }\n        copy[i] = p;\n      }\n      return copy;\n    }\n    for (var i = 0; i < tokens.length; i++) {\n      var p = tokens[i];\n      if (typeof p != \"object\") continue;\n      var id = p.tabstopId;\n      var ts = tabstops[id];\n      var i1 = tokens.indexOf(p, i + 1);\n      if (expanding[id]) {\n        if (expanding[id] === p) {\n          delete expanding[id];\n          Object.keys(expanding).forEach(function (parentId) {\n            ts.parents[parentId] = true;\n          });\n        }\n        continue;\n      }\n      expanding[id] = p;\n      var value = ts.value;\n      if (typeof value !== \"string\") value = copyValue(value);else if (p.fmt) value = this.tmStrFormat(value, p, editor);\n      tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n      if (ts.indexOf(p) === -1) ts.push(p);\n    }\n    var row = 0,\n      column = 0;\n    var text = \"\";\n    tokens.forEach(function (t) {\n      if (typeof t === \"string\") {\n        var lines = t.split(\"\\n\");\n        if (lines.length > 1) {\n          column = lines[lines.length - 1].length;\n          row += lines.length - 1;\n        } else column += t.length;\n        text += t;\n      } else if (t) {\n        if (!t.start) t.start = {\n          row: row,\n          column: column\n        };else t.end = {\n          row: row,\n          column: column\n        };\n      }\n    });\n    return {\n      text: text,\n      tabstops: tabstops,\n      tokens: tokens\n    };\n  };\n  var TabstopManager = /** @class */function () {\n    function TabstopManager(editor) {\n      this.index = 0;\n      this.ranges = [];\n      this.tabstops = [];\n      if (editor.tabstopManager) return editor.tabstopManager;\n      editor.tabstopManager = this;\n      this.$onChange = this.onChange.bind(this);\n      this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n      this.$onChangeSession = this.onChangeSession.bind(this);\n      this.$onAfterExec = this.onAfterExec.bind(this);\n      this.attach(editor);\n    }\n    TabstopManager.prototype.attach = function (editor) {\n      this.$openTabstops = null;\n      this.selectedTabstop = null;\n      this.editor = editor;\n      this.session = editor.session;\n      this.editor.on(\"change\", this.$onChange);\n      this.editor.on(\"changeSelection\", this.$onChangeSelection);\n      this.editor.on(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    TabstopManager.prototype.detach = function () {\n      this.tabstops.forEach(this.removeTabstopMarkers, this);\n      this.ranges.length = 0;\n      this.tabstops.length = 0;\n      this.selectedTabstop = null;\n      this.editor.off(\"change\", this.$onChange);\n      this.editor.off(\"changeSelection\", this.$onChangeSelection);\n      this.editor.off(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.off(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n      this.editor.tabstopManager = null;\n      this.session = null;\n      this.editor = null;\n    };\n    TabstopManager.prototype.onChange = function (delta) {\n      var isRemove = delta.action[0] == \"r\";\n      var selectedTabstop = this.selectedTabstop || {};\n      var parents = selectedTabstop.parents || {};\n      var tabstops = this.tabstops.slice();\n      for (var i = 0; i < tabstops.length; i++) {\n        var ts = tabstops[i];\n        var active = ts == selectedTabstop || parents[ts.index];\n        ts.rangeList.$bias = active ? 0 : 1;\n        if (delta.action == \"remove\" && ts !== selectedTabstop) {\n          var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n          var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n          startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n          var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n          endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n          var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n          for (var j = 0; j < toRemove.length; j++) this.removeRange(toRemove[j]);\n        }\n        ts.rangeList.$onChange(delta);\n      }\n      var session = this.session;\n      if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue()) this.detach();\n    };\n    TabstopManager.prototype.updateLinkedFields = function () {\n      var ts = this.selectedTabstop;\n      if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked) return;\n      this.$inChange = true;\n      var session = this.session;\n      var text = session.getTextRange(ts.firstNonLinked);\n      for (var i = 0; i < ts.length; i++) {\n        var range = ts[i];\n        if (!range.linked) continue;\n        var original = range.original;\n        var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n        session.replace(range, fmt);\n      }\n      this.$inChange = false;\n    };\n    TabstopManager.prototype.onAfterExec = function (e) {\n      if (e.command && !e.command.readOnly) this.updateLinkedFields();\n    };\n    TabstopManager.prototype.onChangeSelection = function () {\n      if (!this.editor) return;\n      var lead = this.editor.selection.lead;\n      var anchor = this.editor.selection.anchor;\n      var isEmpty = this.editor.selection.isEmpty();\n      for (var i = 0; i < this.ranges.length; i++) {\n        if (this.ranges[i].linked) continue;\n        var containsLead = this.ranges[i].contains(lead.row, lead.column);\n        var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n        if (containsLead && containsAnchor) return;\n      }\n      this.detach();\n    };\n    TabstopManager.prototype.onChangeSession = function () {\n      this.detach();\n    };\n    TabstopManager.prototype.tabNext = function (dir) {\n      var max = this.tabstops.length;\n      var index = this.index + (dir || 1);\n      index = Math.min(Math.max(index, 1), max);\n      if (index == max) index = 0;\n      this.selectTabstop(index);\n      this.updateTabstopMarkers();\n      if (index === 0) {\n        this.detach();\n      }\n    };\n    TabstopManager.prototype.selectTabstop = function (index) {\n      this.$openTabstops = null;\n      var ts = this.tabstops[this.index];\n      if (ts) this.addTabstopMarkers(ts);\n      this.index = index;\n      ts = this.tabstops[this.index];\n      if (!ts || !ts.length) return;\n      this.selectedTabstop = ts;\n      var range = ts.firstNonLinked || ts;\n      if (ts.choices) range.cursor = range.start;\n      if (!this.editor.inVirtualSelectionMode) {\n        var sel = this.editor.multiSelect;\n        sel.toSingleRange(range);\n        for (var i = 0; i < ts.length; i++) {\n          if (ts.hasLinkedRanges && ts[i].linked) continue;\n          sel.addRange(ts[i].clone(), true);\n        }\n      } else {\n        this.editor.selection.fromOrientedRange(range);\n      }\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      if (this.selectedTabstop && this.selectedTabstop.choices) this.editor.execCommand(\"startAutocomplete\", {\n        matches: this.selectedTabstop.choices\n      });\n    };\n    TabstopManager.prototype.addTabstops = function (tabstops, start, end) {\n      var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n      if (!this.$openTabstops) this.$openTabstops = [];\n      if (!tabstops[0]) {\n        var p = Range.fromPoints(end, end);\n        moveRelative(p.start, start);\n        moveRelative(p.end, start);\n        tabstops[0] = [p];\n        tabstops[0].index = 0;\n      }\n      var i = this.index;\n      var arg = [i + 1, 0];\n      var ranges = this.ranges;\n      var snippetId = this.snippetId = (this.snippetId || 0) + 1;\n      tabstops.forEach(function (ts, index) {\n        var dest = this.$openTabstops[index] || ts;\n        dest.snippetId = snippetId;\n        for (var i = 0; i < ts.length; i++) {\n          var p = ts[i];\n          var range = Range.fromPoints(p.start, p.end || p.start);\n          movePoint(range.start, start);\n          movePoint(range.end, start);\n          range.original = p;\n          range.tabstop = dest;\n          ranges.push(range);\n          if (dest != ts) dest.unshift(range);else dest[i] = range;\n          if (p.fmtString || dest.firstNonLinked && useLink) {\n            range.linked = true;\n            dest.hasLinkedRanges = true;\n          } else if (!dest.firstNonLinked) dest.firstNonLinked = range;\n        }\n        if (!dest.firstNonLinked) dest.hasLinkedRanges = false;\n        if (dest === ts) {\n          arg.push(dest);\n          this.$openTabstops[index] = dest;\n        }\n        this.addTabstopMarkers(dest);\n        dest.rangeList = dest.rangeList || new RangeList();\n        dest.rangeList.$bias = 0;\n        dest.rangeList.addList(dest);\n      }, this);\n      if (arg.length > 2) {\n        if (this.tabstops.length) arg.push(arg.splice(2, 1)[0]);\n        this.tabstops.splice.apply(this.tabstops, arg);\n      }\n    };\n    TabstopManager.prototype.addTabstopMarkers = function (ts) {\n      var session = this.session;\n      ts.forEach(function (range) {\n        if (!range.markerId) range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n      });\n    };\n    TabstopManager.prototype.removeTabstopMarkers = function (ts) {\n      var session = this.session;\n      ts.forEach(function (range) {\n        session.removeMarker(range.markerId);\n        range.markerId = null;\n      });\n    };\n    TabstopManager.prototype.updateTabstopMarkers = function () {\n      if (!this.selectedTabstop) return;\n      var currentSnippetId = this.selectedTabstop.snippetId;\n      if (this.selectedTabstop.index === 0) {\n        currentSnippetId--;\n      }\n      this.tabstops.forEach(function (ts) {\n        if (ts.snippetId === currentSnippetId) this.addTabstopMarkers(ts);else this.removeTabstopMarkers(ts);\n      }, this);\n    };\n    TabstopManager.prototype.removeRange = function (range) {\n      var i = range.tabstop.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      i = this.ranges.indexOf(range);\n      if (i != -1) this.ranges.splice(i, 1);\n      i = range.tabstop.rangeList.ranges.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      this.session.removeMarker(range.markerId);\n      if (!range.tabstop.length) {\n        i = this.tabstops.indexOf(range.tabstop);\n        if (i != -1) this.tabstops.splice(i, 1);\n        if (!this.tabstops.length) this.detach();\n      }\n    };\n    return TabstopManager;\n  }();\n  TabstopManager.prototype.keyboardHandler = new HashHandler();\n  TabstopManager.prototype.keyboardHandler.bindKeys({\n    \"Tab\": function (editor) {\n      if (exports.snippetManager && exports.snippetManager.expandWithTab(editor)) return;\n      editor.tabstopManager.tabNext(1);\n      editor.renderer.scrollCursorIntoView();\n    },\n    \"Shift-Tab\": function (editor) {\n      editor.tabstopManager.tabNext(-1);\n      editor.renderer.scrollCursorIntoView();\n    },\n    \"Esc\": function (editor) {\n      editor.tabstopManager.detach();\n    }\n  });\n  var movePoint = function (point, diff) {\n    if (point.row == 0) point.column += diff.column;\n    point.row += diff.row;\n  };\n  var moveRelative = function (point, start) {\n    if (point.row == start.row) point.column -= start.column;\n    point.row -= start.row;\n  };\n  dom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\n  exports.snippetManager = new SnippetManager();\n  var Editor = require(\"./editor\").Editor;\n  (function () {\n    this.insertSnippet = function (content, options) {\n      return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n      return exports.snippetManager.expandWithTab(this, options);\n    };\n  }).call(Editor.prototype);\n});\nace.define(\"ace/autocomplete/inline_screenreader\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var AceInlineScreenReader = /** @class */function () {\n    function AceInlineScreenReader(editor) {\n      this.editor = editor;\n      this.screenReaderDiv = document.createElement(\"div\");\n      this.screenReaderDiv.classList.add(\"ace_screenreader-only\");\n      this.editor.container.appendChild(this.screenReaderDiv);\n    }\n    AceInlineScreenReader.prototype.setScreenReaderContent = function (content) {\n      if (!this.popup && this.editor.completer && /**@type{import(\"../autocomplete\").Autocomplete}*/this.editor.completer.popup) {\n        this.popup = /**@type{import(\"../autocomplete\").Autocomplete}*/this.editor.completer.popup;\n        this.popup.renderer.on(\"afterRender\", function () {\n          var row = this.popup.getRow();\n          var t = this.popup.renderer.$textLayer;\n          var selected = t.element.childNodes[row - t.config.firstRow];\n          if (selected) {\n            var idString = \"doc-tooltip \";\n            for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n              idString += \"ace-inline-screenreader-line-\".concat(lineIndex, \" \");\n            }\n            selected.setAttribute(\"aria-describedby\", idString);\n          }\n        }.bind(this));\n      }\n      while (this.screenReaderDiv.firstChild) {\n        this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);\n      }\n      this._lines = content.split(/\\r\\n|\\r|\\n/);\n      var codeElement = this.createCodeBlock();\n      this.screenReaderDiv.appendChild(codeElement);\n    };\n    AceInlineScreenReader.prototype.destroy = function () {\n      this.screenReaderDiv.remove();\n    };\n    AceInlineScreenReader.prototype.createCodeBlock = function () {\n      var container = document.createElement(\"pre\");\n      container.setAttribute(\"id\", \"ace-inline-screenreader\");\n      for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n        var codeElement = document.createElement(\"code\");\n        codeElement.setAttribute(\"id\", \"ace-inline-screenreader-line-\".concat(lineIndex));\n        var line = document.createTextNode(this._lines[lineIndex]);\n        codeElement.appendChild(line);\n        container.appendChild(codeElement);\n      }\n      return container;\n    };\n    return AceInlineScreenReader;\n  }();\n  exports.AceInlineScreenReader = AceInlineScreenReader;\n});\nace.define(\"ace/autocomplete/inline\", [\"require\", \"exports\", \"module\", \"ace/snippets\", \"ace/autocomplete/inline_screenreader\"], function (require, exports, module) {\n  \"use strict\";\n\n  var snippetManager = require(\"../snippets\").snippetManager;\n  var AceInlineScreenReader = require(\"./inline_screenreader\").AceInlineScreenReader;\n  var AceInline = /** @class */function () {\n    function AceInline() {\n      this.editor = null;\n    }\n    AceInline.prototype.show = function (editor, completion, prefix) {\n      prefix = prefix || \"\";\n      if (editor && this.editor && this.editor !== editor) {\n        this.hide();\n        this.editor = null;\n        this.inlineScreenReader = null;\n      }\n      if (!editor || !completion) {\n        return false;\n      }\n      if (!this.inlineScreenReader) {\n        this.inlineScreenReader = new AceInlineScreenReader(editor);\n      }\n      var displayText = completion.snippet ? snippetManager.getDisplayTextForSnippet(editor, completion.snippet) : completion.value;\n      if (completion.hideInlinePreview || !displayText || !displayText.startsWith(prefix)) {\n        return false;\n      }\n      this.editor = editor;\n      this.inlineScreenReader.setScreenReaderContent(displayText);\n      displayText = displayText.slice(prefix.length);\n      if (displayText === \"\") {\n        editor.removeGhostText();\n      } else {\n        editor.setGhostText(displayText);\n      }\n      return true;\n    };\n    AceInline.prototype.isOpen = function () {\n      if (!this.editor) {\n        return false;\n      }\n      return !!this.editor.renderer.$ghostText;\n    };\n    AceInline.prototype.hide = function () {\n      if (!this.editor) {\n        return false;\n      }\n      this.editor.removeGhostText();\n      return true;\n    };\n    AceInline.prototype.destroy = function () {\n      this.hide();\n      this.editor = null;\n      if (this.inlineScreenReader) {\n        this.inlineScreenReader.destroy();\n        this.inlineScreenReader = null;\n      }\n    };\n    return AceInline;\n  }();\n  exports.AceInline = AceInline;\n});\nace.define(\"ace/autocomplete/util\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0) callback();\n    for (var i = 0; i < arLength; i++) {\n      fn(array[i], function (result, err) {\n        completed++;\n        if (completed === arLength) callback(result, err);\n      });\n    }\n  };\n  var ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\n  exports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf.reverse().join(\"\");\n  };\n  exports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf;\n  };\n  exports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n      if (completer.identifierRegexps) {\n        completer.identifierRegexps.forEach(function (identifierRegex) {\n          if (!prefix && identifierRegex) prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n        }.bind(this));\n      }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n  };\n  exports.triggerAutocomplete = function (editor, previousChar) {\n    var previousChar = previousChar == null ? editor.session.getPrecedingCharacter() : previousChar;\n    return editor.completers.some(function (completer) {\n      if (completer.triggerCharacters && Array.isArray(completer.triggerCharacters)) {\n        return completer.triggerCharacters.includes(previousChar);\n      }\n    });\n  };\n});\nace.define(\"ace/autocomplete\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\", \"ace/autocomplete/popup\", \"ace/autocomplete/inline\", \"ace/autocomplete/popup\", \"ace/autocomplete/util\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/snippets\", \"ace/config\", \"ace/lib/event\", \"ace/lib/scroll\"], function (require, exports, module) {\n  \"use strict\";\n\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var AcePopup = require(\"./autocomplete/popup\").AcePopup;\n  var AceInline = require(\"./autocomplete/inline\").AceInline;\n  var getAriaId = require(\"./autocomplete/popup\").getAriaId;\n  var util = require(\"./autocomplete/util\");\n  var lang = require(\"./lib/lang\");\n  var dom = require(\"./lib/dom\");\n  var snippetManager = require(\"./snippets\").snippetManager;\n  var config = require(\"./config\");\n  var event = require(\"./lib/event\");\n  var preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\n  var destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n  };\n  var Autocomplete = /** @class */function () {\n    function Autocomplete() {\n      this.autoInsert = false;\n      this.autoSelect = true;\n      this.autoShown = false;\n      this.exactMatch = false;\n      this.inlineEnabled = false;\n      this.keyboardHandler = new HashHandler();\n      this.keyboardHandler.bindKeys(this.commands);\n      this.parentNode = null;\n      this.setSelectOnHover = false;\n      this.hasSeen = new Set();\n      this.showLoadingState = false;\n      this.stickySelectionDelay = 500;\n      this.blurListener = this.blurListener.bind(this);\n      this.changeListener = this.changeListener.bind(this);\n      this.mousedownListener = this.mousedownListener.bind(this);\n      this.mousewheelListener = this.mousewheelListener.bind(this);\n      this.onLayoutChange = this.onLayoutChange.bind(this);\n      this.changeTimer = lang.delayedCall(function () {\n        this.updateCompletions(true);\n      }.bind(this));\n      this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n      this.popupTimer = lang.delayedCall(this.$updatePopupPosition.bind(this), 50);\n      this.stickySelectionTimer = lang.delayedCall(function () {\n        this.stickySelection = true;\n      }.bind(this), this.stickySelectionDelay);\n      this.$firstOpenTimer = lang.delayedCall( /**@this{Autocomplete}*/function () {\n        var initialPosition = this.completionProvider && this.completionProvider.initialPosition;\n        if (this.autoShown || this.popup && this.popup.isOpen || !initialPosition || this.editor.completers.length === 0) return;\n        this.completions = new FilteredList(Autocomplete.completionsForLoading);\n        this.openPopup(this.editor, initialPosition.prefix, false);\n        this.popup.renderer.setStyle(\"ace_loading\", true);\n      }.bind(this), this.stickySelectionDelay);\n    }\n    Object.defineProperty(Autocomplete, \"completionsForLoading\", {\n      get: function () {\n        return [{\n          caption: config.nls(\"autocomplete.loading\", \"Loading...\"),\n          value: \"\"\n        }];\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Autocomplete.prototype.$init = function () {\n      this.popup = new AcePopup(this.parentNode || document.body || document.documentElement);\n      this.popup.on(\"click\", function (e) {\n        this.insertMatch();\n        e.stop();\n      }.bind(this));\n      this.popup.focus = this.editor.focus.bind(this.editor);\n      this.popup.on(\"show\", this.$onPopupShow.bind(this));\n      this.popup.on(\"hide\", this.$onHidePopup.bind(this));\n      this.popup.on(\"select\", this.$onPopupChange.bind(this));\n      event.addListener(this.popup.container, \"mouseout\", this.mouseOutListener.bind(this));\n      this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n      this.popup.renderer.on(\"afterRender\", this.$onPopupRender.bind(this));\n      return this.popup;\n    };\n    Autocomplete.prototype.$initInline = function () {\n      if (!this.inlineEnabled || this.inlineRenderer) return;\n      this.inlineRenderer = new AceInline();\n      return this.inlineRenderer;\n    };\n    Autocomplete.prototype.getPopup = function () {\n      return this.popup || this.$init();\n    };\n    Autocomplete.prototype.$onHidePopup = function () {\n      if (this.inlineRenderer) {\n        this.inlineRenderer.hide();\n      }\n      this.hideDocTooltip();\n      this.stickySelectionTimer.cancel();\n      this.popupTimer.cancel();\n      this.stickySelection = false;\n    };\n    Autocomplete.prototype.$seen = function (completion) {\n      if (!this.hasSeen.has(completion) && completion && completion.completer && completion.completer.onSeen && typeof completion.completer.onSeen === \"function\") {\n        completion.completer.onSeen(this.editor, completion);\n        this.hasSeen.add(completion);\n      }\n    };\n    Autocomplete.prototype.$onPopupChange = function (hide) {\n      if (this.inlineRenderer && this.inlineEnabled) {\n        var completion = hide ? null : this.popup.getData(this.popup.getRow());\n        this.$updateGhostText(completion);\n        if (this.popup.isMouseOver && this.setSelectOnHover) {\n          this.tooltipTimer.call(null, null);\n          return;\n        }\n        this.popupTimer.schedule();\n        this.tooltipTimer.schedule();\n      } else {\n        this.popupTimer.call(null, null);\n        this.tooltipTimer.call(null, null);\n      }\n    };\n    Autocomplete.prototype.$updateGhostText = function (completion) {\n      var row = this.base.row;\n      var column = this.base.column;\n      var cursorColumn = this.editor.getCursorPosition().column;\n      var prefix = this.editor.session.getLine(row).slice(column, cursorColumn);\n      if (!this.inlineRenderer.show(this.editor, completion, prefix)) {\n        this.inlineRenderer.hide();\n      } else {\n        this.$seen(completion);\n      }\n    };\n    Autocomplete.prototype.$onPopupRender = function () {\n      var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n      if (this.completions && this.completions.filtered && this.completions.filtered.length > 0) {\n        for (var i = this.popup.getFirstVisibleRow(); i <= this.popup.getLastVisibleRow(); i++) {\n          var completion = this.popup.getData(i);\n          if (completion && (!inlineEnabled || completion.hideInlinePreview)) {\n            this.$seen(completion);\n          }\n        }\n      }\n    };\n    Autocomplete.prototype.$onPopupShow = function (hide) {\n      this.$onPopupChange(hide);\n      this.stickySelection = false;\n      if (this.stickySelectionDelay >= 0) this.stickySelectionTimer.schedule(this.stickySelectionDelay);\n    };\n    Autocomplete.prototype.observeLayoutChanges = function () {\n      if (this.$elements || !this.editor) return;\n      window.addEventListener(\"resize\", this.onLayoutChange, {\n        passive: true\n      });\n      window.addEventListener(\"wheel\", this.mousewheelListener);\n      var el = this.editor.container.parentNode;\n      var elements = [];\n      while (el) {\n        elements.push(el);\n        el.addEventListener(\"scroll\", this.onLayoutChange, {\n          passive: true\n        });\n        el = el.parentNode;\n      }\n      this.$elements = elements;\n    };\n    Autocomplete.prototype.unObserveLayoutChanges = function () {\n      var _this = this;\n      window.removeEventListener(\"resize\", this.onLayoutChange, {\n        passive: true\n      });\n      window.removeEventListener(\"wheel\", this.mousewheelListener);\n      this.$elements && this.$elements.forEach(function (el) {\n        el.removeEventListener(\"scroll\", _this.onLayoutChange, {\n          passive: true\n        });\n      });\n      this.$elements = null;\n    };\n    Autocomplete.prototype.onLayoutChange = function () {\n      if (!this.popup.isOpen) return this.unObserveLayoutChanges();\n      this.$updatePopupPosition();\n      this.updateDocTooltip();\n    };\n    Autocomplete.prototype.$updatePopupPosition = function () {\n      var editor = this.editor;\n      var renderer = editor.renderer;\n      var lineHeight = renderer.layerConfig.lineHeight;\n      var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n      pos.left -= this.popup.getTextLeftOffset();\n      var rect = editor.container.getBoundingClientRect();\n      pos.top += rect.top - renderer.layerConfig.offset;\n      pos.left += rect.left - editor.renderer.scrollLeft;\n      pos.left += renderer.gutterWidth;\n      var posGhostText = {\n        top: pos.top,\n        left: pos.left\n      };\n      if (renderer.$ghostText && renderer.$ghostTextWidget) {\n        if (this.base.row === renderer.$ghostText.position.row) {\n          posGhostText.top += renderer.$ghostTextWidget.el.offsetHeight;\n        }\n      }\n      var editorContainerBottom = editor.container.getBoundingClientRect().bottom - lineHeight;\n      var lowestPosition = editorContainerBottom < posGhostText.top ? {\n        top: editorContainerBottom,\n        left: posGhostText.left\n      } : posGhostText;\n      if (this.popup.tryShow(lowestPosition, lineHeight, \"bottom\")) {\n        return;\n      }\n      if (this.popup.tryShow(pos, lineHeight, \"top\")) {\n        return;\n      }\n      this.popup.show(pos, lineHeight);\n    };\n    Autocomplete.prototype.openPopup = function (editor, prefix, keepPopupPosition) {\n      this.$firstOpenTimer.cancel();\n      if (!this.popup) this.$init();\n      if (this.inlineEnabled && !this.inlineRenderer) this.$initInline();\n      this.popup.autoSelect = this.autoSelect;\n      this.popup.setSelectOnHover(this.setSelectOnHover);\n      var oldRow = this.popup.getRow();\n      var previousSelectedItem = this.popup.data[oldRow];\n      this.popup.setData(this.completions.filtered, this.completions.filterText);\n      if (this.editor.textInput.setAriaOptions) {\n        this.editor.textInput.setAriaOptions({\n          activeDescendant: getAriaId(this.popup.getRow()),\n          inline: this.inlineEnabled\n        });\n      }\n      editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      var newRow;\n      if (this.stickySelection) newRow = this.popup.data.indexOf(previousSelectedItem);\n      if (!newRow || newRow === -1) newRow = 0;\n      this.popup.setRow(this.autoSelect ? newRow : -1);\n      if (newRow === oldRow && previousSelectedItem !== this.completions.filtered[newRow]) this.$onPopupChange();\n      var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n      if (newRow === oldRow && inlineEnabled) {\n        var completion = this.popup.getData(this.popup.getRow());\n        this.$updateGhostText(completion);\n      }\n      if (!keepPopupPosition) {\n        this.popup.setTheme(editor.getTheme());\n        this.popup.setFontSize(editor.getFontSize());\n        this.$updatePopupPosition();\n        if (this.tooltipNode) {\n          this.updateDocTooltip();\n        }\n      }\n      this.changeTimer.cancel();\n      this.observeLayoutChanges();\n    };\n    Autocomplete.prototype.detach = function () {\n      if (this.editor) {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n      }\n      this.$firstOpenTimer.cancel();\n      this.changeTimer.cancel();\n      this.hideDocTooltip();\n      if (this.completionProvider) {\n        this.completionProvider.detach();\n      }\n      if (this.popup && this.popup.isOpen) this.popup.hide();\n      if (this.popup && this.popup.renderer) {\n        this.popup.renderer.off(\"afterRender\", this.$onPopupRender);\n      }\n      if (this.base) this.base.detach();\n      this.activated = false;\n      this.completionProvider = this.completions = this.base = null;\n      this.unObserveLayoutChanges();\n    };\n    Autocomplete.prototype.changeListener = function (e) {\n      var cursor = this.editor.selection.lead;\n      if (cursor.row != this.base.row || cursor.column < this.base.column) {\n        this.detach();\n      }\n      if (this.activated) this.changeTimer.schedule();else this.detach();\n    };\n    Autocomplete.prototype.blurListener = function (e) {\n      var el = document.activeElement;\n      var text = this.editor.textInput.getElement();\n      var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n      var container = this.popup && this.popup.container;\n      if (el != text && el.parentNode != container && !fromTooltip && el != this.tooltipNode && e.relatedTarget != text) {\n        this.detach();\n      }\n    };\n    Autocomplete.prototype.mousedownListener = function (e) {\n      this.detach();\n    };\n    Autocomplete.prototype.mousewheelListener = function (e) {\n      if (this.popup && !this.popup.isMouseOver) this.detach();\n    };\n    Autocomplete.prototype.mouseOutListener = function (e) {\n      if (this.popup.isOpen) this.$updatePopupPosition();\n    };\n    Autocomplete.prototype.goTo = function (where) {\n      this.popup.goTo(where);\n    };\n    Autocomplete.prototype.insertMatch = function (data, options) {\n      if (!data) data = this.popup.getData(this.popup.getRow());\n      if (!data) return false;\n      if (data.value === \"\")\n        // Explicitly given nothing to insert, e.g. \"No suggestion state\"\n        return this.detach();\n      var completions = this.completions;\n      var result = this.getCompletionProvider().insertMatch(this.editor, data, completions.filterText, options);\n      if (this.completions == completions) this.detach();\n      return result;\n    };\n    Autocomplete.prototype.showPopup = function (editor, options) {\n      if (this.editor) this.detach();\n      this.activated = true;\n      this.editor = editor;\n      if (editor.completer != this) {\n        if (editor.completer) editor.completer.detach();\n        editor.completer = this;\n      }\n      editor.on(\"changeSelection\", this.changeListener);\n      editor.on(\"blur\", this.blurListener);\n      editor.on(\"mousedown\", this.mousedownListener);\n      editor.on(\"mousewheel\", this.mousewheelListener);\n      this.updateCompletions(false, options);\n    };\n    Autocomplete.prototype.getCompletionProvider = function (initialPosition) {\n      if (!this.completionProvider) this.completionProvider = new CompletionProvider(initialPosition);\n      return this.completionProvider;\n    };\n    Autocomplete.prototype.gatherCompletions = function (editor, callback) {\n      return this.getCompletionProvider().gatherCompletions(editor, callback);\n    };\n    Autocomplete.prototype.updateCompletions = function (keepPopupPosition, options) {\n      if (keepPopupPosition && this.base && this.completions) {\n        var pos = this.editor.getCursorPosition();\n        var prefix = this.editor.session.getTextRange({\n          start: this.base,\n          end: pos\n        });\n        if (prefix == this.completions.filterText) return;\n        this.completions.setFilter(prefix);\n        if (!this.completions.filtered.length) return this.detach();\n        if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == prefix && !this.completions.filtered[0].snippet) return this.detach();\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        return;\n      }\n      if (options && options.matches) {\n        var pos = this.editor.getSelectionRange().start;\n        this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n        this.base.$insertRight = true;\n        this.completions = new FilteredList(options.matches);\n        this.getCompletionProvider().completions = this.completions;\n        return this.openPopup(this.editor, \"\", keepPopupPosition);\n      }\n      var session = this.editor.getSession();\n      var pos = this.editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(this.editor);\n      this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n      this.base.$insertRight = true;\n      var completionOptions = {\n        exactMatch: this.exactMatch,\n        ignoreCaption: this.ignoreCaption\n      };\n      this.getCompletionProvider({\n        prefix: prefix,\n        pos: pos\n      }).provideCompletions(this.editor, completionOptions, function (err, completions, finished) {\n        var filtered = completions.filtered;\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.$firstOpenTimer.cancel();\n        if (finished) {\n          if (!filtered.length) {\n            var emptyMessage = !this.autoShown && this.emptyMessage;\n            if (typeof emptyMessage == \"function\") emptyMessage = this.emptyMessage(prefix);\n            if (emptyMessage) {\n              var completionsForEmpty = [{\n                caption: emptyMessage,\n                value: \"\"\n              }];\n              this.completions = new FilteredList(completionsForEmpty);\n              this.openPopup(this.editor, prefix, keepPopupPosition);\n              this.popup.renderer.setStyle(\"ace_loading\", false);\n              this.popup.renderer.setStyle(\"ace_empty-message\", true);\n              return;\n            }\n            return this.detach();\n          }\n          if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet) return this.detach();\n          if (this.autoInsert && !this.autoShown && filtered.length == 1) return this.insertMatch(filtered[0]);\n        }\n        this.completions = !finished && this.showLoadingState ? new FilteredList(Autocomplete.completionsForLoading.concat(filtered), completions.filterText) : completions;\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        this.popup.renderer.setStyle(\"ace_empty-message\", false);\n        this.popup.renderer.setStyle(\"ace_loading\", !finished);\n      }.bind(this));\n      if (this.showLoadingState && !this.autoShown && !(this.popup && this.popup.isOpen)) {\n        this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);\n      }\n    };\n    Autocomplete.prototype.cancelContextMenu = function () {\n      this.editor.$mouseHandler.cancelContextMenu();\n    };\n    Autocomplete.prototype.updateDocTooltip = function () {\n      var popup = this.popup;\n      var all = this.completions.filtered;\n      var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n      var doc = null;\n      if (!selected || !this.editor || !this.popup.isOpen) return this.hideDocTooltip();\n      var completersLength = this.editor.completers.length;\n      for (var i = 0; i < completersLength; i++) {\n        var completer = this.editor.completers[i];\n        if (completer.getDocTooltip && selected.completerId === completer.id) {\n          doc = completer.getDocTooltip(selected);\n          break;\n        }\n      }\n      if (!doc && typeof selected != \"string\") doc = selected;\n      if (typeof doc == \"string\") doc = {\n        docText: doc\n      };\n      if (!doc || !(doc.docHTML || doc.docText)) return this.hideDocTooltip();\n      this.showDocTooltip(doc);\n    };\n    Autocomplete.prototype.showDocTooltip = function (item) {\n      if (!this.tooltipNode) {\n        this.tooltipNode = dom.createElement(\"div\");\n        this.tooltipNode.style.margin = \"0\";\n        this.tooltipNode.style.pointerEvents = \"auto\";\n        this.tooltipNode.style.overscrollBehavior = \"contain\";\n        this.tooltipNode.tabIndex = -1;\n        this.tooltipNode.onblur = this.blurListener.bind(this);\n        this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        this.tooltipNode.id = \"doc-tooltip\";\n        this.tooltipNode.setAttribute(\"role\", \"tooltip\");\n        this.tooltipNode.addEventListener(\"wheel\", preventParentScroll);\n      }\n      var theme = this.editor.renderer.theme;\n      this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip \" + (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n      var tooltipNode = this.tooltipNode;\n      if (item.docHTML) {\n        tooltipNode.innerHTML = item.docHTML;\n      } else if (item.docText) {\n        tooltipNode.textContent = item.docText;\n      }\n      if (!tooltipNode.parentNode) this.popup.container.appendChild(this.tooltipNode);\n      var popup = this.popup;\n      var rect = popup.container.getBoundingClientRect();\n      tooltipNode.style.top = popup.container.style.top;\n      tooltipNode.style.bottom = popup.container.style.bottom;\n      tooltipNode.style.display = \"block\";\n      if (window.innerWidth - rect.right < 320) {\n        if (rect.left < 320) {\n          if (popup.isTopdown) {\n            tooltipNode.style.top = rect.bottom + \"px\";\n            tooltipNode.style.left = rect.left + \"px\";\n            tooltipNode.style.right = \"\";\n            tooltipNode.style.bottom = \"\";\n          } else {\n            tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n            tooltipNode.style.left = rect.left + \"px\";\n            tooltipNode.style.right = \"\";\n            tooltipNode.style.bottom = \"\";\n          }\n        } else {\n          tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n          tooltipNode.style.left = \"\";\n        }\n      } else {\n        tooltipNode.style.left = rect.right + 1 + \"px\";\n        tooltipNode.style.right = \"\";\n      }\n    };\n    Autocomplete.prototype.hideDocTooltip = function () {\n      this.tooltipTimer.cancel();\n      if (!this.tooltipNode) return;\n      var el = this.tooltipNode;\n      if (!this.editor.isFocused() && document.activeElement == el) this.editor.focus();\n      this.tooltipNode = null;\n      if (el.parentNode) el.parentNode.removeChild(el);\n    };\n    Autocomplete.prototype.onTooltipClick = function (e) {\n      var a = e.target;\n      while (a && a != this.tooltipNode) {\n        if (a.nodeName == \"A\" && a.href) {\n          a.rel = \"noreferrer\";\n          a.target = \"_blank\";\n          break;\n        }\n        a = a.parentNode;\n      }\n    };\n    Autocomplete.prototype.destroy = function () {\n      this.detach();\n      if (this.popup) {\n        this.popup.destroy();\n        var el = this.popup.container;\n        if (el && el.parentNode) el.parentNode.removeChild(el);\n      }\n      if (this.editor && this.editor.completer == this) {\n        this.editor.off(\"destroy\", destroyCompleter);\n        this.editor.completer = null;\n      }\n      this.inlineRenderer = this.popup = this.editor = null;\n    };\n    return Autocomplete;\n  }();\n  Autocomplete.prototype.commands = {\n    \"Up\": function (editor) {\n      editor.completer.goTo(\"up\");\n    },\n    \"Down\": function (editor) {\n      editor.completer.goTo(\"down\");\n    },\n    \"Ctrl-Up|Ctrl-Home\": function (editor) {\n      editor.completer.goTo(\"start\");\n    },\n    \"Ctrl-Down|Ctrl-End\": function (editor) {\n      editor.completer.goTo(\"end\");\n    },\n    \"Esc\": function (editor) {\n      editor.completer.detach();\n    },\n    \"Return\": function (editor) {\n      return editor.completer.insertMatch();\n    },\n    \"Shift-Return\": function (editor) {\n      editor.completer.insertMatch(null, {\n        deleteSuffix: true\n      });\n    },\n    \"Tab\": function (editor) {\n      var result = editor.completer.insertMatch();\n      if (!result && !editor.tabstopManager) editor.completer.goTo(\"down\");else return result;\n    },\n    \"Backspace\": function (editor) {\n      editor.execCommand(\"backspace\");\n      var prefix = util.getCompletionPrefix(editor);\n      if (!prefix && editor.completer) editor.completer.detach();\n    },\n    \"PageUp\": function (editor) {\n      editor.completer.popup.gotoPageUp();\n    },\n    \"PageDown\": function (editor) {\n      editor.completer.popup.gotoPageDown();\n    }\n  };\n  Autocomplete.for = function (editor) {\n    if (editor.completer instanceof Autocomplete) {\n      return editor.completer;\n    }\n    if (editor.completer) {\n      editor.completer.destroy();\n      editor.completer = null;\n    }\n    if (config.get(\"sharedPopups\")) {\n      if (!Autocomplete[\"$sharedInstance\"]) Autocomplete[\"$sharedInstance\"] = new Autocomplete();\n      editor.completer = Autocomplete[\"$sharedInstance\"];\n    } else {\n      editor.completer = new Autocomplete();\n      editor.once(\"destroy\", destroyCompleter);\n    }\n    return editor.completer;\n  };\n  Autocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n      var completer = Autocomplete.for(editor);\n      completer.autoInsert = false;\n      completer.autoSelect = true;\n      completer.autoShown = false;\n      completer.showPopup(editor, options);\n      completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n  };\n  var CompletionProvider = /** @class */function () {\n    function CompletionProvider(initialPosition) {\n      this.initialPosition = initialPosition;\n      this.active = true;\n    }\n    CompletionProvider.prototype.insertByIndex = function (editor, index, options) {\n      if (!this.completions || !this.completions.filtered) {\n        return false;\n      }\n      return this.insertMatch(editor, this.completions.filtered[index], options);\n    };\n    CompletionProvider.prototype.insertMatch = function (editor, data, options) {\n      if (!data) return false;\n      editor.startOperation({\n        command: {\n          name: \"insertMatch\"\n        }\n      });\n      if (data.completer && data.completer.insertMatch) {\n        data.completer.insertMatch(editor, data);\n      } else {\n        if (!this.completions) return false;\n        var replaceBefore = this.completions.filterText.length;\n        var replaceAfter = 0;\n        if (data.range && data.range.start.row === data.range.end.row) {\n          replaceBefore -= this.initialPosition.prefix.length;\n          replaceBefore += this.initialPosition.pos.column - data.range.start.column;\n          replaceAfter += data.range.end.column - this.initialPosition.pos.column;\n        }\n        if (replaceBefore || replaceAfter) {\n          var ranges;\n          if (editor.selection.getAllRanges) {\n            ranges = editor.selection.getAllRanges();\n          } else {\n            ranges = [editor.getSelectionRange()];\n          }\n          for (var i = 0, range; range = ranges[i]; i++) {\n            range.start.column -= replaceBefore;\n            range.end.column += replaceAfter;\n            editor.session.remove(range);\n          }\n        }\n        if (data.snippet) {\n          snippetManager.insertSnippet(editor, data.snippet);\n        } else {\n          this.$insertString(editor, data);\n        }\n        if (data.completer && data.completer.onInsert && typeof data.completer.onInsert == \"function\") {\n          data.completer.onInsert(editor, data);\n        }\n        if (data.command && data.command === \"startAutocomplete\") {\n          editor.execCommand(data.command);\n        }\n      }\n      editor.endOperation();\n      return true;\n    };\n    CompletionProvider.prototype.$insertString = function (editor, data) {\n      var text = data.value || data;\n      editor.execCommand(\"insertstring\", text);\n    };\n    CompletionProvider.prototype.gatherCompletions = function (editor, callback) {\n      var session = editor.getSession();\n      var pos = editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(editor);\n      var matches = [];\n      this.completers = editor.completers;\n      var total = editor.completers.length;\n      editor.completers.forEach(function (completer, i) {\n        completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n          if (completer.hideInlinePreview) results = results.map(function (result) {\n            return Object.assign(result, {\n              hideInlinePreview: completer.hideInlinePreview\n            });\n          });\n          if (!err && results) matches = matches.concat(results);\n          callback(null, {\n            prefix: util.getCompletionPrefix(editor),\n            matches: matches,\n            finished: --total === 0\n          });\n        });\n      });\n      return true;\n    };\n    CompletionProvider.prototype.provideCompletions = function (editor, options, callback) {\n      var processResults = function (results) {\n        var prefix = results.prefix;\n        var matches = results.matches;\n        this.completions = new FilteredList(matches);\n        if (options.exactMatch) this.completions.exactMatch = true;\n        if (options.ignoreCaption) this.completions.ignoreCaption = true;\n        this.completions.setFilter(prefix);\n        if (results.finished || this.completions.filtered.length) callback(null, this.completions, results.finished);\n      }.bind(this);\n      var isImmediate = true;\n      var immediateResults = null;\n      this.gatherCompletions(editor, function (err, results) {\n        if (!this.active) {\n          return;\n        }\n        if (err) {\n          callback(err, [], true);\n          this.detach();\n        }\n        var prefix = results.prefix;\n        if (prefix.indexOf(results.prefix) !== 0) return;\n        if (isImmediate) {\n          immediateResults = results;\n          return;\n        }\n        processResults(results);\n      }.bind(this));\n      isImmediate = false;\n      if (immediateResults) {\n        var results = immediateResults;\n        immediateResults = null;\n        processResults(results);\n      }\n    };\n    CompletionProvider.prototype.detach = function () {\n      this.active = false;\n      this.completers && this.completers.forEach(function (completer) {\n        if (typeof completer.cancel === \"function\") {\n          completer.cancel();\n        }\n      });\n    };\n    return CompletionProvider;\n  }();\n  var FilteredList = /** @class */function () {\n    function FilteredList(array, filterText) {\n      this.all = array;\n      this.filtered = array;\n      this.filterText = filterText || \"\";\n      this.exactMatch = false;\n      this.ignoreCaption = false;\n    }\n    FilteredList.prototype.setFilter = function (str) {\n      if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0) var matches = this.filtered;else var matches = this.all;\n      this.filterText = str;\n      matches = this.filterCompletions(matches, this.filterText);\n      matches = matches.sort(function (a, b) {\n        return b.exactMatch - a.exactMatch || b.$score - a.$score || (a.caption || a.value).localeCompare(b.caption || b.value);\n      });\n      var prev = null;\n      matches = matches.filter(function (item) {\n        var caption = item.snippet || item.caption || item.value;\n        if (caption === prev) return false;\n        prev = caption;\n        return true;\n      });\n      this.filtered = matches;\n    };\n    FilteredList.prototype.filterCompletions = function (items, needle) {\n      var results = [];\n      var upper = needle.toUpperCase();\n      var lower = needle.toLowerCase();\n      loop: for (var i = 0, item; item = items[i]; i++) {\n        var caption = !this.ignoreCaption && item.caption || item.value || item.snippet;\n        if (!caption) continue;\n        var lastIndex = -1;\n        var matchMask = 0;\n        var penalty = 0;\n        var index, distance;\n        if (this.exactMatch) {\n          if (needle !== caption.substr(0, needle.length)) continue loop;\n        } else {\n          var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n          if (fullMatchIndex > -1) {\n            penalty = fullMatchIndex;\n          } else {\n            for (var j = 0; j < needle.length; j++) {\n              var i1 = caption.indexOf(lower[j], lastIndex + 1);\n              var i2 = caption.indexOf(upper[j], lastIndex + 1);\n              index = i1 >= 0 ? i2 < 0 || i1 < i2 ? i1 : i2 : i2;\n              if (index < 0) continue loop;\n              distance = index - lastIndex - 1;\n              if (distance > 0) {\n                if (lastIndex === -1) penalty += 10;\n                penalty += distance;\n                matchMask = matchMask | 1 << j;\n              }\n              lastIndex = index;\n            }\n          }\n        }\n        item.matchMask = matchMask;\n        item.exactMatch = penalty ? 0 : 1;\n        item.$score = (item.score || 0) - penalty;\n        results.push(item);\n      }\n      return results;\n    };\n    return FilteredList;\n  }();\n  exports.Autocomplete = Autocomplete;\n  exports.CompletionProvider = CompletionProvider;\n  exports.FilteredList = FilteredList;\n});\nace.define(\"ace/ext/menu_tools/settings_menu.css\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  module.exports = \"#ace_settingsmenu, #kbshortcutmenu {\\n    background-color: #F7F7F7;\\n    color: black;\\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\\n    padding: 1em 0.5em 2em 1em;\\n    overflow: auto;\\n    position: absolute;\\n    margin: 0;\\n    bottom: 0;\\n    right: 0;\\n    top: 0;\\n    z-index: 9991;\\n    cursor: default;\\n}\\n\\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\\n    background-color: rgba(255, 255, 255, 0.6);\\n    color: black;\\n}\\n\\n.ace_optionsMenuEntry:hover {\\n    background-color: rgba(100, 100, 100, 0.1);\\n    transition: all 0.3s\\n}\\n\\n.ace_closeButton {\\n    background: rgba(245, 146, 146, 0.5);\\n    border: 1px solid #F48A8A;\\n    border-radius: 50%;\\n    padding: 7px;\\n    position: absolute;\\n    right: -8px;\\n    top: -8px;\\n    z-index: 100000;\\n}\\n.ace_closeButton{\\n    background: rgba(245, 146, 146, 0.9);\\n}\\n.ace_optionsMenuKey {\\n    color: darkslateblue;\\n    font-weight: bold;\\n}\\n.ace_optionsMenuCommand {\\n    color: darkcyan;\\n    font-weight: normal;\\n}\\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\\n    vertical-align: middle;\\n}\\n\\n.ace_optionsMenuEntry button[ace_selected_button=true] {\\n    background: #e7e7e7;\\n    box-shadow: 1px 0px 2px 0px #adadad inset;\\n    border-color: #adadad;\\n}\\n.ace_optionsMenuEntry button {\\n    background: white;\\n    border: 1px solid lightgray;\\n    margin: 0px;\\n}\\n.ace_optionsMenuEntry button:hover{\\n    background: #f0f0f0;\\n}\";\n});\nace.define(\"ace/ext/menu_tools/overlay_page\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/ext/menu_tools/settings_menu.css\"], function (require, exports, module) {\n  /*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n  'use strict';\n\n  var dom = require(\"../../lib/dom\");\n  var cssText = require(\"./settings_menu.css\");\n  dom.importCssString(cssText, \"settings_menu.css\", false);\n  module.exports.overlayPage = function overlayPage(editor, contentElement, callback) {\n    var closer = document.createElement('div');\n    var ignoreFocusOut = false;\n    function documentEscListener(e) {\n      if (e.keyCode === 27) {\n        close();\n      }\n    }\n    function close() {\n      if (!closer) return;\n      document.removeEventListener('keydown', documentEscListener);\n      closer.parentNode.removeChild(closer);\n      if (editor) {\n        editor.focus();\n      }\n      closer = null;\n      callback && callback();\n    }\n    function setIgnoreFocusOut(ignore) {\n      ignoreFocusOut = ignore;\n      if (ignore) {\n        closer.style.pointerEvents = \"none\";\n        contentElement.style.pointerEvents = \"auto\";\n      }\n    }\n    closer.style.cssText = 'margin: 0; padding: 0; ' + 'position: fixed; top:0; bottom:0; left:0; right:0;' + 'z-index: 9990; ' + (editor ? 'background-color: rgba(0, 0, 0, 0.3);' : '');\n    closer.addEventListener('click', function (e) {\n      if (!ignoreFocusOut) {\n        close();\n      }\n    });\n    document.addEventListener('keydown', documentEscListener);\n    contentElement.addEventListener('click', function (e) {\n      e.stopPropagation();\n    });\n    closer.appendChild(contentElement);\n    document.body.appendChild(closer);\n    if (editor) {\n      editor.blur();\n    }\n    return {\n      close: close,\n      setIgnoreFocusOut: setIgnoreFocusOut\n    };\n  };\n});\nace.define(\"ace/ext/modelist\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var modes = [];\n  function getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n      if (modes[i].supportsFile(fileName)) {\n        mode = modes[i];\n        break;\n      }\n    }\n    return mode;\n  }\n  var Mode = /** @class */function () {\n    function Mode(name, caption, extensions) {\n      this.name = name;\n      this.caption = caption;\n      this.mode = \"ace/mode/\" + name;\n      this.extensions = extensions;\n      var re;\n      if (/\\^/.test(extensions)) {\n        re = extensions.replace(/\\|(\\^)?/g, function (a, b) {\n          return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n        }) + \"$\";\n      } else {\n        re = \"^.*\\\\.(\" + extensions + \")$\";\n      }\n      this.extRe = new RegExp(re, \"gi\");\n    }\n    Mode.prototype.supportsFile = function (filename) {\n      return filename.match(this.extRe);\n    };\n    return Mode;\n  }();\n  var supportedModes = {\n    ABAP: [\"abap\"],\n    ABC: [\"abc\"],\n    ActionScript: [\"as\"],\n    ADA: [\"ada|adb\"],\n    Alda: [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex: [\"apex|cls|trigger|tgr\"],\n    AQL: [\"aql\"],\n    AsciiDoc: [\"asciidoc|adoc\"],\n    ASL: [\"dsl|asl|asl.json\"],\n    Assembly_ARM32: [\"s\"],\n    Assembly_x86: [\"asm|a\"],\n    Astro: [\"astro\"],\n    AutoHotKey: [\"ahk\"],\n    BatchFile: [\"bat|cmd\"],\n    BibTeX: [\"bib\"],\n    C_Cpp: [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search: [\"c9search_results\"],\n    Cirru: [\"cirru|cr\"],\n    Clojure: [\"clj|cljs\"],\n    Cobol: [\"CBL|COB\"],\n    coffee: [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion: [\"cfm|cfc\"],\n    Crystal: [\"cr\"],\n    CSharp: [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS: [\"css\"],\n    Curly: [\"curly\"],\n    Cuttlefish: [\"conf\"],\n    D: [\"d|di\"],\n    Dart: [\"dart\"],\n    Diff: [\"diff|patch\"],\n    Django: [\"djt|html.djt|dj.html|djhtml\"],\n    Dockerfile: [\"^Dockerfile\"],\n    Dot: [\"dot\"],\n    Drools: [\"drl\"],\n    Edifact: [\"edi\"],\n    Eiffel: [\"e|ge\"],\n    EJS: [\"ejs\"],\n    Elixir: [\"ex|exs\"],\n    Elm: [\"elm\"],\n    Erlang: [\"erl|hrl\"],\n    Flix: [\"flix\"],\n    Forth: [\"frt|fs|ldr|fth|4th\"],\n    Fortran: [\"f|f90\"],\n    FSharp: [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL: [\"fsl\"],\n    FTL: [\"ftl\"],\n    Gcode: [\"gcode\"],\n    Gherkin: [\"feature\"],\n    Gitignore: [\"^.gitignore\"],\n    Glsl: [\"glsl|frag|vert\"],\n    Gobstones: [\"gbs\"],\n    golang: [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy: [\"groovy\"],\n    HAML: [\"haml\"],\n    Handlebars: [\"hbs|handlebars|tpl|mustache\"],\n    Haskell: [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe: [\"hx\"],\n    Hjson: [\"hjson\"],\n    HTML: [\"html|htm|xhtml|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby: [\"erb|rhtml|html.erb\"],\n    INI: [\"ini|conf|cfg|prefs\"],\n    Io: [\"io\"],\n    Ion: [\"ion\"],\n    Jack: [\"jack\"],\n    Jade: [\"jade|pug\"],\n    Java: [\"java\"],\n    JavaScript: [\"js|jsm|cjs|mjs\"],\n    JEXL: [\"jexl\"],\n    JSON: [\"json\"],\n    JSON5: [\"json5\"],\n    JSONiq: [\"jq\"],\n    JSP: [\"jsp\"],\n    JSSM: [\"jssm|jssm_state\"],\n    JSX: [\"jsx\"],\n    Julia: [\"jl\"],\n    Kotlin: [\"kt|kts\"],\n    LaTeX: [\"tex|latex|ltx|bib\"],\n    Latte: [\"latte\"],\n    LESS: [\"less\"],\n    Liquid: [\"liquid\"],\n    Lisp: [\"lisp\"],\n    LiveScript: [\"ls\"],\n    Log: [\"log\"],\n    LogiQL: [\"logic|lql\"],\n    Logtalk: [\"lgt\"],\n    LSL: [\"lsl\"],\n    Lua: [\"lua\"],\n    LuaPage: [\"lp\"],\n    Lucene: [\"lucene\"],\n    Makefile: [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown: [\"md|markdown\"],\n    Mask: [\"mask\"],\n    MATLAB: [\"matlab\"],\n    Maze: [\"mz\"],\n    MediaWiki: [\"wiki|mediawiki\"],\n    MEL: [\"mel\"],\n    MIPS: [\"s|asm\"],\n    MIXAL: [\"mixal\"],\n    MUSHCode: [\"mc|mush\"],\n    MySQL: [\"mysql\"],\n    Nasal: [\"nas\"],\n    Nginx: [\"nginx|conf\"],\n    Nim: [\"nim\"],\n    Nix: [\"nix\"],\n    NSIS: [\"nsi|nsh\"],\n    Nunjucks: [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC: [\"m|mm\"],\n    OCaml: [\"ml|mli\"],\n    Odin: [\"odin\"],\n    PartiQL: [\"partiql|pql\"],\n    Pascal: [\"pas|p\"],\n    Perl: [\"pl|pm\"],\n    pgSQL: [\"pgsql\"],\n    PHP: [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    Pig: [\"pig\"],\n    PLSQL: [\"plsql\"],\n    Powershell: [\"ps1\"],\n    Praat: [\"praat|praatscript|psc|proc\"],\n    Prisma: [\"prisma\"],\n    Prolog: [\"plg|prolog\"],\n    Properties: [\"properties\"],\n    Protobuf: [\"proto\"],\n    PRQL: [\"prql\"],\n    Puppet: [\"epp|pp\"],\n    Python: [\"py\"],\n    QML: [\"qml\"],\n    R: [\"r\"],\n    Raku: [\"raku|rakumod|rakutest|p6|pl6|pm6\"],\n    Razor: [\"cshtml|asp\"],\n    RDoc: [\"Rd\"],\n    Red: [\"red|reds\"],\n    RHTML: [\"Rhtml\"],\n    Robot: [\"robot|resource\"],\n    RST: [\"rst\"],\n    Ruby: [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust: [\"rs\"],\n    SaC: [\"sac\"],\n    SASS: [\"sass\"],\n    SCAD: [\"scad\"],\n    Scala: [\"scala|sbt\"],\n    Scheme: [\"scm|sm|rkt|oak|scheme\"],\n    Scrypt: [\"scrypt\"],\n    SCSS: [\"scss\"],\n    SH: [\"sh|bash|^.bashrc\"],\n    SJS: [\"sjs\"],\n    Slim: [\"slim|skim\"],\n    Smarty: [\"smarty|tpl\"],\n    Smithy: [\"smithy\"],\n    snippets: [\"snippets\"],\n    Soy_Template: [\"soy\"],\n    Space: [\"space\"],\n    SPARQL: [\"rq\"],\n    SQL: [\"sql\"],\n    SQLServer: [\"sqlserver\"],\n    Stylus: [\"styl|stylus\"],\n    SVG: [\"svg\"],\n    Swift: [\"swift\"],\n    Tcl: [\"tcl\"],\n    Terraform: [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex: [\"tex\"],\n    Text: [\"txt\"],\n    Textile: [\"textile\"],\n    Toml: [\"toml\"],\n    TSX: [\"tsx\"],\n    Turtle: [\"ttl\"],\n    Twig: [\"twig|swig\"],\n    Typescript: [\"ts|mts|cts|typescript|str\"],\n    Vala: [\"vala\"],\n    VBScript: [\"vbs|vb\"],\n    Velocity: [\"vm\"],\n    Verilog: [\"v|vh|sv|svh\"],\n    VHDL: [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Vue: [\"vue\"],\n    Wollok: [\"wlk|wpgm|wtest\"],\n    XML: [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery: [\"xq\"],\n    YAML: [\"yaml|yml\"],\n    Zeek: [\"zeek|bro\"],\n    Zig: [\"zig\"]\n  };\n  var nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n  };\n  var modesByName = {};\n  for (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n  }\n  module.exports = {\n    getModeForPath: getModeForPath,\n    modes: modes,\n    modesByName: modesByName\n  };\n});\nace.define(\"ace/ext/prompt\", [\"require\", \"exports\", \"module\", \"ace/config\", \"ace/range\", \"ace/lib/dom\", \"ace/autocomplete\", \"ace/autocomplete/popup\", \"ace/autocomplete/popup\", \"ace/undomanager\", \"ace/tokenizer\", \"ace/ext/menu_tools/overlay_page\", \"ace/ext/modelist\"], function (require, exports, module) {\n  /**\n  * @typedef {import(\"../editor\").Editor} Editor\n  */\n  \"use strict\";\n\n  var nls = require(\"../config\").nls;\n  var Range = require(\"../range\").Range;\n  var dom = require(\"../lib/dom\");\n  var FilteredList = require(\"../autocomplete\").FilteredList;\n  var AcePopup = require('../autocomplete/popup').AcePopup;\n  var $singleLineEditor = require('../autocomplete/popup').$singleLineEditor;\n  var UndoManager = require(\"../undomanager\").UndoManager;\n  var Tokenizer = require(\"../tokenizer\").Tokenizer;\n  var overlayPage = require(\"./menu_tools/overlay_page\").overlayPage;\n  var modelist = require(\"./modelist\");\n  var openPrompt;\n  function prompt(editor, message, options, callback) {\n    if (typeof message == \"object\") {\n      return prompt(editor, \"\", message, options);\n    }\n    if (openPrompt) {\n      var lastPrompt = openPrompt;\n      editor = lastPrompt.editor;\n      lastPrompt.close();\n      if (lastPrompt.name && lastPrompt.name == options.name) return;\n    }\n    if (options.$type) return prompt[options.$type](editor, callback);\n    var cmdLine = $singleLineEditor();\n    cmdLine.session.setUndoManager(new UndoManager());\n    var el = dom.buildDom([\"div\", {\n      class: \"ace_prompt_container\" + (options.hasDescription ? \" input-box-with-description\" : \"\")\n    }]);\n    var overlay = overlayPage(editor, el, done);\n    el.appendChild(cmdLine.container);\n    if (editor) {\n      editor.cmdLine = cmdLine;\n      cmdLine.setOption(\"fontSize\", editor.getOption(\"fontSize\"));\n    }\n    if (message) {\n      cmdLine.setValue(message, 1);\n    }\n    if (options.selection) {\n      cmdLine.selection.setRange({\n        start: cmdLine.session.doc.indexToPosition(options.selection[0]),\n        end: cmdLine.session.doc.indexToPosition(options.selection[1])\n      });\n    }\n    if (options.getCompletions) {\n      var popup = new AcePopup();\n      popup.renderer.setStyle(\"ace_autocomplete_inline\");\n      popup.container.style.display = \"block\";\n      popup.container.style.maxWidth = \"600px\";\n      popup.container.style.width = \"100%\";\n      popup.container.style.marginTop = \"3px\";\n      popup.renderer.setScrollMargin(2, 2, 0, 0);\n      popup.autoSelect = false;\n      popup.renderer.$maxLines = 15;\n      popup.setRow(-1);\n      popup.on(\"click\", function (e) {\n        var data = popup.getData(popup.getRow());\n        if (!data[\"error\"]) {\n          cmdLine.setValue(data.value || data[\"name\"] || data);\n          accept();\n          e.stop();\n        }\n      });\n      el.appendChild(popup.container);\n      updateCompletions();\n    }\n    if (options.$rules) {\n      var tokenizer = new Tokenizer(options.$rules);\n      cmdLine.session.bgTokenizer.setTokenizer(tokenizer);\n    }\n    if (options.placeholder) {\n      cmdLine.setOption(\"placeholder\", options.placeholder);\n    }\n    if (options.hasDescription) {\n      var promptTextContainer = dom.buildDom([\"div\", {\n        class: \"ace_prompt_text_container\"\n      }]);\n      dom.buildDom(options.prompt || \"Press 'Enter' to confirm or 'Escape' to cancel\", promptTextContainer);\n      el.appendChild(promptTextContainer);\n    }\n    overlay.setIgnoreFocusOut(options.ignoreFocusOut);\n    function accept() {\n      var val;\n      if (popup && popup.getCursorPosition().row > 0) {\n        val = valueFromRecentList();\n      } else {\n        val = cmdLine.getValue();\n      }\n      var curData = popup ? popup.getData(popup.getRow()) : val;\n      if (curData && !curData[\"error\"]) {\n        done();\n        options.onAccept && options.onAccept({\n          value: val,\n          item: curData\n        }, cmdLine);\n      }\n    }\n    var keys = {\n      \"Enter\": accept,\n      \"Esc|Shift-Esc\": function () {\n        options.onCancel && options.onCancel(cmdLine.getValue(), cmdLine);\n        done();\n      }\n    };\n    if (popup) {\n      Object.assign(keys, {\n        \"Up\": function (editor) {\n          popup.goTo(\"up\");\n          valueFromRecentList();\n        },\n        \"Down\": function (editor) {\n          popup.goTo(\"down\");\n          valueFromRecentList();\n        },\n        \"Ctrl-Up|Ctrl-Home\": function (editor) {\n          popup.goTo(\"start\");\n          valueFromRecentList();\n        },\n        \"Ctrl-Down|Ctrl-End\": function (editor) {\n          popup.goTo(\"end\");\n          valueFromRecentList();\n        },\n        \"Tab\": function (editor) {\n          popup.goTo(\"down\");\n          valueFromRecentList();\n        },\n        \"PageUp\": function (editor) {\n          popup.gotoPageUp();\n          valueFromRecentList();\n        },\n        \"PageDown\": function (editor) {\n          popup.gotoPageDown();\n          valueFromRecentList();\n        }\n      });\n    }\n    cmdLine.commands.bindKeys(keys);\n    function done() {\n      overlay.close();\n      callback && callback();\n      openPrompt = null;\n    }\n    cmdLine.on(\"input\", function () {\n      options.onInput && options.onInput();\n      updateCompletions();\n    });\n    function updateCompletions() {\n      if (options.getCompletions) {\n        var prefix;\n        if (options.getPrefix) {\n          prefix = options.getPrefix(cmdLine);\n        }\n        var completions = options.getCompletions(cmdLine);\n        popup.setData(completions, prefix);\n        popup.resize(true);\n      }\n    }\n    function valueFromRecentList() {\n      var current = popup.getData(popup.getRow());\n      if (current && !current[\"error\"]) return current.value || current.caption || current;\n    }\n    cmdLine.resize(true);\n    if (popup) {\n      popup.resize(true);\n    }\n    cmdLine.focus();\n    openPrompt = {\n      close: done,\n      name: options.name,\n      editor: editor\n    };\n  }\n  prompt.gotoLine = function (editor, callback) {\n    function stringifySelection(selection) {\n      if (!Array.isArray(selection)) selection = [selection];\n      return selection.map(function (r) {\n        var cursor = r.isBackwards ? r.start : r.end;\n        var anchor = r.isBackwards ? r.end : r.start;\n        var row = anchor.row;\n        var s = row + 1 + \":\" + anchor.column;\n        if (anchor.row == cursor.row) {\n          if (anchor.column != cursor.column) s += \">\" + \":\" + cursor.column;\n        } else {\n          s += \">\" + (cursor.row + 1) + \":\" + cursor.column;\n        }\n        return s;\n      }).reverse().join(\", \");\n    }\n    prompt(editor, \":\" + stringifySelection(editor.selection.toJSON()), {\n      name: \"gotoLine\",\n      selection: [1, Number.MAX_VALUE],\n      onAccept: function (data) {\n        var value = data.value;\n        var _history = prompt.gotoLine[\"_history\"];\n        if (!_history) prompt.gotoLine[\"_history\"] = _history = [];\n        if (_history.indexOf(value) != -1) _history.splice(_history.indexOf(value), 1);\n        _history.unshift(value);\n        if (_history.length > 20) _history.length = 20;\n        var pos = editor.getCursorPosition();\n        var ranges = [];\n        value.replace(/^:/, \"\").split(/,/).map(function (str) {\n          var parts = str.split(/([<>:+-]|c?\\d+)|[^c\\d<>:+-]+/).filter(Boolean);\n          var i = 0;\n          function readPosition() {\n            var c = parts[i++];\n            if (!c) return;\n            if (c[0] == \"c\") {\n              var index = parseInt(c.slice(1)) || 0;\n              return editor.session.doc.indexToPosition(index);\n            }\n            var row = pos.row;\n            var column = 0;\n            if (/\\d/.test(c)) {\n              row = parseInt(c) - 1;\n              c = parts[i++];\n            }\n            if (c == \":\") {\n              c = parts[i++];\n              if (/\\d/.test(c)) {\n                column = parseInt(c) || 0;\n              }\n            }\n            return {\n              row: row,\n              column: column\n            };\n          }\n          pos = readPosition();\n          var range = Range.fromPoints(pos, pos);\n          if (parts[i] == \">\") {\n            i++;\n            range.end = readPosition();\n          } else if (parts[i] == \"<\") {\n            i++;\n            range.start = readPosition();\n          }\n          ranges.unshift(range);\n        });\n        editor.selection.fromJSON(ranges);\n        var scrollTop = editor.renderer.scrollTop;\n        editor.renderer.scrollSelectionIntoView(editor.selection.anchor, editor.selection.cursor, 0.5);\n        editor.renderer.animateScrolling(scrollTop);\n      },\n      history: function () {\n        if (!prompt.gotoLine[\"_history\"]) return [];\n        return prompt.gotoLine[\"_history\"];\n      },\n      getCompletions: function (cmdLine) {\n        var value = cmdLine.getValue();\n        var m = value.replace(/^:/, \"\").split(\":\");\n        var row = Math.min(parseInt(m[0]) || 1, editor.session.getLength()) - 1;\n        var line = editor.session.getLine(row);\n        var current = value + \"  \" + line;\n        return [current].concat(this.history());\n      },\n      $rules: {\n        start: [{\n          regex: /\\d+/,\n          token: \"string\"\n        }, {\n          regex: /[:,><+\\-c]/,\n          token: \"keyword\"\n        }]\n      }\n    });\n  };\n  prompt.commands = function (editor, callback) {\n    function normalizeName(name) {\n      return (name || \"\").replace(/^./, function (x) {\n        return x.toUpperCase(x);\n      }).replace(/[a-z][A-Z]/g, function (x) {\n        return x[0] + \" \" + x[1].toLowerCase(x);\n      });\n    }\n    function getEditorCommandsByName(excludeCommands) {\n      var commandsByName = [];\n      var commandMap = {};\n      editor.keyBinding.$handlers.forEach(function (handler) {\n        var platform = handler[\"platform\"];\n        var cbn = handler[\"byName\"];\n        for (var i in cbn) {\n          var key = cbn[i].bindKey;\n          if (typeof key !== \"string\") {\n            key = key && key[platform] || \"\";\n          }\n          var commands = cbn[i];\n          var description = commands.description || normalizeName(commands.name);\n          if (!Array.isArray(commands)) commands = [commands];\n          commands.forEach(function (command) {\n            if (typeof command != \"string\") command = command.name;\n            var needle = excludeCommands.find(function (el) {\n              return el === command;\n            });\n            if (!needle) {\n              if (commandMap[command]) {\n                commandMap[command].key += \"|\" + key;\n              } else {\n                commandMap[command] = {\n                  key: key,\n                  command: command,\n                  description: description\n                };\n                commandsByName.push(commandMap[command]);\n              }\n            }\n          });\n        }\n      });\n      return commandsByName;\n    }\n    var excludeCommandsList = [\"insertstring\", \"inserttext\", \"setIndentation\", \"paste\"];\n    var shortcutsArray = getEditorCommandsByName(excludeCommandsList);\n    shortcutsArray = shortcutsArray.map(function (item) {\n      return {\n        value: item.description,\n        meta: item.key,\n        command: item.command\n      };\n    });\n    prompt(editor, \"\", {\n      name: \"commands\",\n      selection: [0, Number.MAX_VALUE],\n      maxHistoryCount: 5,\n      onAccept: function (data) {\n        if (data.item) {\n          var commandName = data.item.command;\n          this.addToHistory(data.item);\n          editor.execCommand(commandName);\n        }\n      },\n      addToHistory: function (item) {\n        var history = this.history();\n        history.unshift(item);\n        delete item.message;\n        for (var i = 1; i < history.length; i++) {\n          if (history[i][\"command\"] == item.command) {\n            history.splice(i, 1);\n            break;\n          }\n        }\n        if (this.maxHistoryCount > 0 && history.length > this.maxHistoryCount) {\n          history.splice(history.length - 1, 1);\n        }\n        prompt.commands[\"history\"] = history;\n      },\n      history: function () {\n        return prompt.commands[\"history\"] || [];\n      },\n      getPrefix: function (cmdLine) {\n        var currentPos = cmdLine.getCursorPosition();\n        var filterValue = cmdLine.getValue();\n        return filterValue.substring(0, currentPos.column);\n      },\n      getCompletions: function (cmdLine) {\n        function getFilteredCompletions(commands, prefix) {\n          var resultCommands = JSON.parse(JSON.stringify(commands));\n          var filtered = new FilteredList(resultCommands);\n          return filtered.filterCompletions(resultCommands, prefix);\n        }\n        function getUniqueCommandList(commands, usedCommands) {\n          if (!usedCommands || !usedCommands.length) {\n            return commands;\n          }\n          var excludeCommands = [];\n          usedCommands.forEach(function (item) {\n            excludeCommands.push(item.command);\n          });\n          var resultCommands = [];\n          commands.forEach(function (item) {\n            if (excludeCommands.indexOf(item.command) === -1) {\n              resultCommands.push(item);\n            }\n          });\n          return resultCommands;\n        }\n        var prefix = this.getPrefix(cmdLine);\n        var recentlyUsedCommands = getFilteredCompletions(this.history(), prefix);\n        var otherCommands = getUniqueCommandList(shortcutsArray, recentlyUsedCommands);\n        otherCommands = getFilteredCompletions(otherCommands, prefix);\n        if (recentlyUsedCommands.length && otherCommands.length) {\n          recentlyUsedCommands[0].message = nls(\"prompt.recently-used\", \"Recently used\");\n          otherCommands[0].message = nls(\"prompt.other-commands\", \"Other commands\");\n        }\n        var completions = recentlyUsedCommands.concat(otherCommands);\n        return completions.length > 0 ? completions : [{\n          value: nls(\"prompt.no-matching-commands\", \"No matching commands\"),\n          error: 1\n        }];\n      }\n    });\n  };\n  prompt.modes = function (editor, callback) {\n    var modesArray = modelist.modes;\n    modesArray = modesArray.map(function (item) {\n      return {\n        value: item.caption,\n        mode: item.name\n      };\n    });\n    prompt(editor, \"\", {\n      name: \"modes\",\n      selection: [0, Number.MAX_VALUE],\n      onAccept: function (data) {\n        if (data.item) {\n          var modeName = \"ace/mode/\" + data.item.mode;\n          editor.session.setMode(modeName);\n        }\n      },\n      getPrefix: function (cmdLine) {\n        var currentPos = cmdLine.getCursorPosition();\n        var filterValue = cmdLine.getValue();\n        return filterValue.substring(0, currentPos.column);\n      },\n      getCompletions: function (cmdLine) {\n        function getFilteredCompletions(modes, prefix) {\n          var resultCommands = JSON.parse(JSON.stringify(modes));\n          var filtered = new FilteredList(resultCommands);\n          return filtered.filterCompletions(resultCommands, prefix);\n        }\n        var prefix = this.getPrefix(cmdLine);\n        var completions = getFilteredCompletions(modesArray, prefix);\n        return completions.length > 0 ? completions : [{\n          \"caption\": \"No mode matching\",\n          \"value\": \"No mode matching\",\n          \"error\": 1\n        }];\n      }\n    });\n  };\n  dom.importCssString(\".ace_prompt_container {\\n    max-width: 603px;\\n    width: 100%;\\n    margin: 20px auto;\\n    padding: 3px;\\n    background: white;\\n    border-radius: 2px;\\n    box-shadow: 0px 2px 3px 0px #555;\\n}\", \"promtp.css\", false);\n  exports.prompt = prompt;\n});\n(function () {\n  ace.require([\"ace/ext/prompt\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();","map":{"version":3,"names":["ace","define","require","exports","module","Renderer","VirtualRenderer","Editor","Range","event","lang","dom","nls","userAgent","getAriaId","index","concat","popupAriaRole","isSafari","optionAriaRole","ariaActiveState","$singleLineEditor","el","renderer","$maxLines","editor","setHighlightActiveLine","setShowPrintMargin","setShowGutter","setHighlightGutterLine","$mouseHandler","$focusTimeout","$highlightTagPending","AcePopup","parentNode","createElement","popup","appendChild","style","display","content","cursor","setStyle","$textLayer","element","setAttribute","textarea","setOption","noop","focus","$isFocused","$cursorLayer","restartTimer","opacity","$keepTextAreaAtCursor","session","highlight","$searchHighlight","clazz","on","e","pos","getDocumentPosition","selection","moveToPosition","selectionMarker","start","row","end","stop","lastMouseEvent","hoverMarker","Infinity","id","addMarker","setSelectOnHover","val","removeMarker","x","y","scrollTop","isMouseOver","setRow","setHoverMarker","$pos","getRow","t","selected","childNodes","config","firstRow","document","activeElement","selectedNode","removeCssClass","removeAttribute","addCssClass","ariaId","getData","caption","value","data","length","hideHoverMarker","suppressRedraw","_emit","getHoveredRow","addListener","container","doc","getLength","getLine","i","bgTokenizer","$tokenizeRow","tokens","name","addToken","className","push","type","lower","toLowerCase","filterText","lastIndex","lastI","matchMask","sub","slice","indexOf","meta","message","$updateOnChange","$computeWidth","screenWidth","isOpen","isTopdown","autoSelect","setData","list","setValue","stringRepeat","line","Math","max","min","clearSelection","moveCursorTo","_signal","lead","scrollCursorIntoView","hide","anchorPos","anchor","tryShow","lineHeight","forceShow","top","left","screenHeight","window","innerHeight","innerWidth","maxH","dims","bottom","spaceBelow","$borderSize","spaceAbove","fitsX","$maxPixelHeight","offsetWidth","right","show","topdownOnly","undefined","goTo","where","getTextLeftOffset","$padding","$imageSize","importCssString","oop","EventEmitter","RangeList","HashHandler","Tokenizer","clipboard","VARIABLES","CURRENT_WORD","getTextRange","getWordRange","SELECTION","indentation","text","replace","CURRENT_LINE","getCursorPosition","PREV_LINE","LINE_INDEX","LINE_NUMBER","SOFT_TABS","getUseSoftTabs","TAB_SIZE","getTabSize","CLIPBOARD","getText","FILENAME","exec","FILEPATH","FILENAME_BASE","DIRECTORY","WORKSPACE_NAME","FULLNAME","BLOCK_COMMENT_START","mode","$mode","blockComment","BLOCK_COMMENT_END","LINE_COMMENT","lineCommentStart","CURRENT_YEAR","date","bind","year","CURRENT_YEAR_SHORT","CURRENT_MONTH","month","CURRENT_MONTH_NAME","CURRENT_MONTH_NAME_SHORT","CURRENT_DATE","day","CURRENT_DAY_NAME","weekday","CURRENT_DAY_NAME_SHORT","CURRENT_HOUR","hour","hour12","CURRENT_MINUTE","minute","CURRENT_SECOND","second","SELECTED_TEXT","dateFormat","str","Date","toLocaleString","SnippetManager","snippetMap","snippetNameMap","variables","prototype","getTokenizer","createTokenizer","TabstopToken","substr","test","tabstopId","parseInt","escape","ch","formatMatcher","regex","onMatch","state","stack","ts","fmtString","guard","flag","next","shift","unshift","token","merge","snippetVar","choices","operator","split","map","formatString","expectElse","ifEnd","elseEnd","changeCase","local","formatStringVar","formatFunction","tokenizeTmSnippet","startState","getLineTokens","getVariableValue","__","hasOwnProperty","tmStrFormat","fmt","re","RegExp","fmtTokens","_self","formatted","oldArgs","call","arguments","fmtParts","resolveVariables","gChangeCase","toUpperCase","join","tmFormatFunction","snippet","result","afterNewLine","j","gotoNext","i1","getDisplayTextForSnippet","snippetText","processedSnippet","processSnippetText","insertSnippetForSelection","options","range","getSelectionRange","tabstopManager","TabstopManager","selectionId","inVirtualSelectionMode","addTabstops","tabstops","insertSnippet","self","forEachSelection","keepOrder","tabNext","$getScope","scope","$id","pop","inlinePhp","c","getState","substring","getActiveScopes","scopes","includeScopes","apply","expandWithTab","expandSnippetForSelection","before","column","after","some","snippets","findMatchingSnippet","dryRun","removeInLine","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","snippetList","s","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","src","guardedRegexp","opening","addSnippet","old","unregister","prefix","tabTrigger","body","Array","isArray","trigger","escapeRegExp","endTrigger","endGuard","forEach","Object","keys","key","removeSnippet","nameMap","splice","parseSnippetFile","m","JSON","parse","guardRe","match","getSnippetByName","implement","tabString","getTabString","indentString","excludeExtraIndent","p","parents","isNested","expanding","copyValue","copy","lastIndexOf","parentId","lines","ranges","$onChange","onChange","$onChangeSelection","delayedCall","onChangeSelection","schedule","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","attach","$openTabstops","selectedTabstop","commands","keyBinding","addKeyboardHandler","keyboardHandler","detach","removeTabstopMarkers","off","removeKeyboardHandler","delta","isRemove","action","active","rangeList","$bias","parentActive","startIndex","pointIndex","endIndex","toRemove","removeRange","$inChange","getValue","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","original","snippetManager","command","readOnly","isEmpty","containsLead","contains","containsAnchor","dir","selectTabstop","updateTabstopMarkers","addTabstopMarkers","sel","multiSelect","toSingleRange","addRange","clone","fromOrientedRange","execCommand","matches","useLink","getOption","fromPoints","moveRelative","arg","snippetId","dest","movePoint","tabstop","addList","markerId","currentSnippetId","bindKeys","Tab","Shift-Tab","Esc","point","diff","expandSnippet","AceInlineScreenReader","screenReaderDiv","classList","add","setScreenReaderContent","completer","idString","lineIndex","_lines","firstChild","removeChild","codeElement","createCodeBlock","destroy","remove","createTextNode","AceInline","completion","inlineScreenReader","displayText","hideInlinePreview","startsWith","removeGhostText","setGhostText","$ghostText","parForEach","array","fn","callback","completed","arLength","err","ID_REGEX","retrievePrecedingIdentifier","buf","reverse","retrieveFollowingIdentifier","getCompletionPrefix","completers","identifierRegexps","identifierRegex","triggerAutocomplete","previousChar","getPrecedingCharacter","triggerCharacters","includes","util","preventParentScroll","destroyCompleter","Autocomplete","autoInsert","autoShown","exactMatch","inlineEnabled","hasSeen","Set","showLoadingState","stickySelectionDelay","blurListener","changeListener","mousedownListener","mousewheelListener","onLayoutChange","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","popupTimer","$updatePopupPosition","stickySelectionTimer","stickySelection","$firstOpenTimer","initialPosition","completionProvider","completions","FilteredList","completionsForLoading","openPopup","defineProperty","get","enumerable","configurable","$init","documentElement","insertMatch","$onPopupShow","$onHidePopup","$onPopupChange","mouseOutListener","$onPopupRender","$initInline","inlineRenderer","getPopup","hideDocTooltip","cancel","$seen","has","onSeen","$updateGhostText","base","cursorColumn","filtered","getFirstVisibleRow","getLastVisibleRow","observeLayoutChanges","$elements","addEventListener","passive","elements","unObserveLayoutChanges","_this","removeEventListener","layerConfig","getPixelPosition","rect","getBoundingClientRect","offset","scrollLeft","gutterWidth","posGhostText","$ghostTextWidget","position","offsetHeight","editorContainerBottom","lowestPosition","keepPopupPosition","oldRow","previousSelectedItem","textInput","setAriaOptions","activeDescendant","inline","newRow","setTheme","getTheme","setFontSize","getFontSize","tooltipNode","activated","getElement","fromTooltip","relatedTarget","getCompletionProvider","showPopup","CompletionProvider","gatherCompletions","setFilter","createAnchor","$insertRight","getSession","completionOptions","ignoreCaption","provideCompletions","finished","emptyMessage","completionsForEmpty","delay","cancelContextMenu","all","completersLength","getDocTooltip","completerId","docText","docHTML","showDocTooltip","item","margin","pointerEvents","overscrollBehavior","tabIndex","onblur","onclick","onTooltipClick","theme","isDark","cssClass","innerHTML","textContent","offsetTop","isFocused","a","target","nodeName","href","rel","Up","Down","Ctrl-Up|Ctrl-Home","Ctrl-Down|Ctrl-End","Return","Shift-Return","deleteSuffix","Backspace","PageUp","gotoPageUp","PageDown","gotoPageDown","for","once","startCommand","bindKey","insertByIndex","startOperation","getAllRanges","$insertString","onInsert","endOperation","total","getCompletions","results","assign","processResults","isImmediate","immediateResults","filterCompletions","sort","b","$score","localeCompare","prev","filter","items","needle","upper","loop","penalty","distance","fullMatchIndex","i2","score","cssText","overlayPage","contentElement","closer","ignoreFocusOut","documentEscListener","keyCode","close","setIgnoreFocusOut","ignore","stopPropagation","blur","modes","getModeForPath","path","modesByName","fileName","supportsFile","Mode","extensions","extRe","filename","supportedModes","ABAP","ABC","ActionScript","ADA","Alda","Apache_Conf","Apex","AQL","AsciiDoc","ASL","Assembly_ARM32","Assembly_x86","Astro","AutoHotKey","BatchFile","BibTeX","C_Cpp","C9Search","Cirru","Clojure","Cobol","coffee","ColdFusion","Crystal","CSharp","Csound_Document","Csound_Orchestra","Csound_Score","CSS","Curly","Cuttlefish","D","Dart","Diff","Django","Dockerfile","Dot","Drools","Edifact","Eiffel","EJS","Elixir","Elm","Erlang","Flix","Forth","Fortran","FSharp","FSL","FTL","Gcode","Gherkin","Gitignore","Glsl","Gobstones","golang","GraphQLSchema","Groovy","HAML","Handlebars","Haskell","Haskell_Cabal","haXe","Hjson","HTML","HTML_Elixir","HTML_Ruby","INI","Io","Ion","Jack","Jade","Java","JavaScript","JEXL","JSON5","JSONiq","JSP","JSSM","JSX","Julia","Kotlin","LaTeX","Latte","LESS","Liquid","Lisp","LiveScript","Log","LogiQL","Logtalk","LSL","Lua","LuaPage","Lucene","Makefile","Markdown","Mask","MATLAB","Maze","MediaWiki","MEL","MIPS","MIXAL","MUSHCode","MySQL","Nasal","Nginx","Nim","Nix","NSIS","Nunjucks","ObjectiveC","OCaml","Odin","PartiQL","Pascal","Perl","pgSQL","PHP","PHP_Laravel_blade","Pig","PLSQL","Powershell","Praat","Prisma","Prolog","Properties","Protobuf","PRQL","Puppet","Python","QML","R","Raku","Razor","RDoc","Red","RHTML","Robot","RST","Ruby","Rust","SaC","SASS","SCAD","Scala","Scheme","Scrypt","SCSS","SH","SJS","Slim","Smarty","Smithy","Soy_Template","Space","SPARQL","SQL","SQLServer","Stylus","SVG","Swift","Tcl","Terraform","Tex","Text","Textile","Toml","TSX","Turtle","Twig","Typescript","Vala","VBScript","Velocity","Verilog","VHDL","Visualforce","Vue","Wollok","XML","XQuery","YAML","Zeek","Zig","nameOverrides","Perl6","displayName","UndoManager","modelist","openPrompt","prompt","lastPrompt","$type","cmdLine","setUndoManager","buildDom","class","hasDescription","overlay","done","setRange","indexToPosition","maxWidth","width","marginTop","setScrollMargin","accept","$rules","tokenizer","setTokenizer","placeholder","promptTextContainer","valueFromRecentList","curData","onAccept","Esc|Shift-Esc","onCancel","onInput","getPrefix","resize","current","gotoLine","stringifySelection","r","isBackwards","toJSON","Number","MAX_VALUE","_history","parts","Boolean","readPosition","fromJSON","scrollSelectionIntoView","animateScrolling","history","normalizeName","getEditorCommandsByName","excludeCommands","commandsByName","commandMap","$handlers","handler","platform","cbn","description","find","excludeCommandsList","shortcutsArray","maxHistoryCount","commandName","addToHistory","currentPos","filterValue","getFilteredCompletions","resultCommands","stringify","getUniqueCommandList","usedCommands","recentlyUsedCommands","otherCommands","error","modesArray","modeName","setMode"],"sources":["/home/anasb/code-projects/streamlit/streamlit-code-editor/code_editor/frontend/node_modules/ace-builds/src-noconflict/ext-prompt.js"],"sourcesContent":["ace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/config\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar Renderer = require(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = require(\"../editor\").Editor;\nvar Range = require(\"../range\").Range;\nvar event = require(\"../lib/event\");\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\nvar nls = require(\"../config\").nls;\nvar userAgent = require(\"./../lib/useragent\");\nvar getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n};\nvar popupAriaRole = userAgent.isSafari ? \"menu\" : \"listbox\";\nvar optionAriaRole = userAgent.isSafari ? \"menuitem\" : \"option\";\nvar ariaActiveState = userAgent.isSafari ? \"aria-current\" : \"aria-selected\";\nvar $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n};\nvar AcePopup = /** @class */ (function () {\n    function AcePopup(parentNode) {\n        var el = dom.createElement(\"div\");\n        var popup = $singleLineEditor(el);\n        if (parentNode) {\n            parentNode.appendChild(el);\n        }\n        el.style.display = \"none\";\n        popup.renderer.content.style.cursor = \"default\";\n        popup.renderer.setStyle(\"ace_autocomplete\");\n        popup.renderer.$textLayer.element.setAttribute(\"role\", popupAriaRole);\n        popup.renderer.$textLayer.element.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.aria-roledescription\", \"Autocomplete suggestions\"));\n        popup.renderer.$textLayer.element.setAttribute(\"aria-label\", nls(\"autocomplete.popup.aria-label\", \"Autocomplete suggestions\"));\n        popup.renderer.textarea.setAttribute(\"aria-hidden\", \"true\");\n        popup.setOption(\"displayIndentGuides\", false);\n        popup.setOption(\"dragDelay\", 150);\n        var noop = function () { };\n        popup.focus = noop;\n        popup.$isFocused = true;\n        popup.renderer.$cursorLayer.restartTimer = noop;\n        popup.renderer.$cursorLayer.element.style.opacity = \"0\";\n        popup.renderer.$maxLines = 8;\n        popup.renderer.$keepTextAreaAtCursor = false;\n        popup.setHighlightActiveLine(false);\n        popup.session.highlight(\"\");\n        popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n        popup.on(\"mousedown\", function (e) {\n            var pos = e.getDocumentPosition();\n            popup.selection.moveToPosition(pos);\n            selectionMarker.start.row = selectionMarker.end.row = pos.row;\n            e.stop();\n        });\n        var lastMouseEvent;\n        var hoverMarker = new Range(-1, 0, -1, Infinity);\n        var selectionMarker = new Range(-1, 0, -1, Infinity);\n        selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n        popup.setSelectOnHover = function (val) {\n            if (!val) {\n                hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n            }\n            else if (hoverMarker.id) {\n                popup.session.removeMarker(hoverMarker.id);\n                hoverMarker.id = null;\n            }\n        };\n        popup.setSelectOnHover(false);\n        popup.on(\"mousemove\", function (e) {\n            if (!lastMouseEvent) {\n                lastMouseEvent = e;\n                return;\n            }\n            if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n                return;\n            }\n            lastMouseEvent = e;\n            lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n            popup.isMouseOver = true;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (hoverMarker.start.row != row) {\n                if (!hoverMarker.id)\n                    popup.setRow(row);\n                setHoverMarker(row);\n            }\n        });\n        popup.renderer.on(\"beforeRender\", function () {\n            if (lastMouseEvent && hoverMarker.start.row != -1) {\n                lastMouseEvent.$pos = null;\n                var row = lastMouseEvent.getDocumentPosition().row;\n                if (!hoverMarker.id)\n                    popup.setRow(row);\n                setHoverMarker(row, true);\n            }\n        });\n        popup.renderer.on(\"afterRender\", function () {\n            var row = popup.getRow();\n            var t = popup.renderer.$textLayer;\n            var selected = /** @type {HTMLElement|null} */ (t.element.childNodes[row - t.config.firstRow]);\n            var el = document.activeElement; // Active element is textarea of main editor\n            if (selected !== popup.selectedNode && popup.selectedNode) {\n                dom.removeCssClass(popup.selectedNode, \"ace_selected\");\n                el.removeAttribute(\"aria-activedescendant\");\n                popup.selectedNode.removeAttribute(ariaActiveState);\n                popup.selectedNode.removeAttribute(\"id\");\n            }\n            popup.selectedNode = selected;\n            if (selected) {\n                dom.addCssClass(selected, \"ace_selected\");\n                var ariaId = getAriaId(row);\n                selected.id = ariaId;\n                t.element.setAttribute(\"aria-activedescendant\", ariaId);\n                el.setAttribute(\"aria-activedescendant\", ariaId);\n                selected.setAttribute(\"role\", optionAriaRole);\n                selected.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.item.aria-roledescription\", \"item\"));\n                selected.setAttribute(\"aria-label\", popup.getData(row).caption || popup.getData(row).value);\n                selected.setAttribute(\"aria-setsize\", popup.data.length);\n                selected.setAttribute(\"aria-posinset\", row + 1);\n                selected.setAttribute(\"aria-describedby\", \"doc-tooltip\");\n                selected.setAttribute(ariaActiveState, \"true\");\n            }\n        });\n        var hideHoverMarker = function () { setHoverMarker(-1); };\n        var setHoverMarker = function (row, suppressRedraw) {\n            if (row !== hoverMarker.start.row) {\n                hoverMarker.start.row = hoverMarker.end.row = row;\n                if (!suppressRedraw)\n                    popup.session._emit(\"changeBackMarker\");\n                popup._emit(\"changeHoverMarker\");\n            }\n        };\n        popup.getHoveredRow = function () {\n            return hoverMarker.start.row;\n        };\n        event.addListener(popup.container, \"mouseout\", function () {\n            popup.isMouseOver = false;\n            hideHoverMarker();\n        });\n        popup.on(\"hide\", hideHoverMarker);\n        popup.on(\"changeSelection\", hideHoverMarker);\n        popup.session.doc.getLength = function () {\n            return popup.data.length;\n        };\n        popup.session.doc.getLine = function (i) {\n            var data = popup.data[i];\n            if (typeof data == \"string\")\n                return data;\n            return (data && data.value) || \"\";\n        };\n        var bgTokenizer = popup.session.bgTokenizer;\n        bgTokenizer.$tokenizeRow = function (row) {\n            var data = popup.data[row];\n            var tokens = [];\n            if (!data)\n                return tokens;\n            if (typeof data == \"string\")\n                data = { value: data };\n            var caption = data.caption || data.value || data.name;\n            function addToken(value, className) {\n                value && tokens.push({\n                    type: (data.className || \"\") + (className || \"\"),\n                    value: value\n                });\n            }\n            var lower = caption.toLowerCase();\n            var filterText = (popup.filterText || \"\").toLowerCase();\n            var lastIndex = 0;\n            var lastI = 0;\n            for (var i = 0; i <= filterText.length; i++) {\n                if (i != lastI && (data.matchMask & (1 << i) || i == filterText.length)) {\n                    var sub = filterText.slice(lastI, i);\n                    lastI = i;\n                    var index = lower.indexOf(sub, lastIndex);\n                    if (index == -1)\n                        continue;\n                    addToken(caption.slice(lastIndex, index), \"\");\n                    lastIndex = index + sub.length;\n                    addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n                }\n            }\n            addToken(caption.slice(lastIndex, caption.length), \"\");\n            tokens.push({ type: \"completion-spacer\", value: \" \" });\n            if (data.meta)\n                tokens.push({ type: \"completion-meta\", value: data.meta });\n            if (data.message)\n                tokens.push({ type: \"completion-message\", value: data.message });\n            return tokens;\n        };\n        bgTokenizer.$updateOnChange = noop;\n        bgTokenizer.start = noop;\n        popup.session.$computeWidth = function () {\n            return this.screenWidth = 0;\n        };\n        popup.isOpen = false;\n        popup.isTopdown = false;\n        popup.autoSelect = true;\n        popup.filterText = \"\";\n        popup.isMouseOver = false;\n        popup.data = [];\n        popup.setData = function (list, filterText) {\n            popup.filterText = filterText || \"\";\n            popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n            popup.data = list || [];\n            popup.setRow(0);\n        };\n        popup.getData = function (row) {\n            return popup.data[row];\n        };\n        popup.getRow = function () {\n            return selectionMarker.start.row;\n        };\n        popup.setRow = function (line) {\n            line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, line));\n            if (selectionMarker.start.row != line) {\n                popup.selection.clearSelection();\n                selectionMarker.start.row = selectionMarker.end.row = line || 0;\n                popup.session._emit(\"changeBackMarker\");\n                popup.moveCursorTo(line || 0, 0);\n                if (popup.isOpen)\n                    popup._signal(\"select\");\n            }\n        };\n        popup.on(\"changeSelection\", function () {\n            if (popup.isOpen)\n                popup.setRow(popup.selection.lead.row);\n            popup.renderer.scrollCursorIntoView();\n        });\n        popup.hide = function () {\n            this.container.style.display = \"none\";\n            popup.anchorPos = null;\n            popup.anchor = null;\n            if (popup.isOpen) {\n                popup.isOpen = false;\n                this._signal(\"hide\");\n            }\n        };\n        popup.tryShow = function (pos, lineHeight, anchor, forceShow) {\n            if (!forceShow && popup.isOpen && popup.anchorPos && popup.anchor &&\n                popup.anchorPos.top === pos.top && popup.anchorPos.left === pos.left &&\n                popup.anchor === anchor) {\n                return true;\n            }\n            var el = this.container;\n            var screenHeight = window.innerHeight;\n            var screenWidth = window.innerWidth;\n            var renderer = this.renderer;\n            var maxH = renderer.$maxLines * lineHeight * 1.4;\n            var dims = { top: 0, bottom: 0, left: 0 };\n            var spaceBelow = screenHeight - pos.top - 3 * this.$borderSize - lineHeight;\n            var spaceAbove = pos.top - 3 * this.$borderSize;\n            if (!anchor) {\n                if (spaceAbove <= spaceBelow || spaceBelow >= maxH) {\n                    anchor = \"bottom\";\n                }\n                else {\n                    anchor = \"top\";\n                }\n            }\n            if (anchor === \"top\") {\n                dims.bottom = pos.top - this.$borderSize;\n                dims.top = dims.bottom - maxH;\n            }\n            else if (anchor === \"bottom\") {\n                dims.top = pos.top + lineHeight + this.$borderSize;\n                dims.bottom = dims.top + maxH;\n            }\n            var fitsX = dims.top >= 0 && dims.bottom <= screenHeight;\n            if (!forceShow && !fitsX) {\n                return false;\n            }\n            if (!fitsX) {\n                if (anchor === \"top\") {\n                    renderer.$maxPixelHeight = spaceAbove;\n                }\n                else {\n                    renderer.$maxPixelHeight = spaceBelow;\n                }\n            }\n            else {\n                renderer.$maxPixelHeight = null;\n            }\n            if (anchor === \"top\") {\n                el.style.top = \"\";\n                el.style.bottom = (screenHeight - dims.bottom) + \"px\";\n                popup.isTopdown = false;\n            }\n            else {\n                el.style.top = dims.top + \"px\";\n                el.style.bottom = \"\";\n                popup.isTopdown = true;\n            }\n            el.style.display = \"\";\n            var left = pos.left;\n            if (left + el.offsetWidth > screenWidth)\n                left = screenWidth - el.offsetWidth;\n            el.style.left = left + \"px\";\n            el.style.right = \"\";\n            if (!popup.isOpen) {\n                popup.isOpen = true;\n                this._signal(\"show\");\n                lastMouseEvent = null;\n            }\n            popup.anchorPos = pos;\n            popup.anchor = anchor;\n            return true;\n        };\n        popup.show = function (pos, lineHeight, topdownOnly) {\n            this.tryShow(pos, lineHeight, topdownOnly ? \"bottom\" : undefined, true);\n        };\n        popup.goTo = function (where) {\n            var row = this.getRow();\n            var max = this.session.getLength() - 1;\n            switch (where) {\n                case \"up\":\n                    row = row <= 0 ? max : row - 1;\n                    break;\n                case \"down\":\n                    row = row >= max ? -1 : row + 1;\n                    break;\n                case \"start\":\n                    row = 0;\n                    break;\n                case \"end\":\n                    row = max;\n                    break;\n            }\n            this.setRow(row);\n        };\n        popup.getTextLeftOffset = function () {\n            return this.$borderSize + this.renderer.$padding + this.$imageSize;\n        };\n        popup.$imageSize = 0;\n        popup.$borderSize = 1;\n        return popup;\n    }\n    return AcePopup;\n}());\ndom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin-left: 0.9em;\\n}\\n.ace_completion-message {\\n    margin-left: 0.9em;\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\\n.ace_autocomplete .ace_text-layer  {\\n    width: calc(100% - 8px);\\n}\\n.ace_autocomplete .ace_line {\\n    display: flex;\\n    align-items: center;\\n}\\n.ace_autocomplete .ace_line > * {\\n    min-width: 0;\\n    flex: 0 0 auto;\\n}\\n.ace_autocomplete .ace_line .ace_ {\\n    flex: 0 1 auto;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ace_autocomplete .ace_completion-spacer {\\n    flex: 1;\\n}\\n.ace_autocomplete.ace_loading:after  {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0px;\\n    height: 2px;\\n    width: 8%;\\n    background: blue;\\n    z-index: 100;\\n    animation: ace_progress 3s infinite linear;\\n    animation-delay: 300ms;\\n    transform: translateX(-100%) scaleX(1);\\n}\\n@keyframes ace_progress {\\n    0% { transform: translateX(-100%) scaleX(1) }\\n    50% { transform: translateX(625%) scaleX(2) } \\n    100% { transform: translateX(1500%) scaleX(3) } \\n}\\n@media (prefers-reduced-motion) {\\n    .ace_autocomplete.ace_loading:after {\\n        transform: translateX(625%) scaleX(2);\\n        animation: none;\\n     }\\n}\\n\", \"autocompletion.css\", false);\nexports.AcePopup = AcePopup;\nexports.$singleLineEditor = $singleLineEditor;\nexports.getAriaId = getAriaId;\n\n});\n\nace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/range_list\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/clipboard\",\"ace/editor\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar lang = require(\"./lib/lang\");\nvar Range = require(\"./range\").Range;\nvar RangeList = require(\"./range_list\").RangeList;\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = require(\"./tokenizer\").Tokenizer;\nvar clipboard = require(\"./clipboard\");\nvar VARIABLES = {\n    CURRENT_WORD: function (editor) {\n        return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n        var text = editor.session.getTextRange();\n        if (indentation)\n            return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n        return text;\n    },\n    CURRENT_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n        return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n        return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n        return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n        return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n        return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n        return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) { return \"/not implemented.txt\"; },\n    WORKSPACE_NAME: function () { return \"Unknown\"; },\n    FULLNAME: function () { return \"Unknown\"; },\n    BLOCK_COMMENT_START: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, { year: \"numeric\" }),\n    CURRENT_YEAR_SHORT: date.bind(null, { year: \"2-digit\" }),\n    CURRENT_MONTH: date.bind(null, { month: \"numeric\" }),\n    CURRENT_MONTH_NAME: date.bind(null, { month: \"long\" }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, { month: \"short\" }),\n    CURRENT_DATE: date.bind(null, { day: \"2-digit\" }),\n    CURRENT_DAY_NAME: date.bind(null, { weekday: \"long\" }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, { weekday: \"short\" }),\n    CURRENT_HOUR: date.bind(null, { hour: \"2-digit\", hour12: false }),\n    CURRENT_MINUTE: date.bind(null, { minute: \"2-digit\" }),\n    CURRENT_SECOND: date.bind(null, { second: \"2-digit\" })\n};\nVARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\nfunction date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n}\nvar SnippetManager = /** @class */ (function () {\n    function SnippetManager() {\n        this.snippetMap = {};\n        this.snippetNameMap = {};\n        this.variables = VARIABLES;\n    }\n    SnippetManager.prototype.getTokenizer = function () {\n        return SnippetManager[\"$tokenizer\"] || this.createTokenizer();\n    };\n    SnippetManager.prototype.createTokenizer = function () {\n        function TabstopToken(str) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str))\n                return [{ tabstopId: parseInt(str, 10) }];\n            return [{ text: str }];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        var formatMatcher = {\n            regex: \"/(\" + escape(\"/\") + \"+)/\",\n            onMatch: function (val, state, stack) {\n                var ts = stack[0];\n                ts.fmtString = true;\n                ts.guard = val.slice(1, -1);\n                ts.flag = \"\";\n                return \"\";\n            },\n            next: \"formatString\"\n        };\n        SnippetManager[\"$tokenizer\"] = new Tokenizer({\n            start: [\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length) {\n                            val = ch;\n                        }\n                        else if (\"`$\\\\\".indexOf(ch) != -1) {\n                            val = ch;\n                        }\n                        return [val];\n                    } },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        return [stack.length ? stack.shift() : val];\n                    } },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken },\n                { regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function (str, state, stack) {\n                        var t = TabstopToken(str.substr(1));\n                        stack.unshift(t[0]);\n                        return t;\n                    }, next: \"snippetVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false }\n            ],\n            snippetVar: [\n                { regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function (val, state, stack) {\n                        var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n                            return operator.length == 2 ? operator[1] : \"\\x00\";\n                        }).split(\"\\x00\").map(function (value) {\n                            return { value: value };\n                        });\n                        stack[0].choices = choices;\n                        return [choices[0]];\n                    }, next: \"start\" },\n                formatMatcher,\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\" }\n            ],\n            formatString: [\n                { regex: /:/, onMatch: function (val, state, stack) {\n                        if (stack.length && stack[0].expectElse) {\n                            stack[0].expectElse = false;\n                            stack[0].ifEnd = { elseEnd: stack[0] };\n                            return [stack[0].ifEnd];\n                        }\n                        return \":\";\n                    } },\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length)\n                            val = ch;\n                        else if (\"`$\\\\\".indexOf(ch) != -1)\n                            val = ch;\n                        else if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\t\";\n                        else if (\"ulULE\".indexOf(ch) != -1)\n                            val = { changeCase: ch, local: ch > \"a\" };\n                        return [val];\n                    } },\n                { regex: \"/\\\\w*}\", onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        if (next)\n                            next.flag = val.slice(1, -1);\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: function (val, state, stack) {\n                        return [{ text: val.slice(1) }];\n                    } },\n                { regex: /\\${\\w+/, onMatch: function (val, state, stack) {\n                        var token = { text: val.slice(2) };\n                        stack.unshift(token);\n                        return [token];\n                    }, next: \"formatStringVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" }\n            ],\n            formatStringVar: [\n                { regex: /:\\/\\w+}/, onMatch: function (val, state, stack) {\n                        var ts = stack[0];\n                        ts.formatFunction = val.slice(2, -1);\n                        return [stack.shift()];\n                    }, next: \"formatString\" },\n                formatMatcher,\n                { regex: /:[\\?\\-+]?/, onMatch: function (val, state, stack) {\n                        if (val[1] == \"+\")\n                            stack[0].ifEnd = stack[0];\n                        if (val[1] == \"?\")\n                            stack[0].expectElse = true;\n                    }, next: \"formatString\" },\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"formatString\" }\n            ]\n        });\n        return SnippetManager[\"$tokenizer\"];\n    };\n    SnippetManager.prototype.tokenizeTmSnippet = function (str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n            return x.value || x;\n        });\n    };\n    SnippetManager.prototype.getVariableValue = function (editor, name, indentation) {\n        if (/^\\d+$/.test(name))\n            return (this.variables.__ || {})[name] || \"\";\n        if (/^[A-Z]\\d+$/.test(name))\n            return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n        name = name.replace(/^TM_/, \"\");\n        if (!this.variables.hasOwnProperty(name))\n            return \"\";\n        var value = this.variables[name];\n        if (typeof value == \"function\")\n            value = this.variables[name](editor, name, indentation);\n        return value == null ? \"\" : value;\n    };\n    SnippetManager.prototype.tmStrFormat = function (str, ch, editor) {\n        if (!ch.fmt)\n            return str;\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n        var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n        var _self = this;\n        var formatted = str.replace(re, function () {\n            var oldArgs = _self.variables.__;\n            _self.variables.__ = [].slice.call(arguments);\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    }\n                    else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                }\n                else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                }\n                else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            _self.variables.__ = oldArgs;\n            return fmtParts.join(\"\");\n        });\n        return formatted;\n    };\n    SnippetManager.prototype.tmFormatFunction = function (str, ch, editor) {\n        if (ch.formatFunction == \"upcase\")\n            return str.toUpperCase();\n        if (ch.formatFunction == \"downcase\")\n            return str.toLowerCase();\n        return str;\n    };\n    SnippetManager.prototype.resolveVariables = function (snippet, editor) {\n        var result = [];\n        var indentation = \"\";\n        var afterNewLine = true;\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n                if (ch == \"\\n\") {\n                    afterNewLine = true;\n                    indentation = \"\";\n                }\n                else if (afterNewLine) {\n                    indentation = /^\\t*/.exec(ch)[0];\n                    afterNewLine = /\\S/.test(ch);\n                }\n                continue;\n            }\n            if (!ch)\n                continue;\n            afterNewLine = false;\n            if (ch.fmtString) {\n                var j = snippet.indexOf(ch, i + 1);\n                if (j == -1)\n                    j = snippet.length;\n                ch.fmt = snippet.slice(i + 1, j);\n                i = j;\n            }\n            if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n                if (ch.fmtString)\n                    value = this.tmStrFormat(value, ch, editor);\n                if (ch.formatFunction)\n                    value = this.tmFormatFunction(value, ch, editor);\n                if (value && !ch.ifEnd) {\n                    result.push(value);\n                    gotoNext(ch);\n                }\n                else if (!value && ch.ifEnd) {\n                    gotoNext(ch.ifEnd);\n                }\n            }\n            else if (ch.elseEnd) {\n                gotoNext(ch.elseEnd);\n            }\n            else if (ch.tabstopId != null) {\n                result.push(ch);\n            }\n            else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n    SnippetManager.prototype.getDisplayTextForSnippet = function (editor, snippetText) {\n        var processedSnippet = processSnippetText.call(this, editor, snippetText);\n        return processedSnippet.text;\n    };\n    SnippetManager.prototype.insertSnippetForSelection = function (editor, snippetText, options) {\n        if (options === void 0) { options = {}; }\n        var processedSnippet = processSnippetText.call(this, editor, snippetText, options);\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, processedSnippet.text);\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(processedSnippet.tabstops, range.start, end, selectionId);\n    };\n    SnippetManager.prototype.insertSnippet = function (editor, snippetText, options) {\n        if (options === void 0) { options = {}; }\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText, options);\n        editor.forEachSelection(function () {\n            self.insertSnippetForSelection(editor, snippetText, options);\n        }, null, { keepOrder: true });\n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n    SnippetManager.prototype.$getScope = function (editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp)\n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        return scope;\n    };\n    SnippetManager.prototype.getActiveScopes = function (editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n    SnippetManager.prototype.expandWithTab = function (editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function () {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, { keepOrder: true });\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    SnippetManager.prototype.expandSnippetForSelection = function (editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n    SnippetManager.prototype.findMatchingSnippet = function (snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n    SnippetManager.prototype.register = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        if (!snippets)\n            snippets = [];\n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            }\n            else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n            if (s.prefix)\n                s.tabTrigger = s.prefix;\n            if (!s.content && s.body)\n                s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger);\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger);\n        }\n        if (Array.isArray(snippets)) {\n            snippets.forEach(addSnippet);\n        }\n        else {\n            Object.keys(snippets).forEach(function (key) {\n                addSnippet(snippets[key]);\n            });\n        }\n        this._signal(\"registerSnippets\", { scope: scope });\n    };\n    SnippetManager.prototype.unregister = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope || scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope || scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    SnippetManager.prototype.parseSnippetFile = function (str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], /**@type{Snippet}*/ snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                }\n                catch (e) { }\n            }\n            if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            }\n            else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                }\n                else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                }\n                else if (key) {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    SnippetManager.prototype.getSnippetByName = function (name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n    return SnippetManager;\n}());\noop.implement(SnippetManager.prototype, EventEmitter);\nvar processSnippetText = function (editor, snippetText, options) {\n    if (options === void 0) { options = {}; }\n    var cursor = editor.getCursorPosition();\n    var line = editor.session.getLine(cursor.row);\n    var tabString = editor.session.getTabString();\n    var indentString = line.match(/^\\s*/)[0];\n    if (cursor.column < indentString.length)\n        indentString = indentString.slice(0, cursor.column);\n    snippetText = snippetText.replace(/\\r/g, \"\");\n    var tokens = this.tokenizeTmSnippet(snippetText);\n    tokens = this.resolveVariables(tokens, editor);\n    tokens = tokens.map(function (x) {\n        if (x == \"\\n\" && !options.excludeExtraIndent)\n            return x + indentString;\n        if (typeof x == \"string\")\n            return x.replace(/\\t/g, tabString);\n        return x;\n    });\n    var tabstops = [];\n    tokens.forEach(function (p, i) {\n        if (typeof p != \"object\")\n            return;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        if (!ts) {\n            ts = tabstops[id] = [];\n            ts.index = id;\n            ts.value = \"\";\n            ts.parents = {};\n        }\n        if (ts.indexOf(p) !== -1)\n            return;\n        if (p.choices && !ts.choices)\n            ts.choices = p.choices;\n        ts.push(p);\n        var i1 = tokens.indexOf(p, i + 1);\n        if (i1 === -1)\n            return;\n        var value = tokens.slice(i + 1, i1);\n        var isNested = value.some(function (t) { return typeof t === \"object\"; });\n        if (isNested && !ts.value) {\n            ts.value = value;\n        }\n        else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n            ts.value = value.join(\"\");\n        }\n    });\n    tabstops.forEach(function (ts) { ts.length = 0; });\n    var expanding = {};\n    function copyValue(val) {\n        var copy = [];\n        for (var i = 0; i < val.length; i++) {\n            var p = val[i];\n            if (typeof p == \"object\") {\n                if (expanding[p.tabstopId])\n                    continue;\n                var j = val.lastIndexOf(p, i - 1);\n                p = copy[j] || { tabstopId: p.tabstopId };\n            }\n            copy[i] = p;\n        }\n        return copy;\n    }\n    for (var i = 0; i < tokens.length; i++) {\n        var p = tokens[i];\n        if (typeof p != \"object\")\n            continue;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        var i1 = tokens.indexOf(p, i + 1);\n        if (expanding[id]) {\n            if (expanding[id] === p) {\n                delete expanding[id];\n                Object.keys(expanding).forEach(function (parentId) {\n                    ts.parents[parentId] = true;\n                });\n            }\n            continue;\n        }\n        expanding[id] = p;\n        var value = ts.value;\n        if (typeof value !== \"string\")\n            value = copyValue(value);\n        else if (p.fmt)\n            value = this.tmStrFormat(value, p, editor);\n        tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n        if (ts.indexOf(p) === -1)\n            ts.push(p);\n    }\n    var row = 0, column = 0;\n    var text = \"\";\n    tokens.forEach(function (t) {\n        if (typeof t === \"string\") {\n            var lines = t.split(\"\\n\");\n            if (lines.length > 1) {\n                column = lines[lines.length - 1].length;\n                row += lines.length - 1;\n            }\n            else\n                column += t.length;\n            text += t;\n        }\n        else if (t) {\n            if (!t.start)\n                t.start = { row: row, column: column };\n            else\n                t.end = { row: row, column: column };\n        }\n    });\n    return {\n        text: text,\n        tabstops: tabstops,\n        tokens: tokens\n    };\n};\nvar TabstopManager = /** @class */ (function () {\n    function TabstopManager(editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        if (editor.tabstopManager)\n            return editor.tabstopManager;\n        editor.tabstopManager = this;\n        this.$onChange = this.onChange.bind(this);\n        this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n        this.$onChangeSession = this.onChangeSession.bind(this);\n        this.$onAfterExec = this.onAfterExec.bind(this);\n        this.attach(editor);\n    }\n    TabstopManager.prototype.attach = function (editor) {\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n        this.editor = editor;\n        this.session = editor.session;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    TabstopManager.prototype.detach = function () {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges.length = 0;\n        this.tabstops.length = 0;\n        this.selectedTabstop = null;\n        this.editor.off(\"change\", this.$onChange);\n        this.editor.off(\"changeSelection\", this.$onChangeSelection);\n        this.editor.off(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.off(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.session = null;\n        this.editor = null;\n    };\n    TabstopManager.prototype.onChange = function (delta) {\n        var isRemove = delta.action[0] == \"r\";\n        var selectedTabstop = this.selectedTabstop || {};\n        var parents = selectedTabstop.parents || {};\n        var tabstops = this.tabstops.slice();\n        for (var i = 0; i < tabstops.length; i++) {\n            var ts = tabstops[i];\n            var active = ts == selectedTabstop || parents[ts.index];\n            ts.rangeList.$bias = active ? 0 : 1;\n            if (delta.action == \"remove\" && ts !== selectedTabstop) {\n                var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n                var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n                startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n                var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n                endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n                var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n                for (var j = 0; j < toRemove.length; j++)\n                    this.removeRange(toRemove[j]);\n            }\n            ts.rangeList.$onChange(delta);\n        }\n        var session = this.session;\n        if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue())\n            this.detach();\n    };\n    TabstopManager.prototype.updateLinkedFields = function () {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked)\n            return;\n        this.$inChange = true;\n        var session = this.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = 0; i < ts.length; i++) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var original = range.original;\n            var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    TabstopManager.prototype.onAfterExec = function (e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    TabstopManager.prototype.onChangeSelection = function () {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = 0; i < this.ranges.length; i++) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    TabstopManager.prototype.onChangeSession = function () {\n        this.detach();\n    };\n    TabstopManager.prototype.tabNext = function (dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        this.updateTabstopMarkers();\n        if (index === 0) {\n            this.detach();\n        }\n    };\n    TabstopManager.prototype.selectTabstop = function (index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        this.selectedTabstop = ts;\n        var range = ts.firstNonLinked || ts;\n        if (ts.choices)\n            range.cursor = range.start;\n        if (!this.editor.inVirtualSelectionMode) {\n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(range);\n            for (var i = 0; i < ts.length; i++) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n        }\n        else {\n            this.editor.selection.fromOrientedRange(range);\n        }\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        if (this.selectedTabstop && this.selectedTabstop.choices)\n            this.editor.execCommand(\"startAutocomplete\", { matches: this.selectedTabstop.choices });\n    };\n    TabstopManager.prototype.addTabstops = function (tabstops, start, end) {\n        var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        var snippetId = this.snippetId = (this.snippetId || 0) + 1;\n        tabstops.forEach(function (ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n            dest.snippetId = snippetId;\n            for (var i = 0; i < ts.length; i++) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString || (dest.firstNonLinked && useLink)) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                }\n                else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n            dest.rangeList = dest.rangeList || new RangeList();\n            dest.rangeList.$bias = 0;\n            dest.rangeList.addList(dest);\n        }, this);\n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n    TabstopManager.prototype.addTabstopMarkers = function (ts) {\n        var session = this.session;\n        ts.forEach(function (range) {\n            if (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    TabstopManager.prototype.removeTabstopMarkers = function (ts) {\n        var session = this.session;\n        ts.forEach(function (range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    TabstopManager.prototype.updateTabstopMarkers = function () {\n        if (!this.selectedTabstop)\n            return;\n        var currentSnippetId = this.selectedTabstop.snippetId;\n        if (this.selectedTabstop.index === 0) {\n            currentSnippetId--;\n        }\n        this.tabstops.forEach(function (ts) {\n            if (ts.snippetId === currentSnippetId)\n                this.addTabstopMarkers(ts);\n            else\n                this.removeTabstopMarkers(ts);\n        }, this);\n    };\n    TabstopManager.prototype.removeRange = function (range) {\n        var i = range.tabstop.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        if (i != -1)\n            this.ranges.splice(i, 1);\n        i = range.tabstop.rangeList.ranges.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        this.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n    return TabstopManager;\n}());\nTabstopManager.prototype.keyboardHandler = new HashHandler();\nTabstopManager.prototype.keyboardHandler.bindKeys({\n    \"Tab\": function (editor) {\n        if (exports.snippetManager && exports.snippetManager.expandWithTab(editor))\n            return;\n        editor.tabstopManager.tabNext(1);\n        editor.renderer.scrollCursorIntoView();\n    },\n    \"Shift-Tab\": function (editor) {\n        editor.tabstopManager.tabNext(-1);\n        editor.renderer.scrollCursorIntoView();\n    },\n    \"Esc\": function (editor) {\n        editor.tabstopManager.detach();\n    }\n});\nvar movePoint = function (point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\nvar moveRelative = function (point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\ndom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\nexports.snippetManager = new SnippetManager();\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.insertSnippet = function (content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete/inline_screenreader\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar AceInlineScreenReader = /** @class */ (function () {\n    function AceInlineScreenReader(editor) {\n        this.editor = editor;\n        this.screenReaderDiv = document.createElement(\"div\");\n        this.screenReaderDiv.classList.add(\"ace_screenreader-only\");\n        this.editor.container.appendChild(this.screenReaderDiv);\n    }\n    AceInlineScreenReader.prototype.setScreenReaderContent = function (content) {\n        if (!this.popup && this.editor.completer && /**@type{import(\"../autocomplete\").Autocomplete}*/ (this.editor.completer).popup) {\n            this.popup = /**@type{import(\"../autocomplete\").Autocomplete}*/ (this.editor.completer).popup;\n            this.popup.renderer.on(\"afterRender\", function () {\n                var row = this.popup.getRow();\n                var t = this.popup.renderer.$textLayer;\n                var selected = t.element.childNodes[row - t.config.firstRow];\n                if (selected) {\n                    var idString = \"doc-tooltip \";\n                    for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n                        idString += \"ace-inline-screenreader-line-\".concat(lineIndex, \" \");\n                    }\n                    selected.setAttribute(\"aria-describedby\", idString);\n                }\n            }.bind(this));\n        }\n        while (this.screenReaderDiv.firstChild) {\n            this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);\n        }\n        this._lines = content.split(/\\r\\n|\\r|\\n/);\n        var codeElement = this.createCodeBlock();\n        this.screenReaderDiv.appendChild(codeElement);\n    };\n    AceInlineScreenReader.prototype.destroy = function () {\n        this.screenReaderDiv.remove();\n    };\n    AceInlineScreenReader.prototype.createCodeBlock = function () {\n        var container = document.createElement(\"pre\");\n        container.setAttribute(\"id\", \"ace-inline-screenreader\");\n        for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n            var codeElement = document.createElement(\"code\");\n            codeElement.setAttribute(\"id\", \"ace-inline-screenreader-line-\".concat(lineIndex));\n            var line = document.createTextNode(this._lines[lineIndex]);\n            codeElement.appendChild(line);\n            container.appendChild(codeElement);\n        }\n        return container;\n    };\n    return AceInlineScreenReader;\n}());\nexports.AceInlineScreenReader = AceInlineScreenReader;\n\n});\n\nace.define(\"ace/autocomplete/inline\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete/inline_screenreader\"], function(require, exports, module){\"use strict\";\nvar snippetManager = require(\"../snippets\").snippetManager;\nvar AceInlineScreenReader = require(\"./inline_screenreader\").AceInlineScreenReader;\nvar AceInline = /** @class */ (function () {\n    function AceInline() {\n        this.editor = null;\n    }\n    AceInline.prototype.show = function (editor, completion, prefix) {\n        prefix = prefix || \"\";\n        if (editor && this.editor && this.editor !== editor) {\n            this.hide();\n            this.editor = null;\n            this.inlineScreenReader = null;\n        }\n        if (!editor || !completion) {\n            return false;\n        }\n        if (!this.inlineScreenReader) {\n            this.inlineScreenReader = new AceInlineScreenReader(editor);\n        }\n        var displayText = completion.snippet ? snippetManager.getDisplayTextForSnippet(editor, completion.snippet) : completion.value;\n        if (completion.hideInlinePreview || !displayText || !displayText.startsWith(prefix)) {\n            return false;\n        }\n        this.editor = editor;\n        this.inlineScreenReader.setScreenReaderContent(displayText);\n        displayText = displayText.slice(prefix.length);\n        if (displayText === \"\") {\n            editor.removeGhostText();\n        }\n        else {\n            editor.setGhostText(displayText);\n        }\n        return true;\n    };\n    AceInline.prototype.isOpen = function () {\n        if (!this.editor) {\n            return false;\n        }\n        return !!this.editor.renderer.$ghostText;\n    };\n    AceInline.prototype.hide = function () {\n        if (!this.editor) {\n            return false;\n        }\n        this.editor.removeGhostText();\n        return true;\n    };\n    AceInline.prototype.destroy = function () {\n        this.hide();\n        this.editor = null;\n        if (this.inlineScreenReader) {\n            this.inlineScreenReader.destroy();\n            this.inlineScreenReader = null;\n        }\n    };\n    return AceInline;\n}());\nexports.AceInline = AceInline;\n\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function (result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\nexports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\nexports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function (identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\nexports.triggerAutocomplete = function (editor, previousChar) {\n    var previousChar = previousChar == null\n        ? editor.session.getPrecedingCharacter()\n        : previousChar;\n    return editor.completers.some(function (completer) {\n        if (completer.triggerCharacters && Array.isArray(completer.triggerCharacters)) {\n            return completer.triggerCharacters.includes(previousChar);\n        }\n    });\n};\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/inline\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\",\"ace/config\",\"ace/lib/event\",\"ace/lib/scroll\"], function(require, exports, module){\"use strict\";\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = require(\"./autocomplete/popup\").AcePopup;\nvar AceInline = require(\"./autocomplete/inline\").AceInline;\nvar getAriaId = require(\"./autocomplete/popup\").getAriaId;\nvar util = require(\"./autocomplete/util\");\nvar lang = require(\"./lib/lang\");\nvar dom = require(\"./lib/dom\");\nvar snippetManager = require(\"./snippets\").snippetManager;\nvar config = require(\"./config\");\nvar event = require(\"./lib/event\");\nvar preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\nvar destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n};\nvar Autocomplete = /** @class */ (function () {\n    function Autocomplete() {\n        this.autoInsert = false;\n        this.autoSelect = true;\n        this.autoShown = false;\n        this.exactMatch = false;\n        this.inlineEnabled = false;\n        this.keyboardHandler = new HashHandler();\n        this.keyboardHandler.bindKeys(this.commands);\n        this.parentNode = null;\n        this.setSelectOnHover = false;\n        this.hasSeen = new Set();\n        this.showLoadingState = false;\n        this.stickySelectionDelay = 500;\n        this.blurListener = this.blurListener.bind(this);\n        this.changeListener = this.changeListener.bind(this);\n        this.mousedownListener = this.mousedownListener.bind(this);\n        this.mousewheelListener = this.mousewheelListener.bind(this);\n        this.onLayoutChange = this.onLayoutChange.bind(this);\n        this.changeTimer = lang.delayedCall(function () {\n            this.updateCompletions(true);\n        }.bind(this));\n        this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n        this.popupTimer = lang.delayedCall(this.$updatePopupPosition.bind(this), 50);\n        this.stickySelectionTimer = lang.delayedCall(function () {\n            this.stickySelection = true;\n        }.bind(this), this.stickySelectionDelay);\n        this.$firstOpenTimer = lang.delayedCall(/**@this{Autocomplete}*/ function () {\n            var initialPosition = this.completionProvider && this.completionProvider.initialPosition;\n            if (this.autoShown || (this.popup && this.popup.isOpen) || !initialPosition || this.editor.completers.length === 0)\n                return;\n            this.completions = new FilteredList(Autocomplete.completionsForLoading);\n            this.openPopup(this.editor, initialPosition.prefix, false);\n            this.popup.renderer.setStyle(\"ace_loading\", true);\n        }.bind(this), this.stickySelectionDelay);\n    }\n    Object.defineProperty(Autocomplete, \"completionsForLoading\", {\n        get: function () {\n            return [{\n                    caption: config.nls(\"autocomplete.loading\", \"Loading...\"),\n                    value: \"\"\n                }];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Autocomplete.prototype.$init = function () {\n        this.popup = new AcePopup(this.parentNode || document.body || document.documentElement);\n        this.popup.on(\"click\", function (e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.$onPopupShow.bind(this));\n        this.popup.on(\"hide\", this.$onHidePopup.bind(this));\n        this.popup.on(\"select\", this.$onPopupChange.bind(this));\n        event.addListener(this.popup.container, \"mouseout\", this.mouseOutListener.bind(this));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        this.popup.renderer.on(\"afterRender\", this.$onPopupRender.bind(this));\n        return this.popup;\n    };\n    Autocomplete.prototype.$initInline = function () {\n        if (!this.inlineEnabled || this.inlineRenderer)\n            return;\n        this.inlineRenderer = new AceInline();\n        return this.inlineRenderer;\n    };\n    Autocomplete.prototype.getPopup = function () {\n        return this.popup || this.$init();\n    };\n    Autocomplete.prototype.$onHidePopup = function () {\n        if (this.inlineRenderer) {\n            this.inlineRenderer.hide();\n        }\n        this.hideDocTooltip();\n        this.stickySelectionTimer.cancel();\n        this.popupTimer.cancel();\n        this.stickySelection = false;\n    };\n    Autocomplete.prototype.$seen = function (completion) {\n        if (!this.hasSeen.has(completion) && completion && completion.completer && completion.completer.onSeen && typeof completion.completer.onSeen === \"function\") {\n            completion.completer.onSeen(this.editor, completion);\n            this.hasSeen.add(completion);\n        }\n    };\n    Autocomplete.prototype.$onPopupChange = function (hide) {\n        if (this.inlineRenderer && this.inlineEnabled) {\n            var completion = hide ? null : this.popup.getData(this.popup.getRow());\n            this.$updateGhostText(completion);\n            if (this.popup.isMouseOver && this.setSelectOnHover) {\n                this.tooltipTimer.call(null, null);\n                return;\n            }\n            this.popupTimer.schedule();\n            this.tooltipTimer.schedule();\n        }\n        else {\n            this.popupTimer.call(null, null);\n            this.tooltipTimer.call(null, null);\n        }\n    };\n    Autocomplete.prototype.$updateGhostText = function (completion) {\n        var row = this.base.row;\n        var column = this.base.column;\n        var cursorColumn = this.editor.getCursorPosition().column;\n        var prefix = this.editor.session.getLine(row).slice(column, cursorColumn);\n        if (!this.inlineRenderer.show(this.editor, completion, prefix)) {\n            this.inlineRenderer.hide();\n        }\n        else {\n            this.$seen(completion);\n        }\n    };\n    Autocomplete.prototype.$onPopupRender = function () {\n        var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n        if (this.completions && this.completions.filtered && this.completions.filtered.length > 0) {\n            for (var i = this.popup.getFirstVisibleRow(); i <= this.popup.getLastVisibleRow(); i++) {\n                var completion = this.popup.getData(i);\n                if (completion && (!inlineEnabled || completion.hideInlinePreview)) {\n                    this.$seen(completion);\n                }\n            }\n        }\n    };\n    Autocomplete.prototype.$onPopupShow = function (hide) {\n        this.$onPopupChange(hide);\n        this.stickySelection = false;\n        if (this.stickySelectionDelay >= 0)\n            this.stickySelectionTimer.schedule(this.stickySelectionDelay);\n    };\n    Autocomplete.prototype.observeLayoutChanges = function () {\n        if (this.$elements || !this.editor)\n            return;\n        window.addEventListener(\"resize\", this.onLayoutChange, { passive: true });\n        window.addEventListener(\"wheel\", this.mousewheelListener);\n        var el = this.editor.container.parentNode;\n        var elements = [];\n        while (el) {\n            elements.push(el);\n            el.addEventListener(\"scroll\", this.onLayoutChange, { passive: true });\n            el = el.parentNode;\n        }\n        this.$elements = elements;\n    };\n    Autocomplete.prototype.unObserveLayoutChanges = function () {\n        var _this = this;\n        window.removeEventListener(\"resize\", this.onLayoutChange, { passive: true });\n        window.removeEventListener(\"wheel\", this.mousewheelListener);\n        this.$elements && this.$elements.forEach(function (el) {\n            el.removeEventListener(\"scroll\", _this.onLayoutChange, { passive: true });\n        });\n        this.$elements = null;\n    };\n    Autocomplete.prototype.onLayoutChange = function () {\n        if (!this.popup.isOpen)\n            return this.unObserveLayoutChanges();\n        this.$updatePopupPosition();\n        this.updateDocTooltip();\n    };\n    Autocomplete.prototype.$updatePopupPosition = function () {\n        var editor = this.editor;\n        var renderer = editor.renderer;\n        var lineHeight = renderer.layerConfig.lineHeight;\n        var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n        pos.left -= this.popup.getTextLeftOffset();\n        var rect = editor.container.getBoundingClientRect();\n        pos.top += rect.top - renderer.layerConfig.offset;\n        pos.left += rect.left - editor.renderer.scrollLeft;\n        pos.left += renderer.gutterWidth;\n        var posGhostText = {\n            top: pos.top,\n            left: pos.left\n        };\n        if (renderer.$ghostText && renderer.$ghostTextWidget) {\n            if (this.base.row === renderer.$ghostText.position.row) {\n                posGhostText.top += renderer.$ghostTextWidget.el.offsetHeight;\n            }\n        }\n        var editorContainerBottom = editor.container.getBoundingClientRect().bottom - lineHeight;\n        var lowestPosition = editorContainerBottom < posGhostText.top ?\n            { top: editorContainerBottom, left: posGhostText.left } :\n            posGhostText;\n        if (this.popup.tryShow(lowestPosition, lineHeight, \"bottom\")) {\n            return;\n        }\n        if (this.popup.tryShow(pos, lineHeight, \"top\")) {\n            return;\n        }\n        this.popup.show(pos, lineHeight);\n    };\n    Autocomplete.prototype.openPopup = function (editor, prefix, keepPopupPosition) {\n        this.$firstOpenTimer.cancel();\n        if (!this.popup)\n            this.$init();\n        if (this.inlineEnabled && !this.inlineRenderer)\n            this.$initInline();\n        this.popup.autoSelect = this.autoSelect;\n        this.popup.setSelectOnHover(this.setSelectOnHover);\n        var oldRow = this.popup.getRow();\n        var previousSelectedItem = this.popup.data[oldRow];\n        this.popup.setData(this.completions.filtered, this.completions.filterText);\n        if (this.editor.textInput.setAriaOptions) {\n            this.editor.textInput.setAriaOptions({\n                activeDescendant: getAriaId(this.popup.getRow()),\n                inline: this.inlineEnabled\n            });\n        }\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        var newRow;\n        if (this.stickySelection)\n            newRow = this.popup.data.indexOf(previousSelectedItem);\n        if (!newRow || newRow === -1)\n            newRow = 0;\n        this.popup.setRow(this.autoSelect ? newRow : -1);\n        if (newRow === oldRow && previousSelectedItem !== this.completions.filtered[newRow])\n            this.$onPopupChange();\n        var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n        if (newRow === oldRow && inlineEnabled) {\n            var completion = this.popup.getData(this.popup.getRow());\n            this.$updateGhostText(completion);\n        }\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n            this.$updatePopupPosition();\n            if (this.tooltipNode) {\n                this.updateDocTooltip();\n            }\n        }\n        this.changeTimer.cancel();\n        this.observeLayoutChanges();\n    };\n    Autocomplete.prototype.detach = function () {\n        if (this.editor) {\n            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n            this.editor.off(\"changeSelection\", this.changeListener);\n            this.editor.off(\"blur\", this.blurListener);\n            this.editor.off(\"mousedown\", this.mousedownListener);\n            this.editor.off(\"mousewheel\", this.mousewheelListener);\n        }\n        this.$firstOpenTimer.cancel();\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n        if (this.completionProvider) {\n            this.completionProvider.detach();\n        }\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n        if (this.popup && this.popup.renderer) {\n            this.popup.renderer.off(\"afterRender\", this.$onPopupRender);\n        }\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completionProvider = this.completions = this.base = null;\n        this.unObserveLayoutChanges();\n    };\n    Autocomplete.prototype.changeListener = function (e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n    Autocomplete.prototype.blurListener = function (e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text) {\n            this.detach();\n        }\n    };\n    Autocomplete.prototype.mousedownListener = function (e) {\n        this.detach();\n    };\n    Autocomplete.prototype.mousewheelListener = function (e) {\n        if (this.popup && !this.popup.isMouseOver)\n            this.detach();\n    };\n    Autocomplete.prototype.mouseOutListener = function (e) {\n        if (this.popup.isOpen)\n            this.$updatePopupPosition();\n    };\n    Autocomplete.prototype.goTo = function (where) {\n        this.popup.goTo(where);\n    };\n    Autocomplete.prototype.insertMatch = function (data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n        if (data.value === \"\") // Explicitly given nothing to insert, e.g. \"No suggestion state\"\n            return this.detach();\n        var completions = this.completions;\n        var result = this.getCompletionProvider().insertMatch(this.editor, data, completions.filterText, options);\n        if (this.completions == completions)\n            this.detach();\n        return result;\n    };\n    Autocomplete.prototype.showPopup = function (editor, options) {\n        if (this.editor)\n            this.detach();\n        this.activated = true;\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n        this.updateCompletions(false, options);\n    };\n    Autocomplete.prototype.getCompletionProvider = function (initialPosition) {\n        if (!this.completionProvider)\n            this.completionProvider = new CompletionProvider(initialPosition);\n        return this.completionProvider;\n    };\n    Autocomplete.prototype.gatherCompletions = function (editor, callback) {\n        return this.getCompletionProvider().gatherCompletions(editor, callback);\n    };\n    Autocomplete.prototype.updateCompletions = function (keepPopupPosition, options) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n                && this.completions.filtered[0].value == prefix\n                && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        if (options && options.matches) {\n            var pos = this.editor.getSelectionRange().start;\n            this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n            this.base.$insertRight = true;\n            this.completions = new FilteredList(options.matches);\n            this.getCompletionProvider().completions = this.completions;\n            return this.openPopup(this.editor, \"\", keepPopupPosition);\n        }\n        var session = this.editor.getSession();\n        var pos = this.editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n        var completionOptions = {\n            exactMatch: this.exactMatch,\n            ignoreCaption: this.ignoreCaption\n        };\n        this.getCompletionProvider({\n            prefix: prefix,\n            pos: pos\n        }).provideCompletions(this.editor, completionOptions, \n        function (err, completions, finished) {\n            var filtered = completions.filtered;\n            var prefix = util.getCompletionPrefix(this.editor);\n            this.$firstOpenTimer.cancel();\n            if (finished) {\n                if (!filtered.length) {\n                    var emptyMessage = !this.autoShown && this.emptyMessage;\n                    if (typeof emptyMessage == \"function\")\n                        emptyMessage = this.emptyMessage(prefix);\n                    if (emptyMessage) {\n                        var completionsForEmpty = [{\n                                caption: emptyMessage,\n                                value: \"\"\n                            }\n                        ];\n                        this.completions = new FilteredList(completionsForEmpty);\n                        this.openPopup(this.editor, prefix, keepPopupPosition);\n                        this.popup.renderer.setStyle(\"ace_loading\", false);\n                        this.popup.renderer.setStyle(\"ace_empty-message\", true);\n                        return;\n                    }\n                    return this.detach();\n                }\n                if (filtered.length == 1 && filtered[0].value == prefix\n                    && !filtered[0].snippet)\n                    return this.detach();\n                if (this.autoInsert && !this.autoShown && filtered.length == 1)\n                    return this.insertMatch(filtered[0]);\n            }\n            this.completions = !finished && this.showLoadingState ?\n                new FilteredList(Autocomplete.completionsForLoading.concat(filtered), completions.filterText) :\n                completions;\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            this.popup.renderer.setStyle(\"ace_empty-message\", false);\n            this.popup.renderer.setStyle(\"ace_loading\", !finished);\n        }.bind(this));\n        if (this.showLoadingState && !this.autoShown && !(this.popup && this.popup.isOpen)) {\n            this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);\n        }\n    };\n    Autocomplete.prototype.cancelContextMenu = function () {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n    Autocomplete.prototype.updateDocTooltip = function () {\n        var popup = this.popup;\n        var all = this.completions.filtered;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        var completersLength = this.editor.completers.length;\n        for (var i = 0; i < completersLength; i++) {\n            var completer = this.editor.completers[i];\n            if (completer.getDocTooltip && selected.completerId === completer.id) {\n                doc = completer.getDocTooltip(selected);\n                break;\n            }\n        }\n        if (!doc && typeof selected != \"string\")\n            doc = selected;\n        if (typeof doc == \"string\")\n            doc = { docText: doc };\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n    Autocomplete.prototype.showDocTooltip = function (item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.style.margin = \"0\";\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.style.overscrollBehavior = \"contain\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n            this.tooltipNode.id = \"doc-tooltip\";\n            this.tooltipNode.setAttribute(\"role\", \"tooltip\");\n            this.tooltipNode.addEventListener(\"wheel\", preventParentScroll);\n        }\n        var theme = this.editor.renderer.theme;\n        this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip \" +\n            (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        }\n        else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n        if (!tooltipNode.parentNode)\n            this.popup.container.appendChild(this.tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        tooltipNode.style.top = popup.container.style.top;\n        tooltipNode.style.bottom = popup.container.style.bottom;\n        tooltipNode.style.display = \"block\";\n        if (window.innerWidth - rect.right < 320) {\n            if (rect.left < 320) {\n                if (popup.isTopdown) {\n                    tooltipNode.style.top = rect.bottom + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n                else {\n                    tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n            }\n            else {\n                tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n                tooltipNode.style.left = \"\";\n            }\n        }\n        else {\n            tooltipNode.style.left = (rect.right + 1) + \"px\";\n            tooltipNode.style.right = \"\";\n        }\n    };\n    Autocomplete.prototype.hideDocTooltip = function () {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode)\n            return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n    Autocomplete.prototype.onTooltipClick = function (e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n    Autocomplete.prototype.destroy = function () {\n        this.detach();\n        if (this.popup) {\n            this.popup.destroy();\n            var el = this.popup.container;\n            if (el && el.parentNode)\n                el.parentNode.removeChild(el);\n        }\n        if (this.editor && this.editor.completer == this) {\n            this.editor.off(\"destroy\", destroyCompleter);\n            this.editor.completer = null;\n        }\n        this.inlineRenderer = this.popup = this.editor = null;\n    };\n    return Autocomplete;\n}());\nAutocomplete.prototype.commands = {\n    \"Up\": function (editor) { editor.completer.goTo(\"up\"); },\n    \"Down\": function (editor) { editor.completer.goTo(\"down\"); },\n    \"Ctrl-Up|Ctrl-Home\": function (editor) { editor.completer.goTo(\"start\"); },\n    \"Ctrl-Down|Ctrl-End\": function (editor) { editor.completer.goTo(\"end\"); },\n    \"Esc\": function (editor) { editor.completer.detach(); },\n    \"Return\": function (editor) { return editor.completer.insertMatch(); },\n    \"Shift-Return\": function (editor) { editor.completer.insertMatch(null, { deleteSuffix: true }); },\n    \"Tab\": function (editor) {\n        var result = editor.completer.insertMatch();\n        if (!result && !editor.tabstopManager)\n            editor.completer.goTo(\"down\");\n        else\n            return result;\n    },\n    \"Backspace\": function (editor) {\n        editor.execCommand(\"backspace\");\n        var prefix = util.getCompletionPrefix(editor);\n        if (!prefix && editor.completer)\n            editor.completer.detach();\n    },\n    \"PageUp\": function (editor) { editor.completer.popup.gotoPageUp(); },\n    \"PageDown\": function (editor) { editor.completer.popup.gotoPageDown(); }\n};\nAutocomplete.for = function (editor) {\n    if (editor.completer instanceof Autocomplete) {\n        return editor.completer;\n    }\n    if (editor.completer) {\n        editor.completer.destroy();\n        editor.completer = null;\n    }\n    if (config.get(\"sharedPopups\")) {\n        if (!Autocomplete[\"$sharedInstance\"])\n            Autocomplete[\"$sharedInstance\"] = new Autocomplete();\n        editor.completer = Autocomplete[\"$sharedInstance\"];\n    }\n    else {\n        editor.completer = new Autocomplete();\n        editor.once(\"destroy\", destroyCompleter);\n    }\n    return editor.completer;\n};\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n        var completer = Autocomplete.for(editor);\n        completer.autoInsert = false;\n        completer.autoSelect = true;\n        completer.autoShown = false;\n        completer.showPopup(editor, options);\n        completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\nvar CompletionProvider = /** @class */ (function () {\n    function CompletionProvider(initialPosition) {\n        this.initialPosition = initialPosition;\n        this.active = true;\n    }\n    CompletionProvider.prototype.insertByIndex = function (editor, index, options) {\n        if (!this.completions || !this.completions.filtered) {\n            return false;\n        }\n        return this.insertMatch(editor, this.completions.filtered[index], options);\n    };\n    CompletionProvider.prototype.insertMatch = function (editor, data, options) {\n        if (!data)\n            return false;\n        editor.startOperation({ command: { name: \"insertMatch\" } });\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(editor, data);\n        }\n        else {\n            if (!this.completions)\n                return false;\n            var replaceBefore = this.completions.filterText.length;\n            var replaceAfter = 0;\n            if (data.range && data.range.start.row === data.range.end.row) {\n                replaceBefore -= this.initialPosition.prefix.length;\n                replaceBefore += this.initialPosition.pos.column - data.range.start.column;\n                replaceAfter += data.range.end.column - this.initialPosition.pos.column;\n            }\n            if (replaceBefore || replaceAfter) {\n                var ranges;\n                if (editor.selection.getAllRanges) {\n                    ranges = editor.selection.getAllRanges();\n                }\n                else {\n                    ranges = [editor.getSelectionRange()];\n                }\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= replaceBefore;\n                    range.end.column += replaceAfter;\n                    editor.session.remove(range);\n                }\n            }\n            if (data.snippet) {\n                snippetManager.insertSnippet(editor, data.snippet);\n            }\n            else {\n                this.$insertString(editor, data);\n            }\n            if (data.completer && data.completer.onInsert && typeof data.completer.onInsert == \"function\") {\n                data.completer.onInsert(editor, data);\n            }\n            if (data.command && data.command === \"startAutocomplete\") {\n                editor.execCommand(data.command);\n            }\n        }\n        editor.endOperation();\n        return true;\n    };\n    CompletionProvider.prototype.$insertString = function (editor, data) {\n        var text = data.value || data;\n        editor.execCommand(\"insertstring\", text);\n    };\n    CompletionProvider.prototype.gatherCompletions = function (editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(editor);\n        var matches = [];\n        this.completers = editor.completers;\n        var total = editor.completers.length;\n        editor.completers.forEach(function (completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n                if (completer.hideInlinePreview)\n                    results = results.map(function (result) {\n                        return Object.assign(result, { hideInlinePreview: completer.hideInlinePreview });\n                    });\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n    CompletionProvider.prototype.provideCompletions = function (editor, options, callback) {\n        var processResults = function (results) {\n            var prefix = results.prefix;\n            var matches = results.matches;\n            this.completions = new FilteredList(matches);\n            if (options.exactMatch)\n                this.completions.exactMatch = true;\n            if (options.ignoreCaption)\n                this.completions.ignoreCaption = true;\n            this.completions.setFilter(prefix);\n            if (results.finished || this.completions.filtered.length)\n                callback(null, this.completions, results.finished);\n        }.bind(this);\n        var isImmediate = true;\n        var immediateResults = null;\n        this.gatherCompletions(editor, function (err, results) {\n            if (!this.active) {\n                return;\n            }\n            if (err) {\n                callback(err, [], true);\n                this.detach();\n            }\n            var prefix = results.prefix;\n            if (prefix.indexOf(results.prefix) !== 0)\n                return;\n            if (isImmediate) {\n                immediateResults = results;\n                return;\n            }\n            processResults(results);\n        }.bind(this));\n        isImmediate = false;\n        if (immediateResults) {\n            var results = immediateResults;\n            immediateResults = null;\n            processResults(results);\n        }\n    };\n    CompletionProvider.prototype.detach = function () {\n        this.active = false;\n        this.completers && this.completers.forEach(function (completer) {\n            if (typeof completer.cancel === \"function\") {\n                completer.cancel();\n            }\n        });\n    };\n    return CompletionProvider;\n}());\nvar FilteredList = /** @class */ (function () {\n    function FilteredList(array, filterText) {\n        this.all = array;\n        this.filtered = array;\n        this.filterText = filterText || \"\";\n        this.exactMatch = false;\n        this.ignoreCaption = false;\n    }\n    FilteredList.prototype.setFilter = function (str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function (a, b) {\n            return b.exactMatch - a.exactMatch || b.$score - a.$score\n                || (a.caption || a.value).localeCompare(b.caption || b.value);\n        });\n        var prev = null;\n        matches = matches.filter(function (item) {\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev)\n                return false;\n            prev = caption;\n            return true;\n        });\n        this.filtered = matches;\n    };\n    FilteredList.prototype.filterCompletions = function (items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            var caption = (!this.ignoreCaption && item.caption) || item.value || item.snippet;\n            if (!caption)\n                continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            }\n            else {\n                var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n                if (fullMatchIndex > -1) {\n                    penalty = fullMatchIndex;\n                }\n                else {\n                    for (var j = 0; j < needle.length; j++) {\n                        var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                        var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                        index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                        if (index < 0)\n                            continue loop;\n                        distance = index - lastIndex - 1;\n                        if (distance > 0) {\n                            if (lastIndex === -1)\n                                penalty += 10;\n                            penalty += distance;\n                            matchMask = matchMask | (1 << j);\n                        }\n                        lastIndex = index;\n                    }\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.$score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n    return FilteredList;\n}());\nexports.Autocomplete = Autocomplete;\nexports.CompletionProvider = CompletionProvider;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/ext/menu_tools/settings_menu.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \"#ace_settingsmenu, #kbshortcutmenu {\\n    background-color: #F7F7F7;\\n    color: black;\\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\\n    padding: 1em 0.5em 2em 1em;\\n    overflow: auto;\\n    position: absolute;\\n    margin: 0;\\n    bottom: 0;\\n    right: 0;\\n    top: 0;\\n    z-index: 9991;\\n    cursor: default;\\n}\\n\\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\\n    background-color: rgba(255, 255, 255, 0.6);\\n    color: black;\\n}\\n\\n.ace_optionsMenuEntry:hover {\\n    background-color: rgba(100, 100, 100, 0.1);\\n    transition: all 0.3s\\n}\\n\\n.ace_closeButton {\\n    background: rgba(245, 146, 146, 0.5);\\n    border: 1px solid #F48A8A;\\n    border-radius: 50%;\\n    padding: 7px;\\n    position: absolute;\\n    right: -8px;\\n    top: -8px;\\n    z-index: 100000;\\n}\\n.ace_closeButton{\\n    background: rgba(245, 146, 146, 0.9);\\n}\\n.ace_optionsMenuKey {\\n    color: darkslateblue;\\n    font-weight: bold;\\n}\\n.ace_optionsMenuCommand {\\n    color: darkcyan;\\n    font-weight: normal;\\n}\\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\\n    vertical-align: middle;\\n}\\n\\n.ace_optionsMenuEntry button[ace_selected_button=true] {\\n    background: #e7e7e7;\\n    box-shadow: 1px 0px 2px 0px #adadad inset;\\n    border-color: #adadad;\\n}\\n.ace_optionsMenuEntry button {\\n    background: white;\\n    border: 1px solid lightgray;\\n    margin: 0px;\\n}\\n.ace_optionsMenuEntry button:hover{\\n    background: #f0f0f0;\\n}\";\n\n});\n\nace.define(\"ace/ext/menu_tools/overlay_page\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/ext/menu_tools/settings_menu.css\"], function(require, exports, module){/*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n'use strict';\nvar dom = require(\"../../lib/dom\");\nvar cssText = require(\"./settings_menu.css\");\ndom.importCssString(cssText, \"settings_menu.css\", false);\nmodule.exports.overlayPage = function overlayPage(editor, contentElement, callback) {\n    var closer = document.createElement('div');\n    var ignoreFocusOut = false;\n    function documentEscListener(e) {\n        if (e.keyCode === 27) {\n            close();\n        }\n    }\n    function close() {\n        if (!closer)\n            return;\n        document.removeEventListener('keydown', documentEscListener);\n        closer.parentNode.removeChild(closer);\n        if (editor) {\n            editor.focus();\n        }\n        closer = null;\n        callback && callback();\n    }\n    function setIgnoreFocusOut(ignore) {\n        ignoreFocusOut = ignore;\n        if (ignore) {\n            closer.style.pointerEvents = \"none\";\n            contentElement.style.pointerEvents = \"auto\";\n        }\n    }\n    closer.style.cssText = 'margin: 0; padding: 0; ' +\n        'position: fixed; top:0; bottom:0; left:0; right:0;' +\n        'z-index: 9990; ' +\n        (editor ? 'background-color: rgba(0, 0, 0, 0.3);' : '');\n    closer.addEventListener('click', function (e) {\n        if (!ignoreFocusOut) {\n            close();\n        }\n    });\n    document.addEventListener('keydown', documentEscListener);\n    contentElement.addEventListener('click', function (e) {\n        e.stopPropagation();\n    });\n    closer.appendChild(contentElement);\n    document.body.appendChild(closer);\n    if (editor) {\n        editor.blur();\n    }\n    return {\n        close: close,\n        setIgnoreFocusOut: setIgnoreFocusOut\n    };\n};\n\n});\n\nace.define(\"ace/ext/modelist\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar modes = [];\nfunction getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n        if (modes[i].supportsFile(fileName)) {\n            mode = modes[i];\n            break;\n        }\n    }\n    return mode;\n}\nvar Mode = /** @class */ (function () {\n    function Mode(name, caption, extensions) {\n        this.name = name;\n        this.caption = caption;\n        this.mode = \"ace/mode/\" + name;\n        this.extensions = extensions;\n        var re;\n        if (/\\^/.test(extensions)) {\n            re = extensions.replace(/\\|(\\^)?/g, function (a, b) {\n                return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n            }) + \"$\";\n        }\n        else {\n            re = \"^.*\\\\.(\" + extensions + \")$\";\n        }\n        this.extRe = new RegExp(re, \"gi\");\n    }\n    Mode.prototype.supportsFile = function (filename) {\n        return filename.match(this.extRe);\n    };\n    return Mode;\n}());\nvar supportedModes = {\n    ABAP: [\"abap\"],\n    ABC: [\"abc\"],\n    ActionScript: [\"as\"],\n    ADA: [\"ada|adb\"],\n    Alda: [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex: [\"apex|cls|trigger|tgr\"],\n    AQL: [\"aql\"],\n    AsciiDoc: [\"asciidoc|adoc\"],\n    ASL: [\"dsl|asl|asl.json\"],\n    Assembly_ARM32: [\"s\"],\n    Assembly_x86: [\"asm|a\"],\n    Astro: [\"astro\"],\n    AutoHotKey: [\"ahk\"],\n    BatchFile: [\"bat|cmd\"],\n    BibTeX: [\"bib\"],\n    C_Cpp: [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search: [\"c9search_results\"],\n    Cirru: [\"cirru|cr\"],\n    Clojure: [\"clj|cljs\"],\n    Cobol: [\"CBL|COB\"],\n    coffee: [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion: [\"cfm|cfc\"],\n    Crystal: [\"cr\"],\n    CSharp: [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS: [\"css\"],\n    Curly: [\"curly\"],\n    Cuttlefish: [\"conf\"],\n    D: [\"d|di\"],\n    Dart: [\"dart\"],\n    Diff: [\"diff|patch\"],\n    Django: [\"djt|html.djt|dj.html|djhtml\"],\n    Dockerfile: [\"^Dockerfile\"],\n    Dot: [\"dot\"],\n    Drools: [\"drl\"],\n    Edifact: [\"edi\"],\n    Eiffel: [\"e|ge\"],\n    EJS: [\"ejs\"],\n    Elixir: [\"ex|exs\"],\n    Elm: [\"elm\"],\n    Erlang: [\"erl|hrl\"],\n    Flix: [\"flix\"],\n    Forth: [\"frt|fs|ldr|fth|4th\"],\n    Fortran: [\"f|f90\"],\n    FSharp: [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL: [\"fsl\"],\n    FTL: [\"ftl\"],\n    Gcode: [\"gcode\"],\n    Gherkin: [\"feature\"],\n    Gitignore: [\"^.gitignore\"],\n    Glsl: [\"glsl|frag|vert\"],\n    Gobstones: [\"gbs\"],\n    golang: [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy: [\"groovy\"],\n    HAML: [\"haml\"],\n    Handlebars: [\"hbs|handlebars|tpl|mustache\"],\n    Haskell: [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe: [\"hx\"],\n    Hjson: [\"hjson\"],\n    HTML: [\"html|htm|xhtml|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby: [\"erb|rhtml|html.erb\"],\n    INI: [\"ini|conf|cfg|prefs\"],\n    Io: [\"io\"],\n    Ion: [\"ion\"],\n    Jack: [\"jack\"],\n    Jade: [\"jade|pug\"],\n    Java: [\"java\"],\n    JavaScript: [\"js|jsm|cjs|mjs\"],\n    JEXL: [\"jexl\"],\n    JSON: [\"json\"],\n    JSON5: [\"json5\"],\n    JSONiq: [\"jq\"],\n    JSP: [\"jsp\"],\n    JSSM: [\"jssm|jssm_state\"],\n    JSX: [\"jsx\"],\n    Julia: [\"jl\"],\n    Kotlin: [\"kt|kts\"],\n    LaTeX: [\"tex|latex|ltx|bib\"],\n    Latte: [\"latte\"],\n    LESS: [\"less\"],\n    Liquid: [\"liquid\"],\n    Lisp: [\"lisp\"],\n    LiveScript: [\"ls\"],\n    Log: [\"log\"],\n    LogiQL: [\"logic|lql\"],\n    Logtalk: [\"lgt\"],\n    LSL: [\"lsl\"],\n    Lua: [\"lua\"],\n    LuaPage: [\"lp\"],\n    Lucene: [\"lucene\"],\n    Makefile: [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown: [\"md|markdown\"],\n    Mask: [\"mask\"],\n    MATLAB: [\"matlab\"],\n    Maze: [\"mz\"],\n    MediaWiki: [\"wiki|mediawiki\"],\n    MEL: [\"mel\"],\n    MIPS: [\"s|asm\"],\n    MIXAL: [\"mixal\"],\n    MUSHCode: [\"mc|mush\"],\n    MySQL: [\"mysql\"],\n    Nasal: [\"nas\"],\n    Nginx: [\"nginx|conf\"],\n    Nim: [\"nim\"],\n    Nix: [\"nix\"],\n    NSIS: [\"nsi|nsh\"],\n    Nunjucks: [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC: [\"m|mm\"],\n    OCaml: [\"ml|mli\"],\n    Odin: [\"odin\"],\n    PartiQL: [\"partiql|pql\"],\n    Pascal: [\"pas|p\"],\n    Perl: [\"pl|pm\"],\n    pgSQL: [\"pgsql\"],\n    PHP: [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    Pig: [\"pig\"],\n    PLSQL: [\"plsql\"],\n    Powershell: [\"ps1\"],\n    Praat: [\"praat|praatscript|psc|proc\"],\n    Prisma: [\"prisma\"],\n    Prolog: [\"plg|prolog\"],\n    Properties: [\"properties\"],\n    Protobuf: [\"proto\"],\n    PRQL: [\"prql\"],\n    Puppet: [\"epp|pp\"],\n    Python: [\"py\"],\n    QML: [\"qml\"],\n    R: [\"r\"],\n    Raku: [\"raku|rakumod|rakutest|p6|pl6|pm6\"],\n    Razor: [\"cshtml|asp\"],\n    RDoc: [\"Rd\"],\n    Red: [\"red|reds\"],\n    RHTML: [\"Rhtml\"],\n    Robot: [\"robot|resource\"],\n    RST: [\"rst\"],\n    Ruby: [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust: [\"rs\"],\n    SaC: [\"sac\"],\n    SASS: [\"sass\"],\n    SCAD: [\"scad\"],\n    Scala: [\"scala|sbt\"],\n    Scheme: [\"scm|sm|rkt|oak|scheme\"],\n    Scrypt: [\"scrypt\"],\n    SCSS: [\"scss\"],\n    SH: [\"sh|bash|^.bashrc\"],\n    SJS: [\"sjs\"],\n    Slim: [\"slim|skim\"],\n    Smarty: [\"smarty|tpl\"],\n    Smithy: [\"smithy\"],\n    snippets: [\"snippets\"],\n    Soy_Template: [\"soy\"],\n    Space: [\"space\"],\n    SPARQL: [\"rq\"],\n    SQL: [\"sql\"],\n    SQLServer: [\"sqlserver\"],\n    Stylus: [\"styl|stylus\"],\n    SVG: [\"svg\"],\n    Swift: [\"swift\"],\n    Tcl: [\"tcl\"],\n    Terraform: [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex: [\"tex\"],\n    Text: [\"txt\"],\n    Textile: [\"textile\"],\n    Toml: [\"toml\"],\n    TSX: [\"tsx\"],\n    Turtle: [\"ttl\"],\n    Twig: [\"twig|swig\"],\n    Typescript: [\"ts|mts|cts|typescript|str\"],\n    Vala: [\"vala\"],\n    VBScript: [\"vbs|vb\"],\n    Velocity: [\"vm\"],\n    Verilog: [\"v|vh|sv|svh\"],\n    VHDL: [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Vue: [\"vue\"],\n    Wollok: [\"wlk|wpgm|wtest\"],\n    XML: [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery: [\"xq\"],\n    YAML: [\"yaml|yml\"],\n    Zeek: [\"zeek|bro\"],\n    Zig: [\"zig\"]\n};\nvar nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n};\nvar modesByName = {};\nfor (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n}\nmodule.exports = {\n    getModeForPath: getModeForPath,\n    modes: modes,\n    modesByName: modesByName\n};\n\n});\n\nace.define(\"ace/ext/prompt\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/range\",\"ace/lib/dom\",\"ace/autocomplete\",\"ace/autocomplete/popup\",\"ace/autocomplete/popup\",\"ace/undomanager\",\"ace/tokenizer\",\"ace/ext/menu_tools/overlay_page\",\"ace/ext/modelist\"], function(require, exports, module){/**\n * @typedef {import(\"../editor\").Editor} Editor\n */\n\"use strict\";\nvar nls = require(\"../config\").nls;\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar FilteredList = require(\"../autocomplete\").FilteredList;\nvar AcePopup = require('../autocomplete/popup').AcePopup;\nvar $singleLineEditor = require('../autocomplete/popup').$singleLineEditor;\nvar UndoManager = require(\"../undomanager\").UndoManager;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar overlayPage = require(\"./menu_tools/overlay_page\").overlayPage;\nvar modelist = require(\"./modelist\");\nvar openPrompt;\nfunction prompt(editor, message, options, callback) {\n    if (typeof message == \"object\") {\n        return prompt(editor, \"\", message, options);\n    }\n    if (openPrompt) {\n        var lastPrompt = openPrompt;\n        editor = lastPrompt.editor;\n        lastPrompt.close();\n        if (lastPrompt.name && lastPrompt.name == options.name)\n            return;\n    }\n    if (options.$type)\n        return prompt[options.$type](editor, callback);\n    var cmdLine = $singleLineEditor();\n    cmdLine.session.setUndoManager(new UndoManager());\n    var el = dom.buildDom([\"div\", { class: \"ace_prompt_container\" + (options.hasDescription ? \" input-box-with-description\" : \"\") }]);\n    var overlay = overlayPage(editor, el, done);\n    el.appendChild(cmdLine.container);\n    if (editor) {\n        editor.cmdLine = cmdLine;\n        cmdLine.setOption(\"fontSize\", editor.getOption(\"fontSize\"));\n    }\n    if (message) {\n        cmdLine.setValue(message, 1);\n    }\n    if (options.selection) {\n        cmdLine.selection.setRange({\n            start: cmdLine.session.doc.indexToPosition(options.selection[0]),\n            end: cmdLine.session.doc.indexToPosition(options.selection[1])\n        });\n    }\n    if (options.getCompletions) {\n        var popup = new AcePopup();\n        popup.renderer.setStyle(\"ace_autocomplete_inline\");\n        popup.container.style.display = \"block\";\n        popup.container.style.maxWidth = \"600px\";\n        popup.container.style.width = \"100%\";\n        popup.container.style.marginTop = \"3px\";\n        popup.renderer.setScrollMargin(2, 2, 0, 0);\n        popup.autoSelect = false;\n        popup.renderer.$maxLines = 15;\n        popup.setRow(-1);\n        popup.on(\"click\", function (e) {\n            var data = popup.getData(popup.getRow());\n            if (!data[\"error\"]) {\n                cmdLine.setValue(data.value || data[\"name\"] || data);\n                accept();\n                e.stop();\n            }\n        });\n        el.appendChild(popup.container);\n        updateCompletions();\n    }\n    if (options.$rules) {\n        var tokenizer = new Tokenizer(options.$rules);\n        cmdLine.session.bgTokenizer.setTokenizer(tokenizer);\n    }\n    if (options.placeholder) {\n        cmdLine.setOption(\"placeholder\", options.placeholder);\n    }\n    if (options.hasDescription) {\n        var promptTextContainer = dom.buildDom([\"div\", { class: \"ace_prompt_text_container\" }]);\n        dom.buildDom(options.prompt || \"Press 'Enter' to confirm or 'Escape' to cancel\", promptTextContainer);\n        el.appendChild(promptTextContainer);\n    }\n    overlay.setIgnoreFocusOut(options.ignoreFocusOut);\n    function accept() {\n        var val;\n        if (popup && popup.getCursorPosition().row > 0) {\n            val = valueFromRecentList();\n        }\n        else {\n            val = cmdLine.getValue();\n        }\n        var curData = popup ? popup.getData(popup.getRow()) : val;\n        if (curData && !curData[\"error\"]) {\n            done();\n            options.onAccept && options.onAccept({\n                value: val,\n                item: curData\n            }, cmdLine);\n        }\n    }\n    var keys = {\n        \"Enter\": accept,\n        \"Esc|Shift-Esc\": function () {\n            options.onCancel && options.onCancel(cmdLine.getValue(), cmdLine);\n            done();\n        }\n    };\n    if (popup) {\n        Object.assign(keys, {\n            \"Up\": function (editor) { popup.goTo(\"up\"); valueFromRecentList(); },\n            \"Down\": function (editor) { popup.goTo(\"down\"); valueFromRecentList(); },\n            \"Ctrl-Up|Ctrl-Home\": function (editor) { popup.goTo(\"start\"); valueFromRecentList(); },\n            \"Ctrl-Down|Ctrl-End\": function (editor) { popup.goTo(\"end\"); valueFromRecentList(); },\n            \"Tab\": function (editor) {\n                popup.goTo(\"down\");\n                valueFromRecentList();\n            },\n            \"PageUp\": function (editor) { popup.gotoPageUp(); valueFromRecentList(); },\n            \"PageDown\": function (editor) { popup.gotoPageDown(); valueFromRecentList(); }\n        });\n    }\n    cmdLine.commands.bindKeys(keys);\n    function done() {\n        overlay.close();\n        callback && callback();\n        openPrompt = null;\n    }\n    cmdLine.on(\"input\", function () {\n        options.onInput && options.onInput();\n        updateCompletions();\n    });\n    function updateCompletions() {\n        if (options.getCompletions) {\n            var prefix;\n            if (options.getPrefix) {\n                prefix = options.getPrefix(cmdLine);\n            }\n            var completions = options.getCompletions(cmdLine);\n            popup.setData(completions, prefix);\n            popup.resize(true);\n        }\n    }\n    function valueFromRecentList() {\n        var current = popup.getData(popup.getRow());\n        if (current && !current[\"error\"])\n            return current.value || current.caption || current;\n    }\n    cmdLine.resize(true);\n    if (popup) {\n        popup.resize(true);\n    }\n    cmdLine.focus();\n    openPrompt = {\n        close: done,\n        name: options.name,\n        editor: editor\n    };\n}\nprompt.gotoLine = function (editor, callback) {\n    function stringifySelection(selection) {\n        if (!Array.isArray(selection))\n            selection = [selection];\n        return selection.map(function (r) {\n            var cursor = r.isBackwards ? r.start : r.end;\n            var anchor = r.isBackwards ? r.end : r.start;\n            var row = anchor.row;\n            var s = (row + 1) + \":\" + anchor.column;\n            if (anchor.row == cursor.row) {\n                if (anchor.column != cursor.column)\n                    s += \">\" + \":\" + cursor.column;\n            }\n            else {\n                s += \">\" + (cursor.row + 1) + \":\" + cursor.column;\n            }\n            return s;\n        }).reverse().join(\", \");\n    }\n    prompt(editor, \":\" + stringifySelection(editor.selection.toJSON()), {\n        name: \"gotoLine\",\n        selection: [1, Number.MAX_VALUE],\n        onAccept: function (data) {\n            var value = data.value;\n            var _history = prompt.gotoLine[\"_history\"];\n            if (!_history)\n                prompt.gotoLine[\"_history\"] = _history = [];\n            if (_history.indexOf(value) != -1)\n                _history.splice(_history.indexOf(value), 1);\n            _history.unshift(value);\n            if (_history.length > 20)\n                _history.length = 20;\n            var pos = editor.getCursorPosition();\n            var ranges = [];\n            value.replace(/^:/, \"\").split(/,/).map(function (str) {\n                var parts = str.split(/([<>:+-]|c?\\d+)|[^c\\d<>:+-]+/).filter(Boolean);\n                var i = 0;\n                function readPosition() {\n                    var c = parts[i++];\n                    if (!c)\n                        return;\n                    if (c[0] == \"c\") {\n                        var index = parseInt(c.slice(1)) || 0;\n                        return editor.session.doc.indexToPosition(index);\n                    }\n                    var row = pos.row;\n                    var column = 0;\n                    if (/\\d/.test(c)) {\n                        row = parseInt(c) - 1;\n                        c = parts[i++];\n                    }\n                    if (c == \":\") {\n                        c = parts[i++];\n                        if (/\\d/.test(c)) {\n                            column = parseInt(c) || 0;\n                        }\n                    }\n                    return { row: row, column: column };\n                }\n                pos = readPosition();\n                var range = Range.fromPoints(pos, pos);\n                if (parts[i] == \">\") {\n                    i++;\n                    range.end = readPosition();\n                }\n                else if (parts[i] == \"<\") {\n                    i++;\n                    range.start = readPosition();\n                }\n                ranges.unshift(range);\n            });\n            editor.selection.fromJSON(ranges);\n            var scrollTop = editor.renderer.scrollTop;\n            editor.renderer.scrollSelectionIntoView(editor.selection.anchor, editor.selection.cursor, 0.5);\n            editor.renderer.animateScrolling(scrollTop);\n        },\n        history: function () {\n            if (!prompt.gotoLine[\"_history\"])\n                return [];\n            return prompt.gotoLine[\"_history\"];\n        },\n        getCompletions: function (cmdLine) {\n            var value = cmdLine.getValue();\n            var m = value.replace(/^:/, \"\").split(\":\");\n            var row = Math.min(parseInt(m[0]) || 1, editor.session.getLength()) - 1;\n            var line = editor.session.getLine(row);\n            var current = value + \"  \" + line;\n            return [current].concat(this.history());\n        },\n        $rules: {\n            start: [{\n                    regex: /\\d+/,\n                    token: \"string\"\n                }, {\n                    regex: /[:,><+\\-c]/,\n                    token: \"keyword\"\n                }]\n        }\n    });\n};\nprompt.commands = function (editor, callback) {\n    function normalizeName(name) {\n        return (name || \"\").replace(/^./, function (x) {\n            return x.toUpperCase(x);\n        }).replace(/[a-z][A-Z]/g, function (x) {\n            return x[0] + \" \" + x[1].toLowerCase(x);\n        });\n    }\n    function getEditorCommandsByName(excludeCommands) {\n        var commandsByName = [];\n        var commandMap = {};\n        editor.keyBinding.$handlers.forEach(function (handler) {\n            var platform = handler[\"platform\"];\n            var cbn = handler[\"byName\"];\n            for (var i in cbn) {\n                var key = cbn[i].bindKey;\n                if (typeof key !== \"string\") {\n                    key = key && key[platform] || \"\";\n                }\n                var commands = cbn[i];\n                var description = commands.description || normalizeName(commands.name);\n                if (!Array.isArray(commands))\n                    commands = [commands];\n                commands.forEach(function (command) {\n                    if (typeof command != \"string\")\n                        command = command.name;\n                    var needle = excludeCommands.find(function (el) {\n                        return el === command;\n                    });\n                    if (!needle) {\n                        if (commandMap[command]) {\n                            commandMap[command].key += \"|\" + key;\n                        }\n                        else {\n                            commandMap[command] = { key: key, command: command, description: description };\n                            commandsByName.push(commandMap[command]);\n                        }\n                    }\n                });\n            }\n        });\n        return commandsByName;\n    }\n    var excludeCommandsList = [\"insertstring\", \"inserttext\", \"setIndentation\", \"paste\"];\n    var shortcutsArray = getEditorCommandsByName(excludeCommandsList);\n    shortcutsArray = shortcutsArray.map(function (item) {\n        return { value: item.description, meta: item.key, command: item.command };\n    });\n    prompt(editor, \"\", {\n        name: \"commands\",\n        selection: [0, Number.MAX_VALUE],\n        maxHistoryCount: 5,\n        onAccept: function (data) {\n            if (data.item) {\n                var commandName = data.item.command;\n                this.addToHistory(data.item);\n                editor.execCommand(commandName);\n            }\n        },\n        addToHistory: function (item) {\n            var history = this.history();\n            history.unshift(item);\n            delete item.message;\n            for (var i = 1; i < history.length; i++) {\n                if (history[i][\"command\"] == item.command) {\n                    history.splice(i, 1);\n                    break;\n                }\n            }\n            if (this.maxHistoryCount > 0 && history.length > this.maxHistoryCount) {\n                history.splice(history.length - 1, 1);\n            }\n            prompt.commands[\"history\"] = history;\n        },\n        history: function () {\n            return prompt.commands[\"history\"] || [];\n        },\n        getPrefix: function (cmdLine) {\n            var currentPos = cmdLine.getCursorPosition();\n            var filterValue = cmdLine.getValue();\n            return filterValue.substring(0, currentPos.column);\n        },\n        getCompletions: function (cmdLine) {\n            function getFilteredCompletions(commands, prefix) {\n                var resultCommands = JSON.parse(JSON.stringify(commands));\n                var filtered = new FilteredList(resultCommands);\n                return filtered.filterCompletions(resultCommands, prefix);\n            }\n            function getUniqueCommandList(commands, usedCommands) {\n                if (!usedCommands || !usedCommands.length) {\n                    return commands;\n                }\n                var excludeCommands = [];\n                usedCommands.forEach(function (item) {\n                    excludeCommands.push(item.command);\n                });\n                var resultCommands = [];\n                commands.forEach(function (item) {\n                    if (excludeCommands.indexOf(item.command) === -1) {\n                        resultCommands.push(item);\n                    }\n                });\n                return resultCommands;\n            }\n            var prefix = this.getPrefix(cmdLine);\n            var recentlyUsedCommands = getFilteredCompletions(this.history(), prefix);\n            var otherCommands = getUniqueCommandList(shortcutsArray, recentlyUsedCommands);\n            otherCommands = getFilteredCompletions(otherCommands, prefix);\n            if (recentlyUsedCommands.length && otherCommands.length) {\n                recentlyUsedCommands[0].message = nls(\"prompt.recently-used\", \"Recently used\");\n                otherCommands[0].message = nls(\"prompt.other-commands\", \"Other commands\");\n            }\n            var completions = recentlyUsedCommands.concat(otherCommands);\n            return completions.length > 0 ? completions : [{\n                    value: nls(\"prompt.no-matching-commands\", \"No matching commands\"),\n                    error: 1\n                }];\n        }\n    });\n};\nprompt.modes = function (editor, callback) {\n    var modesArray = modelist.modes;\n    modesArray = modesArray.map(function (item) {\n        return { value: item.caption, mode: item.name };\n    });\n    prompt(editor, \"\", {\n        name: \"modes\",\n        selection: [0, Number.MAX_VALUE],\n        onAccept: function (data) {\n            if (data.item) {\n                var modeName = \"ace/mode/\" + data.item.mode;\n                editor.session.setMode(modeName);\n            }\n        },\n        getPrefix: function (cmdLine) {\n            var currentPos = cmdLine.getCursorPosition();\n            var filterValue = cmdLine.getValue();\n            return filterValue.substring(0, currentPos.column);\n        },\n        getCompletions: function (cmdLine) {\n            function getFilteredCompletions(modes, prefix) {\n                var resultCommands = JSON.parse(JSON.stringify(modes));\n                var filtered = new FilteredList(resultCommands);\n                return filtered.filterCompletions(resultCommands, prefix);\n            }\n            var prefix = this.getPrefix(cmdLine);\n            var completions = getFilteredCompletions(modesArray, prefix);\n            return completions.length > 0 ? completions : [{\n                    \"caption\": \"No mode matching\",\n                    \"value\": \"No mode matching\",\n                    \"error\": 1\n                }];\n        }\n    });\n};\ndom.importCssString(\".ace_prompt_container {\\n    max-width: 603px;\\n    width: 100%;\\n    margin: 20px auto;\\n    padding: 3px;\\n    background: white;\\n    border-radius: 2px;\\n    box-shadow: 0px 2px 3px 0px #555;\\n}\", \"promtp.css\", false);\nexports.prompt = prompt;\n\n});                (function() {\n                    ace.require([\"ace/ext/prompt\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}