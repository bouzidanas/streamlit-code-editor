{"ast":null,"code":"ace.define(\"ace/ext/command_bar\", [\"require\", \"exports\", \"module\", \"ace/tooltip\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/useragent\"], function (require, exports, module) {\n  var __values = this && this.__values || function (o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n      next: function () {\n        if (o && i >= o.length) o = void 0;\n        return {\n          value: o && o[i++],\n          done: !o\n        };\n      }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n  };\n  var Tooltip = require(\"../tooltip\").Tooltip;\n  var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n  var lang = require(\"../lib/lang\");\n  var dom = require(\"../lib/dom\");\n  var oop = require(\"../lib/oop\");\n  var useragent = require(\"../lib/useragent\");\n  var BUTTON_CLASS_NAME = 'command_bar_tooltip_button';\n  var VALUE_CLASS_NAME = 'command_bar_button_value';\n  var CAPTION_CLASS_NAME = 'command_bar_button_caption';\n  var KEYBINDING_CLASS_NAME = 'command_bar_keybinding';\n  var TOOLTIP_CLASS_NAME = 'command_bar_tooltip';\n  var MORE_OPTIONS_BUTTON_ID = 'MoreOptionsButton';\n  var defaultDelay = 100;\n  var defaultMaxElements = 4;\n  var minPosition = function (posA, posB) {\n    if (posB.row > posA.row) {\n      return posA;\n    } else if (posB.row === posA.row && posB.column > posA.column) {\n      return posA;\n    }\n    return posB;\n  };\n  var keyDisplayMap = {\n    \"Ctrl\": {\n      mac: \"^\"\n    },\n    \"Option\": {\n      mac: \"⌥\"\n    },\n    \"Command\": {\n      mac: \"⌘\"\n    },\n    \"Cmd\": {\n      mac: \"⌘\"\n    },\n    \"Shift\": \"⇧\",\n    \"Left\": \"←\",\n    \"Right\": \"→\",\n    \"Up\": \"↑\",\n    \"Down\": \"↓\"\n  };\n  var CommandBarTooltip = /** @class */function () {\n    function CommandBarTooltip(parentNode, options) {\n      var e_1, _a;\n      options = options || {};\n      this.parentNode = parentNode;\n      this.tooltip = new Tooltip(this.parentNode);\n      this.moreOptions = new Tooltip(this.parentNode);\n      this.maxElementsOnTooltip = options.maxElementsOnTooltip || defaultMaxElements;\n      this.$alwaysShow = options.alwaysShow || false;\n      this.eventListeners = {};\n      this.elements = {};\n      this.commands = {};\n      this.tooltipEl = dom.buildDom(['div', {\n        class: TOOLTIP_CLASS_NAME\n      }], this.tooltip.getElement());\n      this.moreOptionsEl = dom.buildDom(['div', {\n        class: TOOLTIP_CLASS_NAME + \" tooltip_more_options\"\n      }], this.moreOptions.getElement());\n      this.$showTooltipTimer = lang.delayedCall(this.$showTooltip.bind(this), options.showDelay || defaultDelay);\n      this.$hideTooltipTimer = lang.delayedCall(this.$hideTooltip.bind(this), options.hideDelay || defaultDelay);\n      this.$tooltipEnter = this.$tooltipEnter.bind(this);\n      this.$onMouseMove = this.$onMouseMove.bind(this);\n      this.$onChangeScroll = this.$onChangeScroll.bind(this);\n      this.$onEditorChangeSession = this.$onEditorChangeSession.bind(this);\n      this.$scheduleTooltipForHide = this.$scheduleTooltipForHide.bind(this);\n      this.$preventMouseEvent = this.$preventMouseEvent.bind(this);\n      try {\n        for (var _b = __values([\"mousedown\", \"mouseup\", \"click\"]), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var event = _c.value;\n          this.tooltip.getElement().addEventListener(event, this.$preventMouseEvent);\n          this.moreOptions.getElement().addEventListener(event, this.$preventMouseEvent);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n    CommandBarTooltip.prototype.registerCommand = function (id, command) {\n      var registerForMainTooltip = Object.keys(this.commands).length < this.maxElementsOnTooltip;\n      if (!registerForMainTooltip && !this.elements[MORE_OPTIONS_BUTTON_ID]) {\n        this.$createCommand(MORE_OPTIONS_BUTTON_ID, {\n          name: \"···\",\n          exec: function () {\n            this.$shouldHideMoreOptions = false;\n            this.$setMoreOptionsVisibility(!this.isMoreOptionsShown());\n          }.bind(this),\n          type: \"checkbox\",\n          getValue: function () {\n            return this.isMoreOptionsShown();\n          }.bind(this),\n          enabled: true\n        }, true);\n      }\n      this.$createCommand(id, command, registerForMainTooltip);\n      if (this.isShown()) {\n        this.updatePosition();\n      }\n    };\n    CommandBarTooltip.prototype.isShown = function () {\n      return !!this.tooltip && this.tooltip.isOpen;\n    };\n    CommandBarTooltip.prototype.isMoreOptionsShown = function () {\n      return !!this.moreOptions && this.moreOptions.isOpen;\n    };\n    CommandBarTooltip.prototype.getAlwaysShow = function () {\n      return this.$alwaysShow;\n    };\n    CommandBarTooltip.prototype.setAlwaysShow = function (alwaysShow) {\n      this.$alwaysShow = alwaysShow;\n      this.$updateOnHoverHandlers(!this.$alwaysShow);\n      this._signal(\"alwaysShow\", this.$alwaysShow);\n    };\n    CommandBarTooltip.prototype.attach = function (editor) {\n      if (!editor || this.isShown() && this.editor === editor) {\n        return;\n      }\n      this.detach();\n      this.editor = editor;\n      this.editor.on(\"changeSession\", this.$onEditorChangeSession);\n      if (this.editor.session) {\n        this.editor.session.on(\"changeScrollLeft\", this.$onChangeScroll);\n        this.editor.session.on(\"changeScrollTop\", this.$onChangeScroll);\n      }\n      if (this.getAlwaysShow()) {\n        this.$showTooltip();\n      } else {\n        this.$updateOnHoverHandlers(true);\n      }\n    };\n    CommandBarTooltip.prototype.updatePosition = function () {\n      if (!this.editor) {\n        return;\n      }\n      var renderer = this.editor.renderer;\n      var ranges;\n      if (this.editor.selection.getAllRanges) {\n        ranges = this.editor.selection.getAllRanges();\n      } else {\n        ranges = [this.editor.getSelectionRange()];\n      }\n      if (!ranges.length) {\n        return;\n      }\n      var minPos = minPosition(ranges[0].start, ranges[0].end);\n      for (var i = 0, range; range = ranges[i]; i++) {\n        minPos = minPosition(minPos, minPosition(range.start, range.end));\n      }\n      var pos = renderer.$cursorLayer.getPixelPosition(minPos, true);\n      var tooltipEl = this.tooltip.getElement();\n      var screenWidth = window.innerWidth;\n      var screenHeight = window.innerHeight;\n      var rect = this.editor.container.getBoundingClientRect();\n      pos.top += rect.top - renderer.layerConfig.offset;\n      pos.left += rect.left + renderer.gutterWidth - renderer.scrollLeft;\n      var cursorVisible = pos.top >= rect.top && pos.top <= rect.bottom && pos.left >= rect.left + renderer.gutterWidth && pos.left <= rect.right;\n      if (!cursorVisible && this.isShown()) {\n        this.$hideTooltip();\n        return;\n      } else if (cursorVisible && !this.isShown() && this.getAlwaysShow()) {\n        this.$showTooltip();\n        return;\n      }\n      var top = pos.top - tooltipEl.offsetHeight;\n      var left = Math.min(screenWidth - tooltipEl.offsetWidth, pos.left);\n      var tooltipFits = top >= 0 && top + tooltipEl.offsetHeight <= screenHeight && left >= 0 && left + tooltipEl.offsetWidth <= screenWidth;\n      if (!tooltipFits) {\n        this.$hideTooltip();\n        return;\n      }\n      this.tooltip.setPosition(left, top);\n      if (this.isMoreOptionsShown()) {\n        top = top + tooltipEl.offsetHeight;\n        left = this.elements[MORE_OPTIONS_BUTTON_ID].getBoundingClientRect().left;\n        var moreOptionsEl = this.moreOptions.getElement();\n        var screenHeight = window.innerHeight;\n        if (top + moreOptionsEl.offsetHeight > screenHeight) {\n          top -= tooltipEl.offsetHeight + moreOptionsEl.offsetHeight;\n        }\n        if (left + moreOptionsEl.offsetWidth > screenWidth) {\n          left = screenWidth - moreOptionsEl.offsetWidth;\n        }\n        this.moreOptions.setPosition(left, top);\n      }\n    };\n    CommandBarTooltip.prototype.update = function () {\n      Object.keys(this.elements).forEach(this.$updateElement.bind(this));\n    };\n    CommandBarTooltip.prototype.detach = function () {\n      this.tooltip.hide();\n      this.moreOptions.hide();\n      this.$updateOnHoverHandlers(false);\n      if (this.editor) {\n        this.editor.off(\"changeSession\", this.$onEditorChangeSession);\n        if (this.editor.session) {\n          this.editor.session.off(\"changeScrollLeft\", this.$onChangeScroll);\n          this.editor.session.off(\"changeScrollTop\", this.$onChangeScroll);\n        }\n      }\n      this.$mouseInTooltip = false;\n      this.editor = null;\n    };\n    CommandBarTooltip.prototype.destroy = function () {\n      if (this.tooltip && this.moreOptions) {\n        this.detach();\n        this.tooltip.destroy();\n        this.moreOptions.destroy();\n      }\n      this.eventListeners = {};\n      this.commands = {};\n      this.elements = {};\n      this.tooltip = this.moreOptions = this.parentNode = null;\n    };\n    CommandBarTooltip.prototype.$createCommand = function (id, command, forMainTooltip) {\n      var parentEl = forMainTooltip ? this.tooltipEl : this.moreOptionsEl;\n      var keyParts = [];\n      var bindKey = command.bindKey;\n      if (bindKey) {\n        if (typeof bindKey === 'object') {\n          bindKey = useragent.isMac ? bindKey.mac : bindKey.win;\n        }\n        bindKey = bindKey.split(\"|\")[0];\n        keyParts = bindKey.split(\"-\");\n        keyParts = keyParts.map(function (key) {\n          if (keyDisplayMap[key]) {\n            if (typeof keyDisplayMap[key] === 'string') {\n              return keyDisplayMap[key];\n            } else if (useragent.isMac && keyDisplayMap[key].mac) {\n              return keyDisplayMap[key].mac;\n            }\n          }\n          return key;\n        });\n      }\n      var buttonNode;\n      if (forMainTooltip && command.iconCssClass) {\n        buttonNode = ['div', {\n          class: [\"ace_icon_svg\", command.iconCssClass].join(\" \"),\n          \"aria-label\": command.name + \" (\" + command.bindKey + \")\"\n        }];\n      } else {\n        buttonNode = [['div', {\n          class: VALUE_CLASS_NAME\n        }], ['div', {\n          class: CAPTION_CLASS_NAME\n        }, command.name]];\n        if (keyParts.length) {\n          buttonNode.push(['div', {\n            class: KEYBINDING_CLASS_NAME\n          }, keyParts.map(function (keyPart) {\n            return ['div', keyPart];\n          })]);\n        }\n      }\n      dom.buildDom(['div', {\n        class: [BUTTON_CLASS_NAME, command.cssClass || \"\"].join(\" \"),\n        ref: id\n      }, buttonNode], parentEl, this.elements);\n      this.commands[id] = command;\n      var eventListener = function (e) {\n        if (this.editor) {\n          this.editor.focus();\n        }\n        this.$shouldHideMoreOptions = this.isMoreOptionsShown();\n        if (!this.elements[id].disabled && command.exec) {\n          command.exec(this.editor);\n        }\n        if (this.$shouldHideMoreOptions) {\n          this.$setMoreOptionsVisibility(false);\n        }\n        this.update();\n        e.preventDefault();\n      }.bind(this);\n      this.eventListeners[id] = eventListener;\n      this.elements[id].addEventListener('click', eventListener.bind(this));\n      this.$updateElement(id);\n    };\n    CommandBarTooltip.prototype.$setMoreOptionsVisibility = function (visible) {\n      if (visible) {\n        this.moreOptions.setTheme(this.editor.renderer.theme);\n        this.moreOptions.setClassName(TOOLTIP_CLASS_NAME + \"_wrapper\");\n        this.moreOptions.show();\n        this.update();\n        this.updatePosition();\n      } else {\n        this.moreOptions.hide();\n      }\n    };\n    CommandBarTooltip.prototype.$onEditorChangeSession = function (e) {\n      if (e.oldSession) {\n        e.oldSession.off(\"changeScrollTop\", this.$onChangeScroll);\n        e.oldSession.off(\"changeScrollLeft\", this.$onChangeScroll);\n      }\n      this.detach();\n    };\n    CommandBarTooltip.prototype.$onChangeScroll = function () {\n      if (this.editor.renderer && (this.isShown() || this.getAlwaysShow())) {\n        this.editor.renderer.once(\"afterRender\", this.updatePosition.bind(this));\n      }\n    };\n    CommandBarTooltip.prototype.$onMouseMove = function (e) {\n      if (this.$mouseInTooltip) {\n        return;\n      }\n      var cursorPosition = this.editor.getCursorPosition();\n      var cursorScreenPosition = this.editor.renderer.textToScreenCoordinates(cursorPosition.row, cursorPosition.column);\n      var lineHeight = this.editor.renderer.lineHeight;\n      var isInCurrentLine = e.clientY >= cursorScreenPosition.pageY && e.clientY < cursorScreenPosition.pageY + lineHeight;\n      if (isInCurrentLine) {\n        if (!this.isShown() && !this.$showTooltipTimer.isPending()) {\n          this.$showTooltipTimer.delay();\n        }\n        if (this.$hideTooltipTimer.isPending()) {\n          this.$hideTooltipTimer.cancel();\n        }\n      } else {\n        if (this.isShown() && !this.$hideTooltipTimer.isPending()) {\n          this.$hideTooltipTimer.delay();\n        }\n        if (this.$showTooltipTimer.isPending()) {\n          this.$showTooltipTimer.cancel();\n        }\n      }\n    };\n    CommandBarTooltip.prototype.$preventMouseEvent = function (e) {\n      if (this.editor) {\n        this.editor.focus();\n      }\n      e.preventDefault();\n    };\n    CommandBarTooltip.prototype.$scheduleTooltipForHide = function () {\n      this.$mouseInTooltip = false;\n      this.$showTooltipTimer.cancel();\n      this.$hideTooltipTimer.delay();\n    };\n    CommandBarTooltip.prototype.$tooltipEnter = function () {\n      this.$mouseInTooltip = true;\n      if (this.$showTooltipTimer.isPending()) {\n        this.$showTooltipTimer.cancel();\n      }\n      if (this.$hideTooltipTimer.isPending()) {\n        this.$hideTooltipTimer.cancel();\n      }\n    };\n    CommandBarTooltip.prototype.$updateOnHoverHandlers = function (enableHover) {\n      var tooltipEl = this.tooltip.getElement();\n      var moreOptionsEl = this.moreOptions.getElement();\n      if (enableHover) {\n        if (this.editor) {\n          this.editor.on(\"mousemove\", this.$onMouseMove);\n          this.editor.renderer.getMouseEventTarget().addEventListener(\"mouseout\", this.$scheduleTooltipForHide, true);\n        }\n        tooltipEl.addEventListener('mouseenter', this.$tooltipEnter);\n        tooltipEl.addEventListener('mouseleave', this.$scheduleTooltipForHide);\n        moreOptionsEl.addEventListener('mouseenter', this.$tooltipEnter);\n        moreOptionsEl.addEventListener('mouseleave', this.$scheduleTooltipForHide);\n      } else {\n        if (this.editor) {\n          this.editor.off(\"mousemove\", this.$onMouseMove);\n          this.editor.renderer.getMouseEventTarget().removeEventListener(\"mouseout\", this.$scheduleTooltipForHide, true);\n        }\n        tooltipEl.removeEventListener('mouseenter', this.$tooltipEnter);\n        tooltipEl.removeEventListener('mouseleave', this.$scheduleTooltipForHide);\n        moreOptionsEl.removeEventListener('mouseenter', this.$tooltipEnter);\n        moreOptionsEl.removeEventListener('mouseleave', this.$scheduleTooltipForHide);\n      }\n    };\n    CommandBarTooltip.prototype.$showTooltip = function () {\n      if (this.isShown()) {\n        return;\n      }\n      this.tooltip.setTheme(this.editor.renderer.theme);\n      this.tooltip.setClassName(TOOLTIP_CLASS_NAME + \"_wrapper\");\n      this.tooltip.show();\n      this.update();\n      this.updatePosition();\n      this._signal(\"show\");\n    };\n    CommandBarTooltip.prototype.$hideTooltip = function () {\n      this.$mouseInTooltip = false;\n      if (!this.isShown()) {\n        return;\n      }\n      this.moreOptions.hide();\n      this.tooltip.hide();\n      this._signal(\"hide\");\n    };\n    CommandBarTooltip.prototype.$updateElement = function (id) {\n      var command = this.commands[id];\n      if (!command) {\n        return;\n      }\n      var el = this.elements[id];\n      var commandEnabled = command.enabled;\n      if (typeof commandEnabled === 'function') {\n        commandEnabled = commandEnabled(this.editor);\n      }\n      if (typeof command.getValue === 'function') {\n        var value = command.getValue(this.editor);\n        if (command.type === 'text') {\n          el.textContent = value;\n        } else if (command.type === 'checkbox') {\n          var domCssFn = value ? dom.addCssClass : dom.removeCssClass;\n          var isOnTooltip = el.parentElement === this.tooltipEl;\n          el.ariaChecked = value;\n          if (isOnTooltip) {\n            domCssFn(el, \"ace_selected\");\n          } else {\n            el = el.querySelector(\".\" + VALUE_CLASS_NAME);\n            domCssFn(el, \"ace_checkmark\");\n          }\n        }\n      }\n      if (commandEnabled && el.disabled) {\n        dom.removeCssClass(el, \"ace_disabled\");\n        el.ariaDisabled = el.disabled = false;\n        el.removeAttribute(\"disabled\");\n      } else if (!commandEnabled && !el.disabled) {\n        dom.addCssClass(el, \"ace_disabled\");\n        el.ariaDisabled = el.disabled = true;\n        el.setAttribute(\"disabled\", \"\");\n      }\n    };\n    return CommandBarTooltip;\n  }();\n  oop.implement(CommandBarTooltip.prototype, EventEmitter);\n  dom.importCssString(\"\\n.ace_tooltip.\".concat(TOOLTIP_CLASS_NAME, \"_wrapper {\\n    padding: 0;\\n}\\n\\n.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \" {\\n    padding: 1px 5px;\\n    display: flex;\\n    pointer-events: auto;\\n}\\n\\n.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options {\\n    padding: 1px;\\n    flex-direction: column;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \" {\\n    display: inline-flex;\\n    cursor: pointer;\\n    margin: 1px;\\n    border-radius: 2px;\\n    padding: 2px 5px;\\n    align-items: center;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_selected,\\ndiv.\").concat(BUTTON_CLASS_NAME, \":hover:not(.ace_disabled) {\\n    background-color: rgba(0, 0, 0, 0.1);\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #777;\\n    pointer-events: none;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \" .ace_icon_svg {\\n    height: 12px;\\n    background-color: #000;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_disabled .ace_icon_svg {\\n    background-color: #777;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(BUTTON_CLASS_NAME, \" {\\n    display: flex;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".\").concat(VALUE_CLASS_NAME, \" {\\n    display: none;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(VALUE_CLASS_NAME, \" {\\n    display: inline-block;\\n    width: 12px;\\n}\\n\\n.\").concat(CAPTION_CLASS_NAME, \" {\\n    display: inline-block;\\n}\\n\\n.\").concat(KEYBINDING_CLASS_NAME, \" {\\n    margin: 0 2px;\\n    display: inline-block;\\n    font-size: 8px;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(KEYBINDING_CLASS_NAME, \" {\\n    margin-left: auto;\\n}\\n\\n.\").concat(KEYBINDING_CLASS_NAME, \" div {\\n    display: inline-block;\\n    min-width: 8px;\\n    padding: 2px;\\n    margin: 0 1px;\\n    border-radius: 2px;\\n    background-color: #ccc;\\n    text-align: center;\\n}\\n\\n.ace_dark.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \" {\\n    background-color: #373737;\\n    color: #eee;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #979797;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_selected,\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \":hover:not(.ace_disabled) {\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \" .ace_icon_svg {\\n    background-color: #eee;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_disabled .ace_icon_svg {\\n    background-color: #979797;\\n}\\n\\n.ace_dark .\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #979797;\\n}\\n\\n.ace_dark .\").concat(KEYBINDING_CLASS_NAME, \" div {\\n    background-color: #575757;\\n}\\n\\n.ace_checkmark::before {\\n    content: '\\u2713';\\n}\\n\"), \"commandbar.css\", false);\n  exports.CommandBarTooltip = CommandBarTooltip;\n  exports.TOOLTIP_CLASS_NAME = TOOLTIP_CLASS_NAME;\n  exports.BUTTON_CLASS_NAME = BUTTON_CLASS_NAME;\n});\n(function () {\n  ace.require([\"ace/ext/command_bar\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();","map":{"version":3,"names":["ace","define","require","exports","module","__values","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","Tooltip","EventEmitter","lang","dom","oop","useragent","BUTTON_CLASS_NAME","VALUE_CLASS_NAME","CAPTION_CLASS_NAME","KEYBINDING_CLASS_NAME","TOOLTIP_CLASS_NAME","MORE_OPTIONS_BUTTON_ID","defaultDelay","defaultMaxElements","minPosition","posA","posB","row","column","keyDisplayMap","mac","CommandBarTooltip","parentNode","options","e_1","_a","tooltip","moreOptions","maxElementsOnTooltip","$alwaysShow","alwaysShow","eventListeners","elements","commands","tooltipEl","buildDom","class","getElement","moreOptionsEl","$showTooltipTimer","delayedCall","$showTooltip","bind","showDelay","$hideTooltipTimer","$hideTooltip","hideDelay","$tooltipEnter","$onMouseMove","$onChangeScroll","$onEditorChangeSession","$scheduleTooltipForHide","$preventMouseEvent","_b","_c","event","addEventListener","e_1_1","error","return","prototype","registerCommand","id","command","registerForMainTooltip","Object","keys","$createCommand","name","exec","$shouldHideMoreOptions","$setMoreOptionsVisibility","isMoreOptionsShown","type","getValue","enabled","isShown","updatePosition","isOpen","getAlwaysShow","setAlwaysShow","$updateOnHoverHandlers","_signal","attach","editor","detach","on","session","renderer","ranges","selection","getAllRanges","getSelectionRange","minPos","start","end","range","pos","$cursorLayer","getPixelPosition","screenWidth","window","innerWidth","screenHeight","innerHeight","rect","container","getBoundingClientRect","top","layerConfig","offset","left","gutterWidth","scrollLeft","cursorVisible","bottom","right","offsetHeight","Math","min","offsetWidth","tooltipFits","setPosition","update","forEach","$updateElement","hide","off","$mouseInTooltip","destroy","forMainTooltip","parentEl","keyParts","bindKey","isMac","win","split","map","key","buttonNode","iconCssClass","join","push","keyPart","cssClass","ref","eventListener","e","focus","disabled","preventDefault","visible","setTheme","theme","setClassName","show","oldSession","once","cursorPosition","getCursorPosition","cursorScreenPosition","textToScreenCoordinates","lineHeight","isInCurrentLine","clientY","pageY","isPending","delay","cancel","enableHover","getMouseEventTarget","removeEventListener","el","commandEnabled","textContent","domCssFn","addCssClass","removeCssClass","isOnTooltip","parentElement","ariaChecked","querySelector","ariaDisabled","removeAttribute","setAttribute","implement","importCssString","concat"],"sources":["/home/anasb/code-projects/streamlit/streamlit-code-editor/code_editor/frontend/node_modules/ace-builds/src-noconflict/ext-command_bar.js"],"sourcesContent":["ace.define(\"ace/ext/command_bar\",[\"require\",\"exports\",\"module\",\"ace/tooltip\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/useragent\"], function(require, exports, module){var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar Tooltip = require(\"../tooltip\").Tooltip;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar useragent = require(\"../lib/useragent\");\nvar BUTTON_CLASS_NAME = 'command_bar_tooltip_button';\nvar VALUE_CLASS_NAME = 'command_bar_button_value';\nvar CAPTION_CLASS_NAME = 'command_bar_button_caption';\nvar KEYBINDING_CLASS_NAME = 'command_bar_keybinding';\nvar TOOLTIP_CLASS_NAME = 'command_bar_tooltip';\nvar MORE_OPTIONS_BUTTON_ID = 'MoreOptionsButton';\nvar defaultDelay = 100;\nvar defaultMaxElements = 4;\nvar minPosition = function (posA, posB) {\n    if (posB.row > posA.row) {\n        return posA;\n    }\n    else if (posB.row === posA.row && posB.column > posA.column) {\n        return posA;\n    }\n    return posB;\n};\nvar keyDisplayMap = {\n    \"Ctrl\": { mac: \"^\" },\n    \"Option\": { mac: \"⌥\" },\n    \"Command\": { mac: \"⌘\" },\n    \"Cmd\": { mac: \"⌘\" },\n    \"Shift\": \"⇧\",\n    \"Left\": \"←\",\n    \"Right\": \"→\",\n    \"Up\": \"↑\",\n    \"Down\": \"↓\"\n};\nvar CommandBarTooltip = /** @class */ (function () {\n    function CommandBarTooltip(parentNode, options) {\n        var e_1, _a;\n        options = options || {};\n        this.parentNode = parentNode;\n        this.tooltip = new Tooltip(this.parentNode);\n        this.moreOptions = new Tooltip(this.parentNode);\n        this.maxElementsOnTooltip = options.maxElementsOnTooltip || defaultMaxElements;\n        this.$alwaysShow = options.alwaysShow || false;\n        this.eventListeners = {};\n        this.elements = {};\n        this.commands = {};\n        this.tooltipEl = dom.buildDom(['div', { class: TOOLTIP_CLASS_NAME }], this.tooltip.getElement());\n        this.moreOptionsEl = dom.buildDom(['div', { class: TOOLTIP_CLASS_NAME + \" tooltip_more_options\" }], this.moreOptions.getElement());\n        this.$showTooltipTimer = lang.delayedCall(this.$showTooltip.bind(this), options.showDelay || defaultDelay);\n        this.$hideTooltipTimer = lang.delayedCall(this.$hideTooltip.bind(this), options.hideDelay || defaultDelay);\n        this.$tooltipEnter = this.$tooltipEnter.bind(this);\n        this.$onMouseMove = this.$onMouseMove.bind(this);\n        this.$onChangeScroll = this.$onChangeScroll.bind(this);\n        this.$onEditorChangeSession = this.$onEditorChangeSession.bind(this);\n        this.$scheduleTooltipForHide = this.$scheduleTooltipForHide.bind(this);\n        this.$preventMouseEvent = this.$preventMouseEvent.bind(this);\n        try {\n            for (var _b = __values([\"mousedown\", \"mouseup\", \"click\"]), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var event = _c.value;\n                this.tooltip.getElement().addEventListener(event, this.$preventMouseEvent);\n                this.moreOptions.getElement().addEventListener(event, this.$preventMouseEvent);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    CommandBarTooltip.prototype.registerCommand = function (id, command) {\n        var registerForMainTooltip = Object.keys(this.commands).length < this.maxElementsOnTooltip;\n        if (!registerForMainTooltip && !this.elements[MORE_OPTIONS_BUTTON_ID]) {\n            this.$createCommand(MORE_OPTIONS_BUTTON_ID, {\n                name: \"···\",\n                exec: \n                function () {\n                    this.$shouldHideMoreOptions = false;\n                    this.$setMoreOptionsVisibility(!this.isMoreOptionsShown());\n                }.bind(this),\n                type: \"checkbox\",\n                getValue: function () {\n                    return this.isMoreOptionsShown();\n                }.bind(this),\n                enabled: true\n            }, true);\n        }\n        this.$createCommand(id, command, registerForMainTooltip);\n        if (this.isShown()) {\n            this.updatePosition();\n        }\n    };\n    CommandBarTooltip.prototype.isShown = function () {\n        return !!this.tooltip && this.tooltip.isOpen;\n    };\n    CommandBarTooltip.prototype.isMoreOptionsShown = function () {\n        return !!this.moreOptions && this.moreOptions.isOpen;\n    };\n    CommandBarTooltip.prototype.getAlwaysShow = function () {\n        return this.$alwaysShow;\n    };\n    CommandBarTooltip.prototype.setAlwaysShow = function (alwaysShow) {\n        this.$alwaysShow = alwaysShow;\n        this.$updateOnHoverHandlers(!this.$alwaysShow);\n        this._signal(\"alwaysShow\", this.$alwaysShow);\n    };\n    CommandBarTooltip.prototype.attach = function (editor) {\n        if (!editor || (this.isShown() && this.editor === editor)) {\n            return;\n        }\n        this.detach();\n        this.editor = editor;\n        this.editor.on(\"changeSession\", this.$onEditorChangeSession);\n        if (this.editor.session) {\n            this.editor.session.on(\"changeScrollLeft\", this.$onChangeScroll);\n            this.editor.session.on(\"changeScrollTop\", this.$onChangeScroll);\n        }\n        if (this.getAlwaysShow()) {\n            this.$showTooltip();\n        }\n        else {\n            this.$updateOnHoverHandlers(true);\n        }\n    };\n    CommandBarTooltip.prototype.updatePosition = function () {\n        if (!this.editor) {\n            return;\n        }\n        var renderer = this.editor.renderer;\n        var ranges;\n        if (this.editor.selection.getAllRanges) {\n            ranges = this.editor.selection.getAllRanges();\n        }\n        else {\n            ranges = [this.editor.getSelectionRange()];\n        }\n        if (!ranges.length) {\n            return;\n        }\n        var minPos = minPosition(ranges[0].start, ranges[0].end);\n        for (var i = 0, range; range = ranges[i]; i++) {\n            minPos = minPosition(minPos, minPosition(range.start, range.end));\n        }\n        var pos = renderer.$cursorLayer.getPixelPosition(minPos, true);\n        var tooltipEl = this.tooltip.getElement();\n        var screenWidth = window.innerWidth;\n        var screenHeight = window.innerHeight;\n        var rect = this.editor.container.getBoundingClientRect();\n        pos.top += rect.top - renderer.layerConfig.offset;\n        pos.left += rect.left + renderer.gutterWidth - renderer.scrollLeft;\n        var cursorVisible = pos.top >= rect.top && pos.top <= rect.bottom &&\n            pos.left >= rect.left + renderer.gutterWidth && pos.left <= rect.right;\n        if (!cursorVisible && this.isShown()) {\n            this.$hideTooltip();\n            return;\n        }\n        else if (cursorVisible && !this.isShown() && this.getAlwaysShow()) {\n            this.$showTooltip();\n            return;\n        }\n        var top = pos.top - tooltipEl.offsetHeight;\n        var left = Math.min(screenWidth - tooltipEl.offsetWidth, pos.left);\n        var tooltipFits = top >= 0 && top + tooltipEl.offsetHeight <= screenHeight &&\n            left >= 0 && left + tooltipEl.offsetWidth <= screenWidth;\n        if (!tooltipFits) {\n            this.$hideTooltip();\n            return;\n        }\n        this.tooltip.setPosition(left, top);\n        if (this.isMoreOptionsShown()) {\n            top = top + tooltipEl.offsetHeight;\n            left = this.elements[MORE_OPTIONS_BUTTON_ID].getBoundingClientRect().left;\n            var moreOptionsEl = this.moreOptions.getElement();\n            var screenHeight = window.innerHeight;\n            if (top + moreOptionsEl.offsetHeight > screenHeight) {\n                top -= tooltipEl.offsetHeight + moreOptionsEl.offsetHeight;\n            }\n            if (left + moreOptionsEl.offsetWidth > screenWidth) {\n                left = screenWidth - moreOptionsEl.offsetWidth;\n            }\n            this.moreOptions.setPosition(left, top);\n        }\n    };\n    CommandBarTooltip.prototype.update = function () {\n        Object.keys(this.elements).forEach(this.$updateElement.bind(this));\n    };\n    CommandBarTooltip.prototype.detach = function () {\n        this.tooltip.hide();\n        this.moreOptions.hide();\n        this.$updateOnHoverHandlers(false);\n        if (this.editor) {\n            this.editor.off(\"changeSession\", this.$onEditorChangeSession);\n            if (this.editor.session) {\n                this.editor.session.off(\"changeScrollLeft\", this.$onChangeScroll);\n                this.editor.session.off(\"changeScrollTop\", this.$onChangeScroll);\n            }\n        }\n        this.$mouseInTooltip = false;\n        this.editor = null;\n    };\n    CommandBarTooltip.prototype.destroy = function () {\n        if (this.tooltip && this.moreOptions) {\n            this.detach();\n            this.tooltip.destroy();\n            this.moreOptions.destroy();\n        }\n        this.eventListeners = {};\n        this.commands = {};\n        this.elements = {};\n        this.tooltip = this.moreOptions = this.parentNode = null;\n    };\n    CommandBarTooltip.prototype.$createCommand = function (id, command, forMainTooltip) {\n        var parentEl = forMainTooltip ? this.tooltipEl : this.moreOptionsEl;\n        var keyParts = [];\n        var bindKey = command.bindKey;\n        if (bindKey) {\n            if (typeof bindKey === 'object') {\n                bindKey = useragent.isMac ? bindKey.mac : bindKey.win;\n            }\n            bindKey = bindKey.split(\"|\")[0];\n            keyParts = bindKey.split(\"-\");\n            keyParts = keyParts.map(function (key) {\n                if (keyDisplayMap[key]) {\n                    if (typeof keyDisplayMap[key] === 'string') {\n                        return keyDisplayMap[key];\n                    }\n                    else if (useragent.isMac && keyDisplayMap[key].mac) {\n                        return keyDisplayMap[key].mac;\n                    }\n                }\n                return key;\n            });\n        }\n        var buttonNode;\n        if (forMainTooltip && command.iconCssClass) {\n            buttonNode = [\n                'div',\n                {\n                    class: [\"ace_icon_svg\", command.iconCssClass].join(\" \"),\n                    \"aria-label\": command.name + \" (\" + command.bindKey + \")\"\n                }\n            ];\n        }\n        else {\n            buttonNode = [\n                ['div', { class: VALUE_CLASS_NAME }],\n                ['div', { class: CAPTION_CLASS_NAME }, command.name]\n            ];\n            if (keyParts.length) {\n                buttonNode.push([\n                    'div',\n                    { class: KEYBINDING_CLASS_NAME },\n                    keyParts.map(function (keyPart) {\n                        return ['div', keyPart];\n                    })\n                ]);\n            }\n        }\n        dom.buildDom(['div', { class: [BUTTON_CLASS_NAME, command.cssClass || \"\"].join(\" \"), ref: id }, buttonNode], parentEl, this.elements);\n        this.commands[id] = command;\n        var eventListener = \n        function (e) {\n            if (this.editor) {\n                this.editor.focus();\n            }\n            this.$shouldHideMoreOptions = this.isMoreOptionsShown();\n            if (!this.elements[id].disabled && command.exec) {\n                command.exec(this.editor);\n            }\n            if (this.$shouldHideMoreOptions) {\n                this.$setMoreOptionsVisibility(false);\n            }\n            this.update();\n            e.preventDefault();\n        }.bind(this);\n        this.eventListeners[id] = eventListener;\n        this.elements[id].addEventListener('click', eventListener.bind(this));\n        this.$updateElement(id);\n    };\n    CommandBarTooltip.prototype.$setMoreOptionsVisibility = function (visible) {\n        if (visible) {\n            this.moreOptions.setTheme(this.editor.renderer.theme);\n            this.moreOptions.setClassName(TOOLTIP_CLASS_NAME + \"_wrapper\");\n            this.moreOptions.show();\n            this.update();\n            this.updatePosition();\n        }\n        else {\n            this.moreOptions.hide();\n        }\n    };\n    CommandBarTooltip.prototype.$onEditorChangeSession = function (e) {\n        if (e.oldSession) {\n            e.oldSession.off(\"changeScrollTop\", this.$onChangeScroll);\n            e.oldSession.off(\"changeScrollLeft\", this.$onChangeScroll);\n        }\n        this.detach();\n    };\n    CommandBarTooltip.prototype.$onChangeScroll = function () {\n        if (this.editor.renderer && (this.isShown() || this.getAlwaysShow())) {\n            this.editor.renderer.once(\"afterRender\", this.updatePosition.bind(this));\n        }\n    };\n    CommandBarTooltip.prototype.$onMouseMove = function (e) {\n        if (this.$mouseInTooltip) {\n            return;\n        }\n        var cursorPosition = this.editor.getCursorPosition();\n        var cursorScreenPosition = this.editor.renderer.textToScreenCoordinates(cursorPosition.row, cursorPosition.column);\n        var lineHeight = this.editor.renderer.lineHeight;\n        var isInCurrentLine = e.clientY >= cursorScreenPosition.pageY && e.clientY < cursorScreenPosition.pageY + lineHeight;\n        if (isInCurrentLine) {\n            if (!this.isShown() && !this.$showTooltipTimer.isPending()) {\n                this.$showTooltipTimer.delay();\n            }\n            if (this.$hideTooltipTimer.isPending()) {\n                this.$hideTooltipTimer.cancel();\n            }\n        }\n        else {\n            if (this.isShown() && !this.$hideTooltipTimer.isPending()) {\n                this.$hideTooltipTimer.delay();\n            }\n            if (this.$showTooltipTimer.isPending()) {\n                this.$showTooltipTimer.cancel();\n            }\n        }\n    };\n    CommandBarTooltip.prototype.$preventMouseEvent = function (e) {\n        if (this.editor) {\n            this.editor.focus();\n        }\n        e.preventDefault();\n    };\n    CommandBarTooltip.prototype.$scheduleTooltipForHide = function () {\n        this.$mouseInTooltip = false;\n        this.$showTooltipTimer.cancel();\n        this.$hideTooltipTimer.delay();\n    };\n    CommandBarTooltip.prototype.$tooltipEnter = function () {\n        this.$mouseInTooltip = true;\n        if (this.$showTooltipTimer.isPending()) {\n            this.$showTooltipTimer.cancel();\n        }\n        if (this.$hideTooltipTimer.isPending()) {\n            this.$hideTooltipTimer.cancel();\n        }\n    };\n    CommandBarTooltip.prototype.$updateOnHoverHandlers = function (enableHover) {\n        var tooltipEl = this.tooltip.getElement();\n        var moreOptionsEl = this.moreOptions.getElement();\n        if (enableHover) {\n            if (this.editor) {\n                this.editor.on(\"mousemove\", this.$onMouseMove);\n                this.editor.renderer.getMouseEventTarget().addEventListener(\"mouseout\", this.$scheduleTooltipForHide, true);\n            }\n            tooltipEl.addEventListener('mouseenter', this.$tooltipEnter);\n            tooltipEl.addEventListener('mouseleave', this.$scheduleTooltipForHide);\n            moreOptionsEl.addEventListener('mouseenter', this.$tooltipEnter);\n            moreOptionsEl.addEventListener('mouseleave', this.$scheduleTooltipForHide);\n        }\n        else {\n            if (this.editor) {\n                this.editor.off(\"mousemove\", this.$onMouseMove);\n                this.editor.renderer.getMouseEventTarget().removeEventListener(\"mouseout\", this.$scheduleTooltipForHide, true);\n            }\n            tooltipEl.removeEventListener('mouseenter', this.$tooltipEnter);\n            tooltipEl.removeEventListener('mouseleave', this.$scheduleTooltipForHide);\n            moreOptionsEl.removeEventListener('mouseenter', this.$tooltipEnter);\n            moreOptionsEl.removeEventListener('mouseleave', this.$scheduleTooltipForHide);\n        }\n    };\n    CommandBarTooltip.prototype.$showTooltip = function () {\n        if (this.isShown()) {\n            return;\n        }\n        this.tooltip.setTheme(this.editor.renderer.theme);\n        this.tooltip.setClassName(TOOLTIP_CLASS_NAME + \"_wrapper\");\n        this.tooltip.show();\n        this.update();\n        this.updatePosition();\n        this._signal(\"show\");\n    };\n    CommandBarTooltip.prototype.$hideTooltip = function () {\n        this.$mouseInTooltip = false;\n        if (!this.isShown()) {\n            return;\n        }\n        this.moreOptions.hide();\n        this.tooltip.hide();\n        this._signal(\"hide\");\n    };\n    CommandBarTooltip.prototype.$updateElement = function (id) {\n        var command = this.commands[id];\n        if (!command) {\n            return;\n        }\n        var el = this.elements[id];\n        var commandEnabled = command.enabled;\n        if (typeof commandEnabled === 'function') {\n            commandEnabled = commandEnabled(this.editor);\n        }\n        if (typeof command.getValue === 'function') {\n            var value = command.getValue(this.editor);\n            if (command.type === 'text') {\n                el.textContent = value;\n            }\n            else if (command.type === 'checkbox') {\n                var domCssFn = value ? dom.addCssClass : dom.removeCssClass;\n                var isOnTooltip = el.parentElement === this.tooltipEl;\n                el.ariaChecked = value;\n                if (isOnTooltip) {\n                    domCssFn(el, \"ace_selected\");\n                }\n                else {\n                    el = el.querySelector(\".\" + VALUE_CLASS_NAME);\n                    domCssFn(el, \"ace_checkmark\");\n                }\n            }\n        }\n        if (commandEnabled && el.disabled) {\n            dom.removeCssClass(el, \"ace_disabled\");\n            el.ariaDisabled = el.disabled = false;\n            el.removeAttribute(\"disabled\");\n        }\n        else if (!commandEnabled && !el.disabled) {\n            dom.addCssClass(el, \"ace_disabled\");\n            el.ariaDisabled = el.disabled = true;\n            el.setAttribute(\"disabled\", \"\");\n        }\n    };\n    return CommandBarTooltip;\n}());\noop.implement(CommandBarTooltip.prototype, EventEmitter);\ndom.importCssString(\"\\n.ace_tooltip.\".concat(TOOLTIP_CLASS_NAME, \"_wrapper {\\n    padding: 0;\\n}\\n\\n.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \" {\\n    padding: 1px 5px;\\n    display: flex;\\n    pointer-events: auto;\\n}\\n\\n.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options {\\n    padding: 1px;\\n    flex-direction: column;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \" {\\n    display: inline-flex;\\n    cursor: pointer;\\n    margin: 1px;\\n    border-radius: 2px;\\n    padding: 2px 5px;\\n    align-items: center;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_selected,\\ndiv.\").concat(BUTTON_CLASS_NAME, \":hover:not(.ace_disabled) {\\n    background-color: rgba(0, 0, 0, 0.1);\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #777;\\n    pointer-events: none;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \" .ace_icon_svg {\\n    height: 12px;\\n    background-color: #000;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_disabled .ace_icon_svg {\\n    background-color: #777;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(BUTTON_CLASS_NAME, \" {\\n    display: flex;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".\").concat(VALUE_CLASS_NAME, \" {\\n    display: none;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(VALUE_CLASS_NAME, \" {\\n    display: inline-block;\\n    width: 12px;\\n}\\n\\n.\").concat(CAPTION_CLASS_NAME, \" {\\n    display: inline-block;\\n}\\n\\n.\").concat(KEYBINDING_CLASS_NAME, \" {\\n    margin: 0 2px;\\n    display: inline-block;\\n    font-size: 8px;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(KEYBINDING_CLASS_NAME, \" {\\n    margin-left: auto;\\n}\\n\\n.\").concat(KEYBINDING_CLASS_NAME, \" div {\\n    display: inline-block;\\n    min-width: 8px;\\n    padding: 2px;\\n    margin: 0 1px;\\n    border-radius: 2px;\\n    background-color: #ccc;\\n    text-align: center;\\n}\\n\\n.ace_dark.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \" {\\n    background-color: #373737;\\n    color: #eee;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #979797;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_selected,\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \":hover:not(.ace_disabled) {\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \" .ace_icon_svg {\\n    background-color: #eee;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_disabled .ace_icon_svg {\\n    background-color: #979797;\\n}\\n\\n.ace_dark .\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #979797;\\n}\\n\\n.ace_dark .\").concat(KEYBINDING_CLASS_NAME, \" div {\\n    background-color: #575757;\\n}\\n\\n.ace_checkmark::before {\\n    content: '\\u2713';\\n}\\n\"), \"commandbar.css\", false);\nexports.CommandBarTooltip = CommandBarTooltip;\nexports.TOOLTIP_CLASS_NAME = TOOLTIP_CLASS_NAME;\nexports.BUTTON_CLASS_NAME = BUTTON_CLASS_NAME;\n\n});                (function() {\n                    ace.require([\"ace/ext/command_bar\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}