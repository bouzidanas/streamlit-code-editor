{"ast":null,"code":"ace.define(\"ace/ext/menu_tools/get_editor_keyboard_shortcuts\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\"], function (require, exports, module) {\n  /*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n  \"use strict\";\n\n  var keys = require(\"../../lib/keys\");\n  module.exports.getEditorKeyboardShortcuts = function (editor) {\n    var KEY_MODS = keys.KEY_MODS;\n    var keybindings = [];\n    var commandMap = {};\n    editor.keyBinding.$handlers.forEach(function (handler) {\n      var ckb = handler.commandKeyBinding;\n      for (var i in ckb) {\n        var key = i.replace(/(^|-)\\w/g, function (x) {\n          return x.toUpperCase();\n        });\n        var commands = ckb[i];\n        if (!Array.isArray(commands)) commands = [commands];\n        commands.forEach(function (command) {\n          if (typeof command != \"string\") command = command.name;\n          if (commandMap[command]) {\n            commandMap[command].key += \"|\" + key;\n          } else {\n            commandMap[command] = {\n              key: key,\n              command: command\n            };\n            keybindings.push(commandMap[command]);\n          }\n        });\n      }\n    });\n    return keybindings;\n  };\n});\nace.define(\"ace/autocomplete/popup\", [\"require\", \"exports\", \"module\", \"ace/virtual_renderer\", \"ace/editor\", \"ace/range\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Renderer = require(\"../virtual_renderer\").VirtualRenderer;\n  var Editor = require(\"../editor\").Editor;\n  var Range = require(\"../range\").Range;\n  var event = require(\"../lib/event\");\n  var lang = require(\"../lib/lang\");\n  var dom = require(\"../lib/dom\");\n  var nls = require(\"../config\").nls;\n  var userAgent = require(\"./../lib/useragent\");\n  var getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n  };\n  var popupAriaRole = userAgent.isSafari ? \"menu\" : \"listbox\";\n  var optionAriaRole = userAgent.isSafari ? \"menuitem\" : \"option\";\n  var ariaActiveState = userAgent.isSafari ? \"aria-current\" : \"aria-selected\";\n  var $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n  };\n  var AcePopup = /** @class */function () {\n    function AcePopup(parentNode) {\n      var el = dom.createElement(\"div\");\n      var popup = $singleLineEditor(el);\n      if (parentNode) {\n        parentNode.appendChild(el);\n      }\n      el.style.display = \"none\";\n      popup.renderer.content.style.cursor = \"default\";\n      popup.renderer.setStyle(\"ace_autocomplete\");\n      popup.renderer.$textLayer.element.setAttribute(\"role\", popupAriaRole);\n      popup.renderer.$textLayer.element.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.aria-roledescription\", \"Autocomplete suggestions\"));\n      popup.renderer.$textLayer.element.setAttribute(\"aria-label\", nls(\"autocomplete.popup.aria-label\", \"Autocomplete suggestions\"));\n      popup.renderer.textarea.setAttribute(\"aria-hidden\", \"true\");\n      popup.setOption(\"displayIndentGuides\", false);\n      popup.setOption(\"dragDelay\", 150);\n      var noop = function () {};\n      popup.focus = noop;\n      popup.$isFocused = true;\n      popup.renderer.$cursorLayer.restartTimer = noop;\n      popup.renderer.$cursorLayer.element.style.opacity = \"0\";\n      popup.renderer.$maxLines = 8;\n      popup.renderer.$keepTextAreaAtCursor = false;\n      popup.setHighlightActiveLine(false);\n      popup.session.highlight(\"\");\n      popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n      popup.on(\"mousedown\", function (e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n      });\n      var lastMouseEvent;\n      var hoverMarker = new Range(-1, 0, -1, Infinity);\n      var selectionMarker = new Range(-1, 0, -1, Infinity);\n      selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n      popup.setSelectOnHover = function (val) {\n        if (!val) {\n          hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        } else if (hoverMarker.id) {\n          popup.session.removeMarker(hoverMarker.id);\n          hoverMarker.id = null;\n        }\n      };\n      popup.setSelectOnHover(false);\n      popup.on(\"mousemove\", function (e) {\n        if (!lastMouseEvent) {\n          lastMouseEvent = e;\n          return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n          return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        popup.isMouseOver = true;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n          if (!hoverMarker.id) popup.setRow(row);\n          setHoverMarker(row);\n        }\n      });\n      popup.renderer.on(\"beforeRender\", function () {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n          lastMouseEvent.$pos = null;\n          var row = lastMouseEvent.getDocumentPosition().row;\n          if (!hoverMarker.id) popup.setRow(row);\n          setHoverMarker(row, true);\n        }\n      });\n      popup.renderer.on(\"afterRender\", function () {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = /** @type {HTMLElement|null} */t.element.childNodes[row - t.config.firstRow];\n        var el = document.activeElement; // Active element is textarea of main editor\n        if (selected !== popup.selectedNode && popup.selectedNode) {\n          dom.removeCssClass(popup.selectedNode, \"ace_selected\");\n          el.removeAttribute(\"aria-activedescendant\");\n          popup.selectedNode.removeAttribute(ariaActiveState);\n          popup.selectedNode.removeAttribute(\"id\");\n        }\n        popup.selectedNode = selected;\n        if (selected) {\n          dom.addCssClass(selected, \"ace_selected\");\n          var ariaId = getAriaId(row);\n          selected.id = ariaId;\n          t.element.setAttribute(\"aria-activedescendant\", ariaId);\n          el.setAttribute(\"aria-activedescendant\", ariaId);\n          selected.setAttribute(\"role\", optionAriaRole);\n          selected.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.item.aria-roledescription\", \"item\"));\n          selected.setAttribute(\"aria-label\", popup.getData(row).caption || popup.getData(row).value);\n          selected.setAttribute(\"aria-setsize\", popup.data.length);\n          selected.setAttribute(\"aria-posinset\", row + 1);\n          selected.setAttribute(\"aria-describedby\", \"doc-tooltip\");\n          selected.setAttribute(ariaActiveState, \"true\");\n        }\n      });\n      var hideHoverMarker = function () {\n        setHoverMarker(-1);\n      };\n      var setHoverMarker = function (row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n          hoverMarker.start.row = hoverMarker.end.row = row;\n          if (!suppressRedraw) popup.session._emit(\"changeBackMarker\");\n          popup._emit(\"changeHoverMarker\");\n        }\n      };\n      popup.getHoveredRow = function () {\n        return hoverMarker.start.row;\n      };\n      event.addListener(popup.container, \"mouseout\", function () {\n        popup.isMouseOver = false;\n        hideHoverMarker();\n      });\n      popup.on(\"hide\", hideHoverMarker);\n      popup.on(\"changeSelection\", hideHoverMarker);\n      popup.session.doc.getLength = function () {\n        return popup.data.length;\n      };\n      popup.session.doc.getLine = function (i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\") return data;\n        return data && data.value || \"\";\n      };\n      var bgTokenizer = popup.session.bgTokenizer;\n      bgTokenizer.$tokenizeRow = function (row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data) return tokens;\n        if (typeof data == \"string\") data = {\n          value: data\n        };\n        var caption = data.caption || data.value || data.name;\n        function addToken(value, className) {\n          value && tokens.push({\n            type: (data.className || \"\") + (className || \"\"),\n            value: value\n          });\n        }\n        var lower = caption.toLowerCase();\n        var filterText = (popup.filterText || \"\").toLowerCase();\n        var lastIndex = 0;\n        var lastI = 0;\n        for (var i = 0; i <= filterText.length; i++) {\n          if (i != lastI && (data.matchMask & 1 << i || i == filterText.length)) {\n            var sub = filterText.slice(lastI, i);\n            lastI = i;\n            var index = lower.indexOf(sub, lastIndex);\n            if (index == -1) continue;\n            addToken(caption.slice(lastIndex, index), \"\");\n            lastIndex = index + sub.length;\n            addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n          }\n        }\n        addToken(caption.slice(lastIndex, caption.length), \"\");\n        tokens.push({\n          type: \"completion-spacer\",\n          value: \" \"\n        });\n        if (data.meta) tokens.push({\n          type: \"completion-meta\",\n          value: data.meta\n        });\n        if (data.message) tokens.push({\n          type: \"completion-message\",\n          value: data.message\n        });\n        return tokens;\n      };\n      bgTokenizer.$updateOnChange = noop;\n      bgTokenizer.start = noop;\n      popup.session.$computeWidth = function () {\n        return this.screenWidth = 0;\n      };\n      popup.isOpen = false;\n      popup.isTopdown = false;\n      popup.autoSelect = true;\n      popup.filterText = \"\";\n      popup.isMouseOver = false;\n      popup.data = [];\n      popup.setData = function (list, filterText) {\n        popup.filterText = filterText || \"\";\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n      };\n      popup.getData = function (row) {\n        return popup.data[row];\n      };\n      popup.getRow = function () {\n        return selectionMarker.start.row;\n      };\n      popup.setRow = function (line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, line));\n        if (selectionMarker.start.row != line) {\n          popup.selection.clearSelection();\n          selectionMarker.start.row = selectionMarker.end.row = line || 0;\n          popup.session._emit(\"changeBackMarker\");\n          popup.moveCursorTo(line || 0, 0);\n          if (popup.isOpen) popup._signal(\"select\");\n        }\n      };\n      popup.on(\"changeSelection\", function () {\n        if (popup.isOpen) popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n      });\n      popup.hide = function () {\n        this.container.style.display = \"none\";\n        popup.anchorPos = null;\n        popup.anchor = null;\n        if (popup.isOpen) {\n          popup.isOpen = false;\n          this._signal(\"hide\");\n        }\n      };\n      popup.tryShow = function (pos, lineHeight, anchor, forceShow) {\n        if (!forceShow && popup.isOpen && popup.anchorPos && popup.anchor && popup.anchorPos.top === pos.top && popup.anchorPos.left === pos.left && popup.anchor === anchor) {\n          return true;\n        }\n        var el = this.container;\n        var screenHeight = window.innerHeight;\n        var screenWidth = window.innerWidth;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var dims = {\n          top: 0,\n          bottom: 0,\n          left: 0\n        };\n        var spaceBelow = screenHeight - pos.top - 3 * this.$borderSize - lineHeight;\n        var spaceAbove = pos.top - 3 * this.$borderSize;\n        if (!anchor) {\n          if (spaceAbove <= spaceBelow || spaceBelow >= maxH) {\n            anchor = \"bottom\";\n          } else {\n            anchor = \"top\";\n          }\n        }\n        if (anchor === \"top\") {\n          dims.bottom = pos.top - this.$borderSize;\n          dims.top = dims.bottom - maxH;\n        } else if (anchor === \"bottom\") {\n          dims.top = pos.top + lineHeight + this.$borderSize;\n          dims.bottom = dims.top + maxH;\n        }\n        var fitsX = dims.top >= 0 && dims.bottom <= screenHeight;\n        if (!forceShow && !fitsX) {\n          return false;\n        }\n        if (!fitsX) {\n          if (anchor === \"top\") {\n            renderer.$maxPixelHeight = spaceAbove;\n          } else {\n            renderer.$maxPixelHeight = spaceBelow;\n          }\n        } else {\n          renderer.$maxPixelHeight = null;\n        }\n        if (anchor === \"top\") {\n          el.style.top = \"\";\n          el.style.bottom = screenHeight - dims.bottom + \"px\";\n          popup.isTopdown = false;\n        } else {\n          el.style.top = dims.top + \"px\";\n          el.style.bottom = \"\";\n          popup.isTopdown = true;\n        }\n        el.style.display = \"\";\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth) left = screenWidth - el.offsetWidth;\n        el.style.left = left + \"px\";\n        el.style.right = \"\";\n        if (!popup.isOpen) {\n          popup.isOpen = true;\n          this._signal(\"show\");\n          lastMouseEvent = null;\n        }\n        popup.anchorPos = pos;\n        popup.anchor = anchor;\n        return true;\n      };\n      popup.show = function (pos, lineHeight, topdownOnly) {\n        this.tryShow(pos, lineHeight, topdownOnly ? \"bottom\" : undefined, true);\n      };\n      popup.goTo = function (where) {\n        var row = this.getRow();\n        var max = this.session.getLength() - 1;\n        switch (where) {\n          case \"up\":\n            row = row <= 0 ? max : row - 1;\n            break;\n          case \"down\":\n            row = row >= max ? -1 : row + 1;\n            break;\n          case \"start\":\n            row = 0;\n            break;\n          case \"end\":\n            row = max;\n            break;\n        }\n        this.setRow(row);\n      };\n      popup.getTextLeftOffset = function () {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n      };\n      popup.$imageSize = 0;\n      popup.$borderSize = 1;\n      return popup;\n    }\n    return AcePopup;\n  }();\n  dom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin-left: 0.9em;\\n}\\n.ace_completion-message {\\n    margin-left: 0.9em;\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\\n.ace_autocomplete .ace_text-layer  {\\n    width: calc(100% - 8px);\\n}\\n.ace_autocomplete .ace_line {\\n    display: flex;\\n    align-items: center;\\n}\\n.ace_autocomplete .ace_line > * {\\n    min-width: 0;\\n    flex: 0 0 auto;\\n}\\n.ace_autocomplete .ace_line .ace_ {\\n    flex: 0 1 auto;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ace_autocomplete .ace_completion-spacer {\\n    flex: 1;\\n}\\n.ace_autocomplete.ace_loading:after  {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0px;\\n    height: 2px;\\n    width: 8%;\\n    background: blue;\\n    z-index: 100;\\n    animation: ace_progress 3s infinite linear;\\n    animation-delay: 300ms;\\n    transform: translateX(-100%) scaleX(1);\\n}\\n@keyframes ace_progress {\\n    0% { transform: translateX(-100%) scaleX(1) }\\n    50% { transform: translateX(625%) scaleX(2) } \\n    100% { transform: translateX(1500%) scaleX(3) } \\n}\\n@media (prefers-reduced-motion) {\\n    .ace_autocomplete.ace_loading:after {\\n        transform: translateX(625%) scaleX(2);\\n        animation: none;\\n     }\\n}\\n\", \"autocompletion.css\", false);\n  exports.AcePopup = AcePopup;\n  exports.$singleLineEditor = $singleLineEditor;\n  exports.getAriaId = getAriaId;\n});\nace.define(\"ace/snippets\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/range\", \"ace/range_list\", \"ace/keyboard/hash_handler\", \"ace/tokenizer\", \"ace/clipboard\", \"ace/editor\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"./lib/dom\");\n  var oop = require(\"./lib/oop\");\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var lang = require(\"./lib/lang\");\n  var Range = require(\"./range\").Range;\n  var RangeList = require(\"./range_list\").RangeList;\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var Tokenizer = require(\"./tokenizer\").Tokenizer;\n  var clipboard = require(\"./clipboard\");\n  var VARIABLES = {\n    CURRENT_WORD: function (editor) {\n      return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n      var text = editor.session.getTextRange();\n      if (indentation) return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n      return text;\n    },\n    CURRENT_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n      return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n      return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n      return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n      return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n      return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n      return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) {\n      return \"/not implemented.txt\";\n    },\n    WORKSPACE_NAME: function () {\n      return \"Unknown\";\n    },\n    FULLNAME: function () {\n      return \"Unknown\";\n    },\n    BLOCK_COMMENT_START: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, {\n      year: \"numeric\"\n    }),\n    CURRENT_YEAR_SHORT: date.bind(null, {\n      year: \"2-digit\"\n    }),\n    CURRENT_MONTH: date.bind(null, {\n      month: \"numeric\"\n    }),\n    CURRENT_MONTH_NAME: date.bind(null, {\n      month: \"long\"\n    }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, {\n      month: \"short\"\n    }),\n    CURRENT_DATE: date.bind(null, {\n      day: \"2-digit\"\n    }),\n    CURRENT_DAY_NAME: date.bind(null, {\n      weekday: \"long\"\n    }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, {\n      weekday: \"short\"\n    }),\n    CURRENT_HOUR: date.bind(null, {\n      hour: \"2-digit\",\n      hour12: false\n    }),\n    CURRENT_MINUTE: date.bind(null, {\n      minute: \"2-digit\"\n    }),\n    CURRENT_SECOND: date.bind(null, {\n      second: \"2-digit\"\n    })\n  };\n  VARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\n  function date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n  }\n  var SnippetManager = /** @class */function () {\n    function SnippetManager() {\n      this.snippetMap = {};\n      this.snippetNameMap = {};\n      this.variables = VARIABLES;\n    }\n    SnippetManager.prototype.getTokenizer = function () {\n      return SnippetManager[\"$tokenizer\"] || this.createTokenizer();\n    };\n    SnippetManager.prototype.createTokenizer = function () {\n      function TabstopToken(str) {\n        str = str.substr(1);\n        if (/^\\d+$/.test(str)) return [{\n          tabstopId: parseInt(str, 10)\n        }];\n        return [{\n          text: str\n        }];\n      }\n      function escape(ch) {\n        return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n      }\n      var formatMatcher = {\n        regex: \"/(\" + escape(\"/\") + \"+)/\",\n        onMatch: function (val, state, stack) {\n          var ts = stack[0];\n          ts.fmtString = true;\n          ts.guard = val.slice(1, -1);\n          ts.flag = \"\";\n          return \"\";\n        },\n        next: \"formatString\"\n      };\n      SnippetManager[\"$tokenizer\"] = new Tokenizer({\n        start: [{\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) {\n              val = ch;\n            } else if (\"`$\\\\\".indexOf(ch) != -1) {\n              val = ch;\n            }\n            return [val];\n          }\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            return [stack.length ? stack.shift() : val];\n          }\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: TabstopToken\n        }, {\n          regex: /\\$\\{[\\dA-Z_a-z]+/,\n          onMatch: function (str, state, stack) {\n            var t = TabstopToken(str.substr(1));\n            stack.unshift(t[0]);\n            return t;\n          },\n          next: \"snippetVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }],\n        snippetVar: [{\n          regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\",\n          onMatch: function (val, state, stack) {\n            var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n              return operator.length == 2 ? operator[1] : \"\\x00\";\n            }).split(\"\\x00\").map(function (value) {\n              return {\n                value: value\n              };\n            });\n            stack[0].choices = choices;\n            return [choices[0]];\n          },\n          next: \"start\"\n        }, formatMatcher, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"start\"\n        }],\n        formatString: [{\n          regex: /:/,\n          onMatch: function (val, state, stack) {\n            if (stack.length && stack[0].expectElse) {\n              stack[0].expectElse = false;\n              stack[0].ifEnd = {\n                elseEnd: stack[0]\n              };\n              return [stack[0].ifEnd];\n            }\n            return \":\";\n          }\n        }, {\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) val = ch;else if (\"`$\\\\\".indexOf(ch) != -1) val = ch;else if (ch == \"n\") val = \"\\n\";else if (ch == \"t\") val = \"\\t\";else if (\"ulULE\".indexOf(ch) != -1) val = {\n              changeCase: ch,\n              local: ch > \"a\"\n            };\n            return [val];\n          }\n        }, {\n          regex: \"/\\\\w*}\",\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            if (next) next.flag = val.slice(1, -1);\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: function (val, state, stack) {\n            return [{\n              text: val.slice(1)\n            }];\n          }\n        }, {\n          regex: /\\${\\w+/,\n          onMatch: function (val, state, stack) {\n            var token = {\n              text: val.slice(2)\n            };\n            stack.unshift(token);\n            return [token];\n          },\n          next: \"formatStringVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }],\n        formatStringVar: [{\n          regex: /:\\/\\w+}/,\n          onMatch: function (val, state, stack) {\n            var ts = stack[0];\n            ts.formatFunction = val.slice(2, -1);\n            return [stack.shift()];\n          },\n          next: \"formatString\"\n        }, formatMatcher, {\n          regex: /:[\\?\\-+]?/,\n          onMatch: function (val, state, stack) {\n            if (val[1] == \"+\") stack[0].ifEnd = stack[0];\n            if (val[1] == \"?\") stack[0].expectElse = true;\n          },\n          next: \"formatString\"\n        }, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"formatString\"\n        }]\n      });\n      return SnippetManager[\"$tokenizer\"];\n    };\n    SnippetManager.prototype.tokenizeTmSnippet = function (str, startState) {\n      return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n        return x.value || x;\n      });\n    };\n    SnippetManager.prototype.getVariableValue = function (editor, name, indentation) {\n      if (/^\\d+$/.test(name)) return (this.variables.__ || {})[name] || \"\";\n      if (/^[A-Z]\\d+$/.test(name)) return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n      name = name.replace(/^TM_/, \"\");\n      if (!this.variables.hasOwnProperty(name)) return \"\";\n      var value = this.variables[name];\n      if (typeof value == \"function\") value = this.variables[name](editor, name, indentation);\n      return value == null ? \"\" : value;\n    };\n    SnippetManager.prototype.tmStrFormat = function (str, ch, editor) {\n      if (!ch.fmt) return str;\n      var flag = ch.flag || \"\";\n      var re = ch.guard;\n      re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n      var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n      var _self = this;\n      var formatted = str.replace(re, function () {\n        var oldArgs = _self.variables.__;\n        _self.variables.__ = [].slice.call(arguments);\n        var fmtParts = _self.resolveVariables(fmtTokens, editor);\n        var gChangeCase = \"E\";\n        for (var i = 0; i < fmtParts.length; i++) {\n          var ch = fmtParts[i];\n          if (typeof ch == \"object\") {\n            fmtParts[i] = \"\";\n            if (ch.changeCase && ch.local) {\n              var next = fmtParts[i + 1];\n              if (next && typeof next == \"string\") {\n                if (ch.changeCase == \"u\") fmtParts[i] = next[0].toUpperCase();else fmtParts[i] = next[0].toLowerCase();\n                fmtParts[i + 1] = next.substr(1);\n              }\n            } else if (ch.changeCase) {\n              gChangeCase = ch.changeCase;\n            }\n          } else if (gChangeCase == \"U\") {\n            fmtParts[i] = ch.toUpperCase();\n          } else if (gChangeCase == \"L\") {\n            fmtParts[i] = ch.toLowerCase();\n          }\n        }\n        _self.variables.__ = oldArgs;\n        return fmtParts.join(\"\");\n      });\n      return formatted;\n    };\n    SnippetManager.prototype.tmFormatFunction = function (str, ch, editor) {\n      if (ch.formatFunction == \"upcase\") return str.toUpperCase();\n      if (ch.formatFunction == \"downcase\") return str.toLowerCase();\n      return str;\n    };\n    SnippetManager.prototype.resolveVariables = function (snippet, editor) {\n      var result = [];\n      var indentation = \"\";\n      var afterNewLine = true;\n      for (var i = 0; i < snippet.length; i++) {\n        var ch = snippet[i];\n        if (typeof ch == \"string\") {\n          result.push(ch);\n          if (ch == \"\\n\") {\n            afterNewLine = true;\n            indentation = \"\";\n          } else if (afterNewLine) {\n            indentation = /^\\t*/.exec(ch)[0];\n            afterNewLine = /\\S/.test(ch);\n          }\n          continue;\n        }\n        if (!ch) continue;\n        afterNewLine = false;\n        if (ch.fmtString) {\n          var j = snippet.indexOf(ch, i + 1);\n          if (j == -1) j = snippet.length;\n          ch.fmt = snippet.slice(i + 1, j);\n          i = j;\n        }\n        if (ch.text) {\n          var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n          if (ch.fmtString) value = this.tmStrFormat(value, ch, editor);\n          if (ch.formatFunction) value = this.tmFormatFunction(value, ch, editor);\n          if (value && !ch.ifEnd) {\n            result.push(value);\n            gotoNext(ch);\n          } else if (!value && ch.ifEnd) {\n            gotoNext(ch.ifEnd);\n          }\n        } else if (ch.elseEnd) {\n          gotoNext(ch.elseEnd);\n        } else if (ch.tabstopId != null) {\n          result.push(ch);\n        } else if (ch.changeCase != null) {\n          result.push(ch);\n        }\n      }\n      function gotoNext(ch) {\n        var i1 = snippet.indexOf(ch, i + 1);\n        if (i1 != -1) i = i1;\n      }\n      return result;\n    };\n    SnippetManager.prototype.getDisplayTextForSnippet = function (editor, snippetText) {\n      var processedSnippet = processSnippetText.call(this, editor, snippetText);\n      return processedSnippet.text;\n    };\n    SnippetManager.prototype.insertSnippetForSelection = function (editor, snippetText, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var processedSnippet = processSnippetText.call(this, editor, snippetText, options);\n      var range = editor.getSelectionRange();\n      var end = editor.session.replace(range, processedSnippet.text);\n      var tabstopManager = new TabstopManager(editor);\n      var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n      tabstopManager.addTabstops(processedSnippet.tabstops, range.start, end, selectionId);\n    };\n    SnippetManager.prototype.insertSnippet = function (editor, snippetText, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var self = this;\n      if (editor.inVirtualSelectionMode) return self.insertSnippetForSelection(editor, snippetText, options);\n      editor.forEachSelection(function () {\n        self.insertSnippetForSelection(editor, snippetText, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (editor.tabstopManager) editor.tabstopManager.tabNext();\n    };\n    SnippetManager.prototype.$getScope = function (editor) {\n      var scope = editor.session.$mode.$id || \"\";\n      scope = scope.split(\"/\").pop();\n      if (scope === \"html\" || scope === \"php\") {\n        if (scope === \"php\" && !editor.session.$mode.inlinePhp) scope = \"html\";\n        var c = editor.getCursorPosition();\n        var state = editor.session.getState(c.row);\n        if (typeof state === \"object\") {\n          state = state[0];\n        }\n        if (state.substring) {\n          if (state.substring(0, 3) == \"js-\") scope = \"javascript\";else if (state.substring(0, 4) == \"css-\") scope = \"css\";else if (state.substring(0, 4) == \"php-\") scope = \"php\";\n        }\n      }\n      return scope;\n    };\n    SnippetManager.prototype.getActiveScopes = function (editor) {\n      var scope = this.$getScope(editor);\n      var scopes = [scope];\n      var snippetMap = this.snippetMap;\n      if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n        scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n      }\n      scopes.push(\"_\");\n      return scopes;\n    };\n    SnippetManager.prototype.expandWithTab = function (editor, options) {\n      var self = this;\n      var result = editor.forEachSelection(function () {\n        return self.expandSnippetForSelection(editor, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (result && editor.tabstopManager) editor.tabstopManager.tabNext();\n      return result;\n    };\n    SnippetManager.prototype.expandSnippetForSelection = function (editor, options) {\n      var cursor = editor.getCursorPosition();\n      var line = editor.session.getLine(cursor.row);\n      var before = line.substring(0, cursor.column);\n      var after = line.substr(cursor.column);\n      var snippetMap = this.snippetMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = this.findMatchingSnippet(snippets, before, after);\n        return !!snippet;\n      }, this);\n      if (!snippet) return false;\n      if (options && options.dryRun) return true;\n      editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n      this.variables.M__ = snippet.matchBefore;\n      this.variables.T__ = snippet.matchAfter;\n      this.insertSnippetForSelection(editor, snippet.content);\n      this.variables.M__ = this.variables.T__ = null;\n      return true;\n    };\n    SnippetManager.prototype.findMatchingSnippet = function (snippetList, before, after) {\n      for (var i = snippetList.length; i--;) {\n        var s = snippetList[i];\n        if (s.startRe && !s.startRe.test(before)) continue;\n        if (s.endRe && !s.endRe.test(after)) continue;\n        if (!s.startRe && !s.endRe) continue;\n        s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n        s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n        s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n        s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n        return s;\n      }\n    };\n    SnippetManager.prototype.register = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      var self = this;\n      if (!snippets) snippets = [];\n      function wrapRegexp(src) {\n        if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src)) src = \"(?:\" + src + \")\";\n        return src || \"\";\n      }\n      function guardedRegexp(re, guard, opening) {\n        re = wrapRegexp(re);\n        guard = wrapRegexp(guard);\n        if (opening) {\n          re = guard + re;\n          if (re && re[re.length - 1] != \"$\") re = re + \"$\";\n        } else {\n          re = re + guard;\n          if (re && re[0] != \"^\") re = \"^\" + re;\n        }\n        return new RegExp(re);\n      }\n      function addSnippet(s) {\n        if (!s.scope) s.scope = scope || \"_\";\n        scope = s.scope;\n        if (!snippetMap[scope]) {\n          snippetMap[scope] = [];\n          snippetNameMap[scope] = {};\n        }\n        var map = snippetNameMap[scope];\n        if (s.name) {\n          var old = map[s.name];\n          if (old) self.unregister(old);\n          map[s.name] = s;\n        }\n        snippetMap[scope].push(s);\n        if (s.prefix) s.tabTrigger = s.prefix;\n        if (!s.content && s.body) s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n        if (s.tabTrigger && !s.trigger) {\n          if (!s.guard && /^\\w/.test(s.tabTrigger)) s.guard = \"\\\\b\";\n          s.trigger = lang.escapeRegExp(s.tabTrigger);\n        }\n        if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard) return;\n        s.startRe = guardedRegexp(s.trigger, s.guard, true);\n        s.triggerRe = new RegExp(s.trigger);\n        s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n        s.endTriggerRe = new RegExp(s.endTrigger);\n      }\n      if (Array.isArray(snippets)) {\n        snippets.forEach(addSnippet);\n      } else {\n        Object.keys(snippets).forEach(function (key) {\n          addSnippet(snippets[key]);\n        });\n      }\n      this._signal(\"registerSnippets\", {\n        scope: scope\n      });\n    };\n    SnippetManager.prototype.unregister = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      function removeSnippet(s) {\n        var nameMap = snippetNameMap[s.scope || scope];\n        if (nameMap && nameMap[s.name]) {\n          delete nameMap[s.name];\n          var map = snippetMap[s.scope || scope];\n          var i = map && map.indexOf(s);\n          if (i >= 0) map.splice(i, 1);\n        }\n      }\n      if (snippets.content) removeSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(removeSnippet);\n    };\n    SnippetManager.prototype.parseSnippetFile = function (str) {\n      str = str.replace(/\\r/g, \"\");\n      var list = [],\n        /**@type{Snippet}*/snippet = {};\n      var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n      var m;\n      while (m = re.exec(str)) {\n        if (m[1]) {\n          try {\n            snippet = JSON.parse(m[1]);\n            list.push(snippet);\n          } catch (e) {}\n        }\n        if (m[4]) {\n          snippet.content = m[4].replace(/^\\t/gm, \"\");\n          list.push(snippet);\n          snippet = {};\n        } else {\n          var key = m[2],\n            val = m[3];\n          if (key == \"regex\") {\n            var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n            snippet.guard = guardRe.exec(val)[1];\n            snippet.trigger = guardRe.exec(val)[1];\n            snippet.endTrigger = guardRe.exec(val)[1];\n            snippet.endGuard = guardRe.exec(val)[1];\n          } else if (key == \"snippet\") {\n            snippet.tabTrigger = val.match(/^\\S*/)[0];\n            if (!snippet.name) snippet.name = val;\n          } else if (key) {\n            snippet[key] = val;\n          }\n        }\n      }\n      return list;\n    };\n    SnippetManager.prototype.getSnippetByName = function (name, editor) {\n      var snippetMap = this.snippetNameMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = snippets[name];\n        return !!snippet;\n      }, this);\n      return snippet;\n    };\n    return SnippetManager;\n  }();\n  oop.implement(SnippetManager.prototype, EventEmitter);\n  var processSnippetText = function (editor, snippetText, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var cursor = editor.getCursorPosition();\n    var line = editor.session.getLine(cursor.row);\n    var tabString = editor.session.getTabString();\n    var indentString = line.match(/^\\s*/)[0];\n    if (cursor.column < indentString.length) indentString = indentString.slice(0, cursor.column);\n    snippetText = snippetText.replace(/\\r/g, \"\");\n    var tokens = this.tokenizeTmSnippet(snippetText);\n    tokens = this.resolveVariables(tokens, editor);\n    tokens = tokens.map(function (x) {\n      if (x == \"\\n\" && !options.excludeExtraIndent) return x + indentString;\n      if (typeof x == \"string\") return x.replace(/\\t/g, tabString);\n      return x;\n    });\n    var tabstops = [];\n    tokens.forEach(function (p, i) {\n      if (typeof p != \"object\") return;\n      var id = p.tabstopId;\n      var ts = tabstops[id];\n      if (!ts) {\n        ts = tabstops[id] = [];\n        ts.index = id;\n        ts.value = \"\";\n        ts.parents = {};\n      }\n      if (ts.indexOf(p) !== -1) return;\n      if (p.choices && !ts.choices) ts.choices = p.choices;\n      ts.push(p);\n      var i1 = tokens.indexOf(p, i + 1);\n      if (i1 === -1) return;\n      var value = tokens.slice(i + 1, i1);\n      var isNested = value.some(function (t) {\n        return typeof t === \"object\";\n      });\n      if (isNested && !ts.value) {\n        ts.value = value;\n      } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n        ts.value = value.join(\"\");\n      }\n    });\n    tabstops.forEach(function (ts) {\n      ts.length = 0;\n    });\n    var expanding = {};\n    function copyValue(val) {\n      var copy = [];\n      for (var i = 0; i < val.length; i++) {\n        var p = val[i];\n        if (typeof p == \"object\") {\n          if (expanding[p.tabstopId]) continue;\n          var j = val.lastIndexOf(p, i - 1);\n          p = copy[j] || {\n            tabstopId: p.tabstopId\n          };\n        }\n        copy[i] = p;\n      }\n      return copy;\n    }\n    for (var i = 0; i < tokens.length; i++) {\n      var p = tokens[i];\n      if (typeof p != \"object\") continue;\n      var id = p.tabstopId;\n      var ts = tabstops[id];\n      var i1 = tokens.indexOf(p, i + 1);\n      if (expanding[id]) {\n        if (expanding[id] === p) {\n          delete expanding[id];\n          Object.keys(expanding).forEach(function (parentId) {\n            ts.parents[parentId] = true;\n          });\n        }\n        continue;\n      }\n      expanding[id] = p;\n      var value = ts.value;\n      if (typeof value !== \"string\") value = copyValue(value);else if (p.fmt) value = this.tmStrFormat(value, p, editor);\n      tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n      if (ts.indexOf(p) === -1) ts.push(p);\n    }\n    var row = 0,\n      column = 0;\n    var text = \"\";\n    tokens.forEach(function (t) {\n      if (typeof t === \"string\") {\n        var lines = t.split(\"\\n\");\n        if (lines.length > 1) {\n          column = lines[lines.length - 1].length;\n          row += lines.length - 1;\n        } else column += t.length;\n        text += t;\n      } else if (t) {\n        if (!t.start) t.start = {\n          row: row,\n          column: column\n        };else t.end = {\n          row: row,\n          column: column\n        };\n      }\n    });\n    return {\n      text: text,\n      tabstops: tabstops,\n      tokens: tokens\n    };\n  };\n  var TabstopManager = /** @class */function () {\n    function TabstopManager(editor) {\n      this.index = 0;\n      this.ranges = [];\n      this.tabstops = [];\n      if (editor.tabstopManager) return editor.tabstopManager;\n      editor.tabstopManager = this;\n      this.$onChange = this.onChange.bind(this);\n      this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n      this.$onChangeSession = this.onChangeSession.bind(this);\n      this.$onAfterExec = this.onAfterExec.bind(this);\n      this.attach(editor);\n    }\n    TabstopManager.prototype.attach = function (editor) {\n      this.$openTabstops = null;\n      this.selectedTabstop = null;\n      this.editor = editor;\n      this.session = editor.session;\n      this.editor.on(\"change\", this.$onChange);\n      this.editor.on(\"changeSelection\", this.$onChangeSelection);\n      this.editor.on(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    TabstopManager.prototype.detach = function () {\n      this.tabstops.forEach(this.removeTabstopMarkers, this);\n      this.ranges.length = 0;\n      this.tabstops.length = 0;\n      this.selectedTabstop = null;\n      this.editor.off(\"change\", this.$onChange);\n      this.editor.off(\"changeSelection\", this.$onChangeSelection);\n      this.editor.off(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.off(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n      this.editor.tabstopManager = null;\n      this.session = null;\n      this.editor = null;\n    };\n    TabstopManager.prototype.onChange = function (delta) {\n      var isRemove = delta.action[0] == \"r\";\n      var selectedTabstop = this.selectedTabstop || {};\n      var parents = selectedTabstop.parents || {};\n      var tabstops = this.tabstops.slice();\n      for (var i = 0; i < tabstops.length; i++) {\n        var ts = tabstops[i];\n        var active = ts == selectedTabstop || parents[ts.index];\n        ts.rangeList.$bias = active ? 0 : 1;\n        if (delta.action == \"remove\" && ts !== selectedTabstop) {\n          var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n          var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n          startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n          var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n          endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n          var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n          for (var j = 0; j < toRemove.length; j++) this.removeRange(toRemove[j]);\n        }\n        ts.rangeList.$onChange(delta);\n      }\n      var session = this.session;\n      if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue()) this.detach();\n    };\n    TabstopManager.prototype.updateLinkedFields = function () {\n      var ts = this.selectedTabstop;\n      if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked) return;\n      this.$inChange = true;\n      var session = this.session;\n      var text = session.getTextRange(ts.firstNonLinked);\n      for (var i = 0; i < ts.length; i++) {\n        var range = ts[i];\n        if (!range.linked) continue;\n        var original = range.original;\n        var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n        session.replace(range, fmt);\n      }\n      this.$inChange = false;\n    };\n    TabstopManager.prototype.onAfterExec = function (e) {\n      if (e.command && !e.command.readOnly) this.updateLinkedFields();\n    };\n    TabstopManager.prototype.onChangeSelection = function () {\n      if (!this.editor) return;\n      var lead = this.editor.selection.lead;\n      var anchor = this.editor.selection.anchor;\n      var isEmpty = this.editor.selection.isEmpty();\n      for (var i = 0; i < this.ranges.length; i++) {\n        if (this.ranges[i].linked) continue;\n        var containsLead = this.ranges[i].contains(lead.row, lead.column);\n        var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n        if (containsLead && containsAnchor) return;\n      }\n      this.detach();\n    };\n    TabstopManager.prototype.onChangeSession = function () {\n      this.detach();\n    };\n    TabstopManager.prototype.tabNext = function (dir) {\n      var max = this.tabstops.length;\n      var index = this.index + (dir || 1);\n      index = Math.min(Math.max(index, 1), max);\n      if (index == max) index = 0;\n      this.selectTabstop(index);\n      this.updateTabstopMarkers();\n      if (index === 0) {\n        this.detach();\n      }\n    };\n    TabstopManager.prototype.selectTabstop = function (index) {\n      this.$openTabstops = null;\n      var ts = this.tabstops[this.index];\n      if (ts) this.addTabstopMarkers(ts);\n      this.index = index;\n      ts = this.tabstops[this.index];\n      if (!ts || !ts.length) return;\n      this.selectedTabstop = ts;\n      var range = ts.firstNonLinked || ts;\n      if (ts.choices) range.cursor = range.start;\n      if (!this.editor.inVirtualSelectionMode) {\n        var sel = this.editor.multiSelect;\n        sel.toSingleRange(range);\n        for (var i = 0; i < ts.length; i++) {\n          if (ts.hasLinkedRanges && ts[i].linked) continue;\n          sel.addRange(ts[i].clone(), true);\n        }\n      } else {\n        this.editor.selection.fromOrientedRange(range);\n      }\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      if (this.selectedTabstop && this.selectedTabstop.choices) this.editor.execCommand(\"startAutocomplete\", {\n        matches: this.selectedTabstop.choices\n      });\n    };\n    TabstopManager.prototype.addTabstops = function (tabstops, start, end) {\n      var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n      if (!this.$openTabstops) this.$openTabstops = [];\n      if (!tabstops[0]) {\n        var p = Range.fromPoints(end, end);\n        moveRelative(p.start, start);\n        moveRelative(p.end, start);\n        tabstops[0] = [p];\n        tabstops[0].index = 0;\n      }\n      var i = this.index;\n      var arg = [i + 1, 0];\n      var ranges = this.ranges;\n      var snippetId = this.snippetId = (this.snippetId || 0) + 1;\n      tabstops.forEach(function (ts, index) {\n        var dest = this.$openTabstops[index] || ts;\n        dest.snippetId = snippetId;\n        for (var i = 0; i < ts.length; i++) {\n          var p = ts[i];\n          var range = Range.fromPoints(p.start, p.end || p.start);\n          movePoint(range.start, start);\n          movePoint(range.end, start);\n          range.original = p;\n          range.tabstop = dest;\n          ranges.push(range);\n          if (dest != ts) dest.unshift(range);else dest[i] = range;\n          if (p.fmtString || dest.firstNonLinked && useLink) {\n            range.linked = true;\n            dest.hasLinkedRanges = true;\n          } else if (!dest.firstNonLinked) dest.firstNonLinked = range;\n        }\n        if (!dest.firstNonLinked) dest.hasLinkedRanges = false;\n        if (dest === ts) {\n          arg.push(dest);\n          this.$openTabstops[index] = dest;\n        }\n        this.addTabstopMarkers(dest);\n        dest.rangeList = dest.rangeList || new RangeList();\n        dest.rangeList.$bias = 0;\n        dest.rangeList.addList(dest);\n      }, this);\n      if (arg.length > 2) {\n        if (this.tabstops.length) arg.push(arg.splice(2, 1)[0]);\n        this.tabstops.splice.apply(this.tabstops, arg);\n      }\n    };\n    TabstopManager.prototype.addTabstopMarkers = function (ts) {\n      var session = this.session;\n      ts.forEach(function (range) {\n        if (!range.markerId) range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n      });\n    };\n    TabstopManager.prototype.removeTabstopMarkers = function (ts) {\n      var session = this.session;\n      ts.forEach(function (range) {\n        session.removeMarker(range.markerId);\n        range.markerId = null;\n      });\n    };\n    TabstopManager.prototype.updateTabstopMarkers = function () {\n      if (!this.selectedTabstop) return;\n      var currentSnippetId = this.selectedTabstop.snippetId;\n      if (this.selectedTabstop.index === 0) {\n        currentSnippetId--;\n      }\n      this.tabstops.forEach(function (ts) {\n        if (ts.snippetId === currentSnippetId) this.addTabstopMarkers(ts);else this.removeTabstopMarkers(ts);\n      }, this);\n    };\n    TabstopManager.prototype.removeRange = function (range) {\n      var i = range.tabstop.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      i = this.ranges.indexOf(range);\n      if (i != -1) this.ranges.splice(i, 1);\n      i = range.tabstop.rangeList.ranges.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      this.session.removeMarker(range.markerId);\n      if (!range.tabstop.length) {\n        i = this.tabstops.indexOf(range.tabstop);\n        if (i != -1) this.tabstops.splice(i, 1);\n        if (!this.tabstops.length) this.detach();\n      }\n    };\n    return TabstopManager;\n  }();\n  TabstopManager.prototype.keyboardHandler = new HashHandler();\n  TabstopManager.prototype.keyboardHandler.bindKeys({\n    \"Tab\": function (editor) {\n      if (exports.snippetManager && exports.snippetManager.expandWithTab(editor)) return;\n      editor.tabstopManager.tabNext(1);\n      editor.renderer.scrollCursorIntoView();\n    },\n    \"Shift-Tab\": function (editor) {\n      editor.tabstopManager.tabNext(-1);\n      editor.renderer.scrollCursorIntoView();\n    },\n    \"Esc\": function (editor) {\n      editor.tabstopManager.detach();\n    }\n  });\n  var movePoint = function (point, diff) {\n    if (point.row == 0) point.column += diff.column;\n    point.row += diff.row;\n  };\n  var moveRelative = function (point, start) {\n    if (point.row == start.row) point.column -= start.column;\n    point.row -= start.row;\n  };\n  dom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\n  exports.snippetManager = new SnippetManager();\n  var Editor = require(\"./editor\").Editor;\n  (function () {\n    this.insertSnippet = function (content, options) {\n      return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n      return exports.snippetManager.expandWithTab(this, options);\n    };\n  }).call(Editor.prototype);\n});\nace.define(\"ace/autocomplete/inline_screenreader\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var AceInlineScreenReader = /** @class */function () {\n    function AceInlineScreenReader(editor) {\n      this.editor = editor;\n      this.screenReaderDiv = document.createElement(\"div\");\n      this.screenReaderDiv.classList.add(\"ace_screenreader-only\");\n      this.editor.container.appendChild(this.screenReaderDiv);\n    }\n    AceInlineScreenReader.prototype.setScreenReaderContent = function (content) {\n      if (!this.popup && this.editor.completer && /**@type{import(\"../autocomplete\").Autocomplete}*/this.editor.completer.popup) {\n        this.popup = /**@type{import(\"../autocomplete\").Autocomplete}*/this.editor.completer.popup;\n        this.popup.renderer.on(\"afterRender\", function () {\n          var row = this.popup.getRow();\n          var t = this.popup.renderer.$textLayer;\n          var selected = t.element.childNodes[row - t.config.firstRow];\n          if (selected) {\n            var idString = \"doc-tooltip \";\n            for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n              idString += \"ace-inline-screenreader-line-\".concat(lineIndex, \" \");\n            }\n            selected.setAttribute(\"aria-describedby\", idString);\n          }\n        }.bind(this));\n      }\n      while (this.screenReaderDiv.firstChild) {\n        this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);\n      }\n      this._lines = content.split(/\\r\\n|\\r|\\n/);\n      var codeElement = this.createCodeBlock();\n      this.screenReaderDiv.appendChild(codeElement);\n    };\n    AceInlineScreenReader.prototype.destroy = function () {\n      this.screenReaderDiv.remove();\n    };\n    AceInlineScreenReader.prototype.createCodeBlock = function () {\n      var container = document.createElement(\"pre\");\n      container.setAttribute(\"id\", \"ace-inline-screenreader\");\n      for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n        var codeElement = document.createElement(\"code\");\n        codeElement.setAttribute(\"id\", \"ace-inline-screenreader-line-\".concat(lineIndex));\n        var line = document.createTextNode(this._lines[lineIndex]);\n        codeElement.appendChild(line);\n        container.appendChild(codeElement);\n      }\n      return container;\n    };\n    return AceInlineScreenReader;\n  }();\n  exports.AceInlineScreenReader = AceInlineScreenReader;\n});\nace.define(\"ace/autocomplete/inline\", [\"require\", \"exports\", \"module\", \"ace/snippets\", \"ace/autocomplete/inline_screenreader\"], function (require, exports, module) {\n  \"use strict\";\n\n  var snippetManager = require(\"../snippets\").snippetManager;\n  var AceInlineScreenReader = require(\"./inline_screenreader\").AceInlineScreenReader;\n  var AceInline = /** @class */function () {\n    function AceInline() {\n      this.editor = null;\n    }\n    AceInline.prototype.show = function (editor, completion, prefix) {\n      prefix = prefix || \"\";\n      if (editor && this.editor && this.editor !== editor) {\n        this.hide();\n        this.editor = null;\n        this.inlineScreenReader = null;\n      }\n      if (!editor || !completion) {\n        return false;\n      }\n      if (!this.inlineScreenReader) {\n        this.inlineScreenReader = new AceInlineScreenReader(editor);\n      }\n      var displayText = completion.snippet ? snippetManager.getDisplayTextForSnippet(editor, completion.snippet) : completion.value;\n      if (completion.hideInlinePreview || !displayText || !displayText.startsWith(prefix)) {\n        return false;\n      }\n      this.editor = editor;\n      this.inlineScreenReader.setScreenReaderContent(displayText);\n      displayText = displayText.slice(prefix.length);\n      if (displayText === \"\") {\n        editor.removeGhostText();\n      } else {\n        editor.setGhostText(displayText);\n      }\n      return true;\n    };\n    AceInline.prototype.isOpen = function () {\n      if (!this.editor) {\n        return false;\n      }\n      return !!this.editor.renderer.$ghostText;\n    };\n    AceInline.prototype.hide = function () {\n      if (!this.editor) {\n        return false;\n      }\n      this.editor.removeGhostText();\n      return true;\n    };\n    AceInline.prototype.destroy = function () {\n      this.hide();\n      this.editor = null;\n      if (this.inlineScreenReader) {\n        this.inlineScreenReader.destroy();\n        this.inlineScreenReader = null;\n      }\n    };\n    return AceInline;\n  }();\n  exports.AceInline = AceInline;\n});\nace.define(\"ace/autocomplete/util\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0) callback();\n    for (var i = 0; i < arLength; i++) {\n      fn(array[i], function (result, err) {\n        completed++;\n        if (completed === arLength) callback(result, err);\n      });\n    }\n  };\n  var ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\n  exports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf.reverse().join(\"\");\n  };\n  exports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf;\n  };\n  exports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n      if (completer.identifierRegexps) {\n        completer.identifierRegexps.forEach(function (identifierRegex) {\n          if (!prefix && identifierRegex) prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n        }.bind(this));\n      }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n  };\n  exports.triggerAutocomplete = function (editor, previousChar) {\n    var previousChar = previousChar == null ? editor.session.getPrecedingCharacter() : previousChar;\n    return editor.completers.some(function (completer) {\n      if (completer.triggerCharacters && Array.isArray(completer.triggerCharacters)) {\n        return completer.triggerCharacters.includes(previousChar);\n      }\n    });\n  };\n});\nace.define(\"ace/autocomplete\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\", \"ace/autocomplete/popup\", \"ace/autocomplete/inline\", \"ace/autocomplete/popup\", \"ace/autocomplete/util\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/snippets\", \"ace/config\", \"ace/lib/event\", \"ace/lib/scroll\"], function (require, exports, module) {\n  \"use strict\";\n\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var AcePopup = require(\"./autocomplete/popup\").AcePopup;\n  var AceInline = require(\"./autocomplete/inline\").AceInline;\n  var getAriaId = require(\"./autocomplete/popup\").getAriaId;\n  var util = require(\"./autocomplete/util\");\n  var lang = require(\"./lib/lang\");\n  var dom = require(\"./lib/dom\");\n  var snippetManager = require(\"./snippets\").snippetManager;\n  var config = require(\"./config\");\n  var event = require(\"./lib/event\");\n  var preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\n  var destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n  };\n  var Autocomplete = /** @class */function () {\n    function Autocomplete() {\n      this.autoInsert = false;\n      this.autoSelect = true;\n      this.autoShown = false;\n      this.exactMatch = false;\n      this.inlineEnabled = false;\n      this.keyboardHandler = new HashHandler();\n      this.keyboardHandler.bindKeys(this.commands);\n      this.parentNode = null;\n      this.setSelectOnHover = false;\n      this.hasSeen = new Set();\n      this.showLoadingState = false;\n      this.stickySelectionDelay = 500;\n      this.blurListener = this.blurListener.bind(this);\n      this.changeListener = this.changeListener.bind(this);\n      this.mousedownListener = this.mousedownListener.bind(this);\n      this.mousewheelListener = this.mousewheelListener.bind(this);\n      this.onLayoutChange = this.onLayoutChange.bind(this);\n      this.changeTimer = lang.delayedCall(function () {\n        this.updateCompletions(true);\n      }.bind(this));\n      this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n      this.popupTimer = lang.delayedCall(this.$updatePopupPosition.bind(this), 50);\n      this.stickySelectionTimer = lang.delayedCall(function () {\n        this.stickySelection = true;\n      }.bind(this), this.stickySelectionDelay);\n      this.$firstOpenTimer = lang.delayedCall( /**@this{Autocomplete}*/function () {\n        var initialPosition = this.completionProvider && this.completionProvider.initialPosition;\n        if (this.autoShown || this.popup && this.popup.isOpen || !initialPosition || this.editor.completers.length === 0) return;\n        this.completions = new FilteredList(Autocomplete.completionsForLoading);\n        this.openPopup(this.editor, initialPosition.prefix, false);\n        this.popup.renderer.setStyle(\"ace_loading\", true);\n      }.bind(this), this.stickySelectionDelay);\n    }\n    Object.defineProperty(Autocomplete, \"completionsForLoading\", {\n      get: function () {\n        return [{\n          caption: config.nls(\"autocomplete.loading\", \"Loading...\"),\n          value: \"\"\n        }];\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Autocomplete.prototype.$init = function () {\n      this.popup = new AcePopup(this.parentNode || document.body || document.documentElement);\n      this.popup.on(\"click\", function (e) {\n        this.insertMatch();\n        e.stop();\n      }.bind(this));\n      this.popup.focus = this.editor.focus.bind(this.editor);\n      this.popup.on(\"show\", this.$onPopupShow.bind(this));\n      this.popup.on(\"hide\", this.$onHidePopup.bind(this));\n      this.popup.on(\"select\", this.$onPopupChange.bind(this));\n      event.addListener(this.popup.container, \"mouseout\", this.mouseOutListener.bind(this));\n      this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n      this.popup.renderer.on(\"afterRender\", this.$onPopupRender.bind(this));\n      return this.popup;\n    };\n    Autocomplete.prototype.$initInline = function () {\n      if (!this.inlineEnabled || this.inlineRenderer) return;\n      this.inlineRenderer = new AceInline();\n      return this.inlineRenderer;\n    };\n    Autocomplete.prototype.getPopup = function () {\n      return this.popup || this.$init();\n    };\n    Autocomplete.prototype.$onHidePopup = function () {\n      if (this.inlineRenderer) {\n        this.inlineRenderer.hide();\n      }\n      this.hideDocTooltip();\n      this.stickySelectionTimer.cancel();\n      this.popupTimer.cancel();\n      this.stickySelection = false;\n    };\n    Autocomplete.prototype.$seen = function (completion) {\n      if (!this.hasSeen.has(completion) && completion && completion.completer && completion.completer.onSeen && typeof completion.completer.onSeen === \"function\") {\n        completion.completer.onSeen(this.editor, completion);\n        this.hasSeen.add(completion);\n      }\n    };\n    Autocomplete.prototype.$onPopupChange = function (hide) {\n      if (this.inlineRenderer && this.inlineEnabled) {\n        var completion = hide ? null : this.popup.getData(this.popup.getRow());\n        this.$updateGhostText(completion);\n        if (this.popup.isMouseOver && this.setSelectOnHover) {\n          this.tooltipTimer.call(null, null);\n          return;\n        }\n        this.popupTimer.schedule();\n        this.tooltipTimer.schedule();\n      } else {\n        this.popupTimer.call(null, null);\n        this.tooltipTimer.call(null, null);\n      }\n    };\n    Autocomplete.prototype.$updateGhostText = function (completion) {\n      var row = this.base.row;\n      var column = this.base.column;\n      var cursorColumn = this.editor.getCursorPosition().column;\n      var prefix = this.editor.session.getLine(row).slice(column, cursorColumn);\n      if (!this.inlineRenderer.show(this.editor, completion, prefix)) {\n        this.inlineRenderer.hide();\n      } else {\n        this.$seen(completion);\n      }\n    };\n    Autocomplete.prototype.$onPopupRender = function () {\n      var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n      if (this.completions && this.completions.filtered && this.completions.filtered.length > 0) {\n        for (var i = this.popup.getFirstVisibleRow(); i <= this.popup.getLastVisibleRow(); i++) {\n          var completion = this.popup.getData(i);\n          if (completion && (!inlineEnabled || completion.hideInlinePreview)) {\n            this.$seen(completion);\n          }\n        }\n      }\n    };\n    Autocomplete.prototype.$onPopupShow = function (hide) {\n      this.$onPopupChange(hide);\n      this.stickySelection = false;\n      if (this.stickySelectionDelay >= 0) this.stickySelectionTimer.schedule(this.stickySelectionDelay);\n    };\n    Autocomplete.prototype.observeLayoutChanges = function () {\n      if (this.$elements || !this.editor) return;\n      window.addEventListener(\"resize\", this.onLayoutChange, {\n        passive: true\n      });\n      window.addEventListener(\"wheel\", this.mousewheelListener);\n      var el = this.editor.container.parentNode;\n      var elements = [];\n      while (el) {\n        elements.push(el);\n        el.addEventListener(\"scroll\", this.onLayoutChange, {\n          passive: true\n        });\n        el = el.parentNode;\n      }\n      this.$elements = elements;\n    };\n    Autocomplete.prototype.unObserveLayoutChanges = function () {\n      var _this = this;\n      window.removeEventListener(\"resize\", this.onLayoutChange, {\n        passive: true\n      });\n      window.removeEventListener(\"wheel\", this.mousewheelListener);\n      this.$elements && this.$elements.forEach(function (el) {\n        el.removeEventListener(\"scroll\", _this.onLayoutChange, {\n          passive: true\n        });\n      });\n      this.$elements = null;\n    };\n    Autocomplete.prototype.onLayoutChange = function () {\n      if (!this.popup.isOpen) return this.unObserveLayoutChanges();\n      this.$updatePopupPosition();\n      this.updateDocTooltip();\n    };\n    Autocomplete.prototype.$updatePopupPosition = function () {\n      var editor = this.editor;\n      var renderer = editor.renderer;\n      var lineHeight = renderer.layerConfig.lineHeight;\n      var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n      pos.left -= this.popup.getTextLeftOffset();\n      var rect = editor.container.getBoundingClientRect();\n      pos.top += rect.top - renderer.layerConfig.offset;\n      pos.left += rect.left - editor.renderer.scrollLeft;\n      pos.left += renderer.gutterWidth;\n      var posGhostText = {\n        top: pos.top,\n        left: pos.left\n      };\n      if (renderer.$ghostText && renderer.$ghostTextWidget) {\n        if (this.base.row === renderer.$ghostText.position.row) {\n          posGhostText.top += renderer.$ghostTextWidget.el.offsetHeight;\n        }\n      }\n      var editorContainerBottom = editor.container.getBoundingClientRect().bottom - lineHeight;\n      var lowestPosition = editorContainerBottom < posGhostText.top ? {\n        top: editorContainerBottom,\n        left: posGhostText.left\n      } : posGhostText;\n      if (this.popup.tryShow(lowestPosition, lineHeight, \"bottom\")) {\n        return;\n      }\n      if (this.popup.tryShow(pos, lineHeight, \"top\")) {\n        return;\n      }\n      this.popup.show(pos, lineHeight);\n    };\n    Autocomplete.prototype.openPopup = function (editor, prefix, keepPopupPosition) {\n      this.$firstOpenTimer.cancel();\n      if (!this.popup) this.$init();\n      if (this.inlineEnabled && !this.inlineRenderer) this.$initInline();\n      this.popup.autoSelect = this.autoSelect;\n      this.popup.setSelectOnHover(this.setSelectOnHover);\n      var oldRow = this.popup.getRow();\n      var previousSelectedItem = this.popup.data[oldRow];\n      this.popup.setData(this.completions.filtered, this.completions.filterText);\n      if (this.editor.textInput.setAriaOptions) {\n        this.editor.textInput.setAriaOptions({\n          activeDescendant: getAriaId(this.popup.getRow()),\n          inline: this.inlineEnabled\n        });\n      }\n      editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      var newRow;\n      if (this.stickySelection) newRow = this.popup.data.indexOf(previousSelectedItem);\n      if (!newRow || newRow === -1) newRow = 0;\n      this.popup.setRow(this.autoSelect ? newRow : -1);\n      if (newRow === oldRow && previousSelectedItem !== this.completions.filtered[newRow]) this.$onPopupChange();\n      var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n      if (newRow === oldRow && inlineEnabled) {\n        var completion = this.popup.getData(this.popup.getRow());\n        this.$updateGhostText(completion);\n      }\n      if (!keepPopupPosition) {\n        this.popup.setTheme(editor.getTheme());\n        this.popup.setFontSize(editor.getFontSize());\n        this.$updatePopupPosition();\n        if (this.tooltipNode) {\n          this.updateDocTooltip();\n        }\n      }\n      this.changeTimer.cancel();\n      this.observeLayoutChanges();\n    };\n    Autocomplete.prototype.detach = function () {\n      if (this.editor) {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n      }\n      this.$firstOpenTimer.cancel();\n      this.changeTimer.cancel();\n      this.hideDocTooltip();\n      if (this.completionProvider) {\n        this.completionProvider.detach();\n      }\n      if (this.popup && this.popup.isOpen) this.popup.hide();\n      if (this.popup && this.popup.renderer) {\n        this.popup.renderer.off(\"afterRender\", this.$onPopupRender);\n      }\n      if (this.base) this.base.detach();\n      this.activated = false;\n      this.completionProvider = this.completions = this.base = null;\n      this.unObserveLayoutChanges();\n    };\n    Autocomplete.prototype.changeListener = function (e) {\n      var cursor = this.editor.selection.lead;\n      if (cursor.row != this.base.row || cursor.column < this.base.column) {\n        this.detach();\n      }\n      if (this.activated) this.changeTimer.schedule();else this.detach();\n    };\n    Autocomplete.prototype.blurListener = function (e) {\n      var el = document.activeElement;\n      var text = this.editor.textInput.getElement();\n      var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n      var container = this.popup && this.popup.container;\n      if (el != text && el.parentNode != container && !fromTooltip && el != this.tooltipNode && e.relatedTarget != text) {\n        this.detach();\n      }\n    };\n    Autocomplete.prototype.mousedownListener = function (e) {\n      this.detach();\n    };\n    Autocomplete.prototype.mousewheelListener = function (e) {\n      if (this.popup && !this.popup.isMouseOver) this.detach();\n    };\n    Autocomplete.prototype.mouseOutListener = function (e) {\n      if (this.popup.isOpen) this.$updatePopupPosition();\n    };\n    Autocomplete.prototype.goTo = function (where) {\n      this.popup.goTo(where);\n    };\n    Autocomplete.prototype.insertMatch = function (data, options) {\n      if (!data) data = this.popup.getData(this.popup.getRow());\n      if (!data) return false;\n      if (data.value === \"\")\n        // Explicitly given nothing to insert, e.g. \"No suggestion state\"\n        return this.detach();\n      var completions = this.completions;\n      var result = this.getCompletionProvider().insertMatch(this.editor, data, completions.filterText, options);\n      if (this.completions == completions) this.detach();\n      return result;\n    };\n    Autocomplete.prototype.showPopup = function (editor, options) {\n      if (this.editor) this.detach();\n      this.activated = true;\n      this.editor = editor;\n      if (editor.completer != this) {\n        if (editor.completer) editor.completer.detach();\n        editor.completer = this;\n      }\n      editor.on(\"changeSelection\", this.changeListener);\n      editor.on(\"blur\", this.blurListener);\n      editor.on(\"mousedown\", this.mousedownListener);\n      editor.on(\"mousewheel\", this.mousewheelListener);\n      this.updateCompletions(false, options);\n    };\n    Autocomplete.prototype.getCompletionProvider = function (initialPosition) {\n      if (!this.completionProvider) this.completionProvider = new CompletionProvider(initialPosition);\n      return this.completionProvider;\n    };\n    Autocomplete.prototype.gatherCompletions = function (editor, callback) {\n      return this.getCompletionProvider().gatherCompletions(editor, callback);\n    };\n    Autocomplete.prototype.updateCompletions = function (keepPopupPosition, options) {\n      if (keepPopupPosition && this.base && this.completions) {\n        var pos = this.editor.getCursorPosition();\n        var prefix = this.editor.session.getTextRange({\n          start: this.base,\n          end: pos\n        });\n        if (prefix == this.completions.filterText) return;\n        this.completions.setFilter(prefix);\n        if (!this.completions.filtered.length) return this.detach();\n        if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == prefix && !this.completions.filtered[0].snippet) return this.detach();\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        return;\n      }\n      if (options && options.matches) {\n        var pos = this.editor.getSelectionRange().start;\n        this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n        this.base.$insertRight = true;\n        this.completions = new FilteredList(options.matches);\n        this.getCompletionProvider().completions = this.completions;\n        return this.openPopup(this.editor, \"\", keepPopupPosition);\n      }\n      var session = this.editor.getSession();\n      var pos = this.editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(this.editor);\n      this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n      this.base.$insertRight = true;\n      var completionOptions = {\n        exactMatch: this.exactMatch,\n        ignoreCaption: this.ignoreCaption\n      };\n      this.getCompletionProvider({\n        prefix: prefix,\n        pos: pos\n      }).provideCompletions(this.editor, completionOptions, function (err, completions, finished) {\n        var filtered = completions.filtered;\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.$firstOpenTimer.cancel();\n        if (finished) {\n          if (!filtered.length) {\n            var emptyMessage = !this.autoShown && this.emptyMessage;\n            if (typeof emptyMessage == \"function\") emptyMessage = this.emptyMessage(prefix);\n            if (emptyMessage) {\n              var completionsForEmpty = [{\n                caption: emptyMessage,\n                value: \"\"\n              }];\n              this.completions = new FilteredList(completionsForEmpty);\n              this.openPopup(this.editor, prefix, keepPopupPosition);\n              this.popup.renderer.setStyle(\"ace_loading\", false);\n              this.popup.renderer.setStyle(\"ace_empty-message\", true);\n              return;\n            }\n            return this.detach();\n          }\n          if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet) return this.detach();\n          if (this.autoInsert && !this.autoShown && filtered.length == 1) return this.insertMatch(filtered[0]);\n        }\n        this.completions = !finished && this.showLoadingState ? new FilteredList(Autocomplete.completionsForLoading.concat(filtered), completions.filterText) : completions;\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        this.popup.renderer.setStyle(\"ace_empty-message\", false);\n        this.popup.renderer.setStyle(\"ace_loading\", !finished);\n      }.bind(this));\n      if (this.showLoadingState && !this.autoShown && !(this.popup && this.popup.isOpen)) {\n        this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);\n      }\n    };\n    Autocomplete.prototype.cancelContextMenu = function () {\n      this.editor.$mouseHandler.cancelContextMenu();\n    };\n    Autocomplete.prototype.updateDocTooltip = function () {\n      var popup = this.popup;\n      var all = this.completions.filtered;\n      var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n      var doc = null;\n      if (!selected || !this.editor || !this.popup.isOpen) return this.hideDocTooltip();\n      var completersLength = this.editor.completers.length;\n      for (var i = 0; i < completersLength; i++) {\n        var completer = this.editor.completers[i];\n        if (completer.getDocTooltip && selected.completerId === completer.id) {\n          doc = completer.getDocTooltip(selected);\n          break;\n        }\n      }\n      if (!doc && typeof selected != \"string\") doc = selected;\n      if (typeof doc == \"string\") doc = {\n        docText: doc\n      };\n      if (!doc || !(doc.docHTML || doc.docText)) return this.hideDocTooltip();\n      this.showDocTooltip(doc);\n    };\n    Autocomplete.prototype.showDocTooltip = function (item) {\n      if (!this.tooltipNode) {\n        this.tooltipNode = dom.createElement(\"div\");\n        this.tooltipNode.style.margin = \"0\";\n        this.tooltipNode.style.pointerEvents = \"auto\";\n        this.tooltipNode.style.overscrollBehavior = \"contain\";\n        this.tooltipNode.tabIndex = -1;\n        this.tooltipNode.onblur = this.blurListener.bind(this);\n        this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        this.tooltipNode.id = \"doc-tooltip\";\n        this.tooltipNode.setAttribute(\"role\", \"tooltip\");\n        this.tooltipNode.addEventListener(\"wheel\", preventParentScroll);\n      }\n      var theme = this.editor.renderer.theme;\n      this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip \" + (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n      var tooltipNode = this.tooltipNode;\n      if (item.docHTML) {\n        tooltipNode.innerHTML = item.docHTML;\n      } else if (item.docText) {\n        tooltipNode.textContent = item.docText;\n      }\n      if (!tooltipNode.parentNode) this.popup.container.appendChild(this.tooltipNode);\n      var popup = this.popup;\n      var rect = popup.container.getBoundingClientRect();\n      tooltipNode.style.top = popup.container.style.top;\n      tooltipNode.style.bottom = popup.container.style.bottom;\n      tooltipNode.style.display = \"block\";\n      if (window.innerWidth - rect.right < 320) {\n        if (rect.left < 320) {\n          if (popup.isTopdown) {\n            tooltipNode.style.top = rect.bottom + \"px\";\n            tooltipNode.style.left = rect.left + \"px\";\n            tooltipNode.style.right = \"\";\n            tooltipNode.style.bottom = \"\";\n          } else {\n            tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n            tooltipNode.style.left = rect.left + \"px\";\n            tooltipNode.style.right = \"\";\n            tooltipNode.style.bottom = \"\";\n          }\n        } else {\n          tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n          tooltipNode.style.left = \"\";\n        }\n      } else {\n        tooltipNode.style.left = rect.right + 1 + \"px\";\n        tooltipNode.style.right = \"\";\n      }\n    };\n    Autocomplete.prototype.hideDocTooltip = function () {\n      this.tooltipTimer.cancel();\n      if (!this.tooltipNode) return;\n      var el = this.tooltipNode;\n      if (!this.editor.isFocused() && document.activeElement == el) this.editor.focus();\n      this.tooltipNode = null;\n      if (el.parentNode) el.parentNode.removeChild(el);\n    };\n    Autocomplete.prototype.onTooltipClick = function (e) {\n      var a = e.target;\n      while (a && a != this.tooltipNode) {\n        if (a.nodeName == \"A\" && a.href) {\n          a.rel = \"noreferrer\";\n          a.target = \"_blank\";\n          break;\n        }\n        a = a.parentNode;\n      }\n    };\n    Autocomplete.prototype.destroy = function () {\n      this.detach();\n      if (this.popup) {\n        this.popup.destroy();\n        var el = this.popup.container;\n        if (el && el.parentNode) el.parentNode.removeChild(el);\n      }\n      if (this.editor && this.editor.completer == this) {\n        this.editor.off(\"destroy\", destroyCompleter);\n        this.editor.completer = null;\n      }\n      this.inlineRenderer = this.popup = this.editor = null;\n    };\n    return Autocomplete;\n  }();\n  Autocomplete.prototype.commands = {\n    \"Up\": function (editor) {\n      editor.completer.goTo(\"up\");\n    },\n    \"Down\": function (editor) {\n      editor.completer.goTo(\"down\");\n    },\n    \"Ctrl-Up|Ctrl-Home\": function (editor) {\n      editor.completer.goTo(\"start\");\n    },\n    \"Ctrl-Down|Ctrl-End\": function (editor) {\n      editor.completer.goTo(\"end\");\n    },\n    \"Esc\": function (editor) {\n      editor.completer.detach();\n    },\n    \"Return\": function (editor) {\n      return editor.completer.insertMatch();\n    },\n    \"Shift-Return\": function (editor) {\n      editor.completer.insertMatch(null, {\n        deleteSuffix: true\n      });\n    },\n    \"Tab\": function (editor) {\n      var result = editor.completer.insertMatch();\n      if (!result && !editor.tabstopManager) editor.completer.goTo(\"down\");else return result;\n    },\n    \"Backspace\": function (editor) {\n      editor.execCommand(\"backspace\");\n      var prefix = util.getCompletionPrefix(editor);\n      if (!prefix && editor.completer) editor.completer.detach();\n    },\n    \"PageUp\": function (editor) {\n      editor.completer.popup.gotoPageUp();\n    },\n    \"PageDown\": function (editor) {\n      editor.completer.popup.gotoPageDown();\n    }\n  };\n  Autocomplete.for = function (editor) {\n    if (editor.completer instanceof Autocomplete) {\n      return editor.completer;\n    }\n    if (editor.completer) {\n      editor.completer.destroy();\n      editor.completer = null;\n    }\n    if (config.get(\"sharedPopups\")) {\n      if (!Autocomplete[\"$sharedInstance\"]) Autocomplete[\"$sharedInstance\"] = new Autocomplete();\n      editor.completer = Autocomplete[\"$sharedInstance\"];\n    } else {\n      editor.completer = new Autocomplete();\n      editor.once(\"destroy\", destroyCompleter);\n    }\n    return editor.completer;\n  };\n  Autocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n      var completer = Autocomplete.for(editor);\n      completer.autoInsert = false;\n      completer.autoSelect = true;\n      completer.autoShown = false;\n      completer.showPopup(editor, options);\n      completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n  };\n  var CompletionProvider = /** @class */function () {\n    function CompletionProvider(initialPosition) {\n      this.initialPosition = initialPosition;\n      this.active = true;\n    }\n    CompletionProvider.prototype.insertByIndex = function (editor, index, options) {\n      if (!this.completions || !this.completions.filtered) {\n        return false;\n      }\n      return this.insertMatch(editor, this.completions.filtered[index], options);\n    };\n    CompletionProvider.prototype.insertMatch = function (editor, data, options) {\n      if (!data) return false;\n      editor.startOperation({\n        command: {\n          name: \"insertMatch\"\n        }\n      });\n      if (data.completer && data.completer.insertMatch) {\n        data.completer.insertMatch(editor, data);\n      } else {\n        if (!this.completions) return false;\n        var replaceBefore = this.completions.filterText.length;\n        var replaceAfter = 0;\n        if (data.range && data.range.start.row === data.range.end.row) {\n          replaceBefore -= this.initialPosition.prefix.length;\n          replaceBefore += this.initialPosition.pos.column - data.range.start.column;\n          replaceAfter += data.range.end.column - this.initialPosition.pos.column;\n        }\n        if (replaceBefore || replaceAfter) {\n          var ranges;\n          if (editor.selection.getAllRanges) {\n            ranges = editor.selection.getAllRanges();\n          } else {\n            ranges = [editor.getSelectionRange()];\n          }\n          for (var i = 0, range; range = ranges[i]; i++) {\n            range.start.column -= replaceBefore;\n            range.end.column += replaceAfter;\n            editor.session.remove(range);\n          }\n        }\n        if (data.snippet) {\n          snippetManager.insertSnippet(editor, data.snippet);\n        } else {\n          this.$insertString(editor, data);\n        }\n        if (data.completer && data.completer.onInsert && typeof data.completer.onInsert == \"function\") {\n          data.completer.onInsert(editor, data);\n        }\n        if (data.command && data.command === \"startAutocomplete\") {\n          editor.execCommand(data.command);\n        }\n      }\n      editor.endOperation();\n      return true;\n    };\n    CompletionProvider.prototype.$insertString = function (editor, data) {\n      var text = data.value || data;\n      editor.execCommand(\"insertstring\", text);\n    };\n    CompletionProvider.prototype.gatherCompletions = function (editor, callback) {\n      var session = editor.getSession();\n      var pos = editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(editor);\n      var matches = [];\n      this.completers = editor.completers;\n      var total = editor.completers.length;\n      editor.completers.forEach(function (completer, i) {\n        completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n          if (completer.hideInlinePreview) results = results.map(function (result) {\n            return Object.assign(result, {\n              hideInlinePreview: completer.hideInlinePreview\n            });\n          });\n          if (!err && results) matches = matches.concat(results);\n          callback(null, {\n            prefix: util.getCompletionPrefix(editor),\n            matches: matches,\n            finished: --total === 0\n          });\n        });\n      });\n      return true;\n    };\n    CompletionProvider.prototype.provideCompletions = function (editor, options, callback) {\n      var processResults = function (results) {\n        var prefix = results.prefix;\n        var matches = results.matches;\n        this.completions = new FilteredList(matches);\n        if (options.exactMatch) this.completions.exactMatch = true;\n        if (options.ignoreCaption) this.completions.ignoreCaption = true;\n        this.completions.setFilter(prefix);\n        if (results.finished || this.completions.filtered.length) callback(null, this.completions, results.finished);\n      }.bind(this);\n      var isImmediate = true;\n      var immediateResults = null;\n      this.gatherCompletions(editor, function (err, results) {\n        if (!this.active) {\n          return;\n        }\n        if (err) {\n          callback(err, [], true);\n          this.detach();\n        }\n        var prefix = results.prefix;\n        if (prefix.indexOf(results.prefix) !== 0) return;\n        if (isImmediate) {\n          immediateResults = results;\n          return;\n        }\n        processResults(results);\n      }.bind(this));\n      isImmediate = false;\n      if (immediateResults) {\n        var results = immediateResults;\n        immediateResults = null;\n        processResults(results);\n      }\n    };\n    CompletionProvider.prototype.detach = function () {\n      this.active = false;\n      this.completers && this.completers.forEach(function (completer) {\n        if (typeof completer.cancel === \"function\") {\n          completer.cancel();\n        }\n      });\n    };\n    return CompletionProvider;\n  }();\n  var FilteredList = /** @class */function () {\n    function FilteredList(array, filterText) {\n      this.all = array;\n      this.filtered = array;\n      this.filterText = filterText || \"\";\n      this.exactMatch = false;\n      this.ignoreCaption = false;\n    }\n    FilteredList.prototype.setFilter = function (str) {\n      if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0) var matches = this.filtered;else var matches = this.all;\n      this.filterText = str;\n      matches = this.filterCompletions(matches, this.filterText);\n      matches = matches.sort(function (a, b) {\n        return b.exactMatch - a.exactMatch || b.$score - a.$score || (a.caption || a.value).localeCompare(b.caption || b.value);\n      });\n      var prev = null;\n      matches = matches.filter(function (item) {\n        var caption = item.snippet || item.caption || item.value;\n        if (caption === prev) return false;\n        prev = caption;\n        return true;\n      });\n      this.filtered = matches;\n    };\n    FilteredList.prototype.filterCompletions = function (items, needle) {\n      var results = [];\n      var upper = needle.toUpperCase();\n      var lower = needle.toLowerCase();\n      loop: for (var i = 0, item; item = items[i]; i++) {\n        var caption = !this.ignoreCaption && item.caption || item.value || item.snippet;\n        if (!caption) continue;\n        var lastIndex = -1;\n        var matchMask = 0;\n        var penalty = 0;\n        var index, distance;\n        if (this.exactMatch) {\n          if (needle !== caption.substr(0, needle.length)) continue loop;\n        } else {\n          var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n          if (fullMatchIndex > -1) {\n            penalty = fullMatchIndex;\n          } else {\n            for (var j = 0; j < needle.length; j++) {\n              var i1 = caption.indexOf(lower[j], lastIndex + 1);\n              var i2 = caption.indexOf(upper[j], lastIndex + 1);\n              index = i1 >= 0 ? i2 < 0 || i1 < i2 ? i1 : i2 : i2;\n              if (index < 0) continue loop;\n              distance = index - lastIndex - 1;\n              if (distance > 0) {\n                if (lastIndex === -1) penalty += 10;\n                penalty += distance;\n                matchMask = matchMask | 1 << j;\n              }\n              lastIndex = index;\n            }\n          }\n        }\n        item.matchMask = matchMask;\n        item.exactMatch = penalty ? 0 : 1;\n        item.$score = (item.score || 0) - penalty;\n        results.push(item);\n      }\n      return results;\n    };\n    return FilteredList;\n  }();\n  exports.Autocomplete = Autocomplete;\n  exports.CompletionProvider = CompletionProvider;\n  exports.FilteredList = FilteredList;\n});\nace.define(\"ace/ext/menu_tools/settings_menu.css\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  module.exports = \"#ace_settingsmenu, #kbshortcutmenu {\\n    background-color: #F7F7F7;\\n    color: black;\\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\\n    padding: 1em 0.5em 2em 1em;\\n    overflow: auto;\\n    position: absolute;\\n    margin: 0;\\n    bottom: 0;\\n    right: 0;\\n    top: 0;\\n    z-index: 9991;\\n    cursor: default;\\n}\\n\\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\\n    background-color: rgba(255, 255, 255, 0.6);\\n    color: black;\\n}\\n\\n.ace_optionsMenuEntry:hover {\\n    background-color: rgba(100, 100, 100, 0.1);\\n    transition: all 0.3s\\n}\\n\\n.ace_closeButton {\\n    background: rgba(245, 146, 146, 0.5);\\n    border: 1px solid #F48A8A;\\n    border-radius: 50%;\\n    padding: 7px;\\n    position: absolute;\\n    right: -8px;\\n    top: -8px;\\n    z-index: 100000;\\n}\\n.ace_closeButton{\\n    background: rgba(245, 146, 146, 0.9);\\n}\\n.ace_optionsMenuKey {\\n    color: darkslateblue;\\n    font-weight: bold;\\n}\\n.ace_optionsMenuCommand {\\n    color: darkcyan;\\n    font-weight: normal;\\n}\\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\\n    vertical-align: middle;\\n}\\n\\n.ace_optionsMenuEntry button[ace_selected_button=true] {\\n    background: #e7e7e7;\\n    box-shadow: 1px 0px 2px 0px #adadad inset;\\n    border-color: #adadad;\\n}\\n.ace_optionsMenuEntry button {\\n    background: white;\\n    border: 1px solid lightgray;\\n    margin: 0px;\\n}\\n.ace_optionsMenuEntry button:hover{\\n    background: #f0f0f0;\\n}\";\n});\nace.define(\"ace/ext/menu_tools/overlay_page\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/ext/menu_tools/settings_menu.css\"], function (require, exports, module) {\n  /*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n  'use strict';\n\n  var dom = require(\"../../lib/dom\");\n  var cssText = require(\"./settings_menu.css\");\n  dom.importCssString(cssText, \"settings_menu.css\", false);\n  module.exports.overlayPage = function overlayPage(editor, contentElement, callback) {\n    var closer = document.createElement('div');\n    var ignoreFocusOut = false;\n    function documentEscListener(e) {\n      if (e.keyCode === 27) {\n        close();\n      }\n    }\n    function close() {\n      if (!closer) return;\n      document.removeEventListener('keydown', documentEscListener);\n      closer.parentNode.removeChild(closer);\n      if (editor) {\n        editor.focus();\n      }\n      closer = null;\n      callback && callback();\n    }\n    function setIgnoreFocusOut(ignore) {\n      ignoreFocusOut = ignore;\n      if (ignore) {\n        closer.style.pointerEvents = \"none\";\n        contentElement.style.pointerEvents = \"auto\";\n      }\n    }\n    closer.style.cssText = 'margin: 0; padding: 0; ' + 'position: fixed; top:0; bottom:0; left:0; right:0;' + 'z-index: 9990; ' + (editor ? 'background-color: rgba(0, 0, 0, 0.3);' : '');\n    closer.addEventListener('click', function (e) {\n      if (!ignoreFocusOut) {\n        close();\n      }\n    });\n    document.addEventListener('keydown', documentEscListener);\n    contentElement.addEventListener('click', function (e) {\n      e.stopPropagation();\n    });\n    closer.appendChild(contentElement);\n    document.body.appendChild(closer);\n    if (editor) {\n      editor.blur();\n    }\n    return {\n      close: close,\n      setIgnoreFocusOut: setIgnoreFocusOut\n    };\n  };\n});\nace.define(\"ace/ext/modelist\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var modes = [];\n  function getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n      if (modes[i].supportsFile(fileName)) {\n        mode = modes[i];\n        break;\n      }\n    }\n    return mode;\n  }\n  var Mode = /** @class */function () {\n    function Mode(name, caption, extensions) {\n      this.name = name;\n      this.caption = caption;\n      this.mode = \"ace/mode/\" + name;\n      this.extensions = extensions;\n      var re;\n      if (/\\^/.test(extensions)) {\n        re = extensions.replace(/\\|(\\^)?/g, function (a, b) {\n          return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n        }) + \"$\";\n      } else {\n        re = \"^.*\\\\.(\" + extensions + \")$\";\n      }\n      this.extRe = new RegExp(re, \"gi\");\n    }\n    Mode.prototype.supportsFile = function (filename) {\n      return filename.match(this.extRe);\n    };\n    return Mode;\n  }();\n  var supportedModes = {\n    ABAP: [\"abap\"],\n    ABC: [\"abc\"],\n    ActionScript: [\"as\"],\n    ADA: [\"ada|adb\"],\n    Alda: [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex: [\"apex|cls|trigger|tgr\"],\n    AQL: [\"aql\"],\n    AsciiDoc: [\"asciidoc|adoc\"],\n    ASL: [\"dsl|asl|asl.json\"],\n    Assembly_ARM32: [\"s\"],\n    Assembly_x86: [\"asm|a\"],\n    Astro: [\"astro\"],\n    AutoHotKey: [\"ahk\"],\n    BatchFile: [\"bat|cmd\"],\n    BibTeX: [\"bib\"],\n    C_Cpp: [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search: [\"c9search_results\"],\n    Cirru: [\"cirru|cr\"],\n    Clojure: [\"clj|cljs\"],\n    Cobol: [\"CBL|COB\"],\n    coffee: [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion: [\"cfm|cfc\"],\n    Crystal: [\"cr\"],\n    CSharp: [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS: [\"css\"],\n    Curly: [\"curly\"],\n    Cuttlefish: [\"conf\"],\n    D: [\"d|di\"],\n    Dart: [\"dart\"],\n    Diff: [\"diff|patch\"],\n    Django: [\"djt|html.djt|dj.html|djhtml\"],\n    Dockerfile: [\"^Dockerfile\"],\n    Dot: [\"dot\"],\n    Drools: [\"drl\"],\n    Edifact: [\"edi\"],\n    Eiffel: [\"e|ge\"],\n    EJS: [\"ejs\"],\n    Elixir: [\"ex|exs\"],\n    Elm: [\"elm\"],\n    Erlang: [\"erl|hrl\"],\n    Flix: [\"flix\"],\n    Forth: [\"frt|fs|ldr|fth|4th\"],\n    Fortran: [\"f|f90\"],\n    FSharp: [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL: [\"fsl\"],\n    FTL: [\"ftl\"],\n    Gcode: [\"gcode\"],\n    Gherkin: [\"feature\"],\n    Gitignore: [\"^.gitignore\"],\n    Glsl: [\"glsl|frag|vert\"],\n    Gobstones: [\"gbs\"],\n    golang: [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy: [\"groovy\"],\n    HAML: [\"haml\"],\n    Handlebars: [\"hbs|handlebars|tpl|mustache\"],\n    Haskell: [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe: [\"hx\"],\n    Hjson: [\"hjson\"],\n    HTML: [\"html|htm|xhtml|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby: [\"erb|rhtml|html.erb\"],\n    INI: [\"ini|conf|cfg|prefs\"],\n    Io: [\"io\"],\n    Ion: [\"ion\"],\n    Jack: [\"jack\"],\n    Jade: [\"jade|pug\"],\n    Java: [\"java\"],\n    JavaScript: [\"js|jsm|cjs|mjs\"],\n    JEXL: [\"jexl\"],\n    JSON: [\"json\"],\n    JSON5: [\"json5\"],\n    JSONiq: [\"jq\"],\n    JSP: [\"jsp\"],\n    JSSM: [\"jssm|jssm_state\"],\n    JSX: [\"jsx\"],\n    Julia: [\"jl\"],\n    Kotlin: [\"kt|kts\"],\n    LaTeX: [\"tex|latex|ltx|bib\"],\n    Latte: [\"latte\"],\n    LESS: [\"less\"],\n    Liquid: [\"liquid\"],\n    Lisp: [\"lisp\"],\n    LiveScript: [\"ls\"],\n    Log: [\"log\"],\n    LogiQL: [\"logic|lql\"],\n    Logtalk: [\"lgt\"],\n    LSL: [\"lsl\"],\n    Lua: [\"lua\"],\n    LuaPage: [\"lp\"],\n    Lucene: [\"lucene\"],\n    Makefile: [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown: [\"md|markdown\"],\n    Mask: [\"mask\"],\n    MATLAB: [\"matlab\"],\n    Maze: [\"mz\"],\n    MediaWiki: [\"wiki|mediawiki\"],\n    MEL: [\"mel\"],\n    MIPS: [\"s|asm\"],\n    MIXAL: [\"mixal\"],\n    MUSHCode: [\"mc|mush\"],\n    MySQL: [\"mysql\"],\n    Nasal: [\"nas\"],\n    Nginx: [\"nginx|conf\"],\n    Nim: [\"nim\"],\n    Nix: [\"nix\"],\n    NSIS: [\"nsi|nsh\"],\n    Nunjucks: [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC: [\"m|mm\"],\n    OCaml: [\"ml|mli\"],\n    Odin: [\"odin\"],\n    PartiQL: [\"partiql|pql\"],\n    Pascal: [\"pas|p\"],\n    Perl: [\"pl|pm\"],\n    pgSQL: [\"pgsql\"],\n    PHP: [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    Pig: [\"pig\"],\n    PLSQL: [\"plsql\"],\n    Powershell: [\"ps1\"],\n    Praat: [\"praat|praatscript|psc|proc\"],\n    Prisma: [\"prisma\"],\n    Prolog: [\"plg|prolog\"],\n    Properties: [\"properties\"],\n    Protobuf: [\"proto\"],\n    PRQL: [\"prql\"],\n    Puppet: [\"epp|pp\"],\n    Python: [\"py\"],\n    QML: [\"qml\"],\n    R: [\"r\"],\n    Raku: [\"raku|rakumod|rakutest|p6|pl6|pm6\"],\n    Razor: [\"cshtml|asp\"],\n    RDoc: [\"Rd\"],\n    Red: [\"red|reds\"],\n    RHTML: [\"Rhtml\"],\n    Robot: [\"robot|resource\"],\n    RST: [\"rst\"],\n    Ruby: [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust: [\"rs\"],\n    SaC: [\"sac\"],\n    SASS: [\"sass\"],\n    SCAD: [\"scad\"],\n    Scala: [\"scala|sbt\"],\n    Scheme: [\"scm|sm|rkt|oak|scheme\"],\n    Scrypt: [\"scrypt\"],\n    SCSS: [\"scss\"],\n    SH: [\"sh|bash|^.bashrc\"],\n    SJS: [\"sjs\"],\n    Slim: [\"slim|skim\"],\n    Smarty: [\"smarty|tpl\"],\n    Smithy: [\"smithy\"],\n    snippets: [\"snippets\"],\n    Soy_Template: [\"soy\"],\n    Space: [\"space\"],\n    SPARQL: [\"rq\"],\n    SQL: [\"sql\"],\n    SQLServer: [\"sqlserver\"],\n    Stylus: [\"styl|stylus\"],\n    SVG: [\"svg\"],\n    Swift: [\"swift\"],\n    Tcl: [\"tcl\"],\n    Terraform: [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex: [\"tex\"],\n    Text: [\"txt\"],\n    Textile: [\"textile\"],\n    Toml: [\"toml\"],\n    TSX: [\"tsx\"],\n    Turtle: [\"ttl\"],\n    Twig: [\"twig|swig\"],\n    Typescript: [\"ts|mts|cts|typescript|str\"],\n    Vala: [\"vala\"],\n    VBScript: [\"vbs|vb\"],\n    Velocity: [\"vm\"],\n    Verilog: [\"v|vh|sv|svh\"],\n    VHDL: [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Vue: [\"vue\"],\n    Wollok: [\"wlk|wpgm|wtest\"],\n    XML: [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery: [\"xq\"],\n    YAML: [\"yaml|yml\"],\n    Zeek: [\"zeek|bro\"],\n    Zig: [\"zig\"]\n  };\n  var nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n  };\n  var modesByName = {};\n  for (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n  }\n  module.exports = {\n    getModeForPath: getModeForPath,\n    modes: modes,\n    modesByName: modesByName\n  };\n});\nace.define(\"ace/ext/prompt\", [\"require\", \"exports\", \"module\", \"ace/config\", \"ace/range\", \"ace/lib/dom\", \"ace/autocomplete\", \"ace/autocomplete/popup\", \"ace/autocomplete/popup\", \"ace/undomanager\", \"ace/tokenizer\", \"ace/ext/menu_tools/overlay_page\", \"ace/ext/modelist\"], function (require, exports, module) {\n  /**\n  * @typedef {import(\"../editor\").Editor} Editor\n  */\n  \"use strict\";\n\n  var nls = require(\"../config\").nls;\n  var Range = require(\"../range\").Range;\n  var dom = require(\"../lib/dom\");\n  var FilteredList = require(\"../autocomplete\").FilteredList;\n  var AcePopup = require('../autocomplete/popup').AcePopup;\n  var $singleLineEditor = require('../autocomplete/popup').$singleLineEditor;\n  var UndoManager = require(\"../undomanager\").UndoManager;\n  var Tokenizer = require(\"../tokenizer\").Tokenizer;\n  var overlayPage = require(\"./menu_tools/overlay_page\").overlayPage;\n  var modelist = require(\"./modelist\");\n  var openPrompt;\n  function prompt(editor, message, options, callback) {\n    if (typeof message == \"object\") {\n      return prompt(editor, \"\", message, options);\n    }\n    if (openPrompt) {\n      var lastPrompt = openPrompt;\n      editor = lastPrompt.editor;\n      lastPrompt.close();\n      if (lastPrompt.name && lastPrompt.name == options.name) return;\n    }\n    if (options.$type) return prompt[options.$type](editor, callback);\n    var cmdLine = $singleLineEditor();\n    cmdLine.session.setUndoManager(new UndoManager());\n    var el = dom.buildDom([\"div\", {\n      class: \"ace_prompt_container\" + (options.hasDescription ? \" input-box-with-description\" : \"\")\n    }]);\n    var overlay = overlayPage(editor, el, done);\n    el.appendChild(cmdLine.container);\n    if (editor) {\n      editor.cmdLine = cmdLine;\n      cmdLine.setOption(\"fontSize\", editor.getOption(\"fontSize\"));\n    }\n    if (message) {\n      cmdLine.setValue(message, 1);\n    }\n    if (options.selection) {\n      cmdLine.selection.setRange({\n        start: cmdLine.session.doc.indexToPosition(options.selection[0]),\n        end: cmdLine.session.doc.indexToPosition(options.selection[1])\n      });\n    }\n    if (options.getCompletions) {\n      var popup = new AcePopup();\n      popup.renderer.setStyle(\"ace_autocomplete_inline\");\n      popup.container.style.display = \"block\";\n      popup.container.style.maxWidth = \"600px\";\n      popup.container.style.width = \"100%\";\n      popup.container.style.marginTop = \"3px\";\n      popup.renderer.setScrollMargin(2, 2, 0, 0);\n      popup.autoSelect = false;\n      popup.renderer.$maxLines = 15;\n      popup.setRow(-1);\n      popup.on(\"click\", function (e) {\n        var data = popup.getData(popup.getRow());\n        if (!data[\"error\"]) {\n          cmdLine.setValue(data.value || data[\"name\"] || data);\n          accept();\n          e.stop();\n        }\n      });\n      el.appendChild(popup.container);\n      updateCompletions();\n    }\n    if (options.$rules) {\n      var tokenizer = new Tokenizer(options.$rules);\n      cmdLine.session.bgTokenizer.setTokenizer(tokenizer);\n    }\n    if (options.placeholder) {\n      cmdLine.setOption(\"placeholder\", options.placeholder);\n    }\n    if (options.hasDescription) {\n      var promptTextContainer = dom.buildDom([\"div\", {\n        class: \"ace_prompt_text_container\"\n      }]);\n      dom.buildDom(options.prompt || \"Press 'Enter' to confirm or 'Escape' to cancel\", promptTextContainer);\n      el.appendChild(promptTextContainer);\n    }\n    overlay.setIgnoreFocusOut(options.ignoreFocusOut);\n    function accept() {\n      var val;\n      if (popup && popup.getCursorPosition().row > 0) {\n        val = valueFromRecentList();\n      } else {\n        val = cmdLine.getValue();\n      }\n      var curData = popup ? popup.getData(popup.getRow()) : val;\n      if (curData && !curData[\"error\"]) {\n        done();\n        options.onAccept && options.onAccept({\n          value: val,\n          item: curData\n        }, cmdLine);\n      }\n    }\n    var keys = {\n      \"Enter\": accept,\n      \"Esc|Shift-Esc\": function () {\n        options.onCancel && options.onCancel(cmdLine.getValue(), cmdLine);\n        done();\n      }\n    };\n    if (popup) {\n      Object.assign(keys, {\n        \"Up\": function (editor) {\n          popup.goTo(\"up\");\n          valueFromRecentList();\n        },\n        \"Down\": function (editor) {\n          popup.goTo(\"down\");\n          valueFromRecentList();\n        },\n        \"Ctrl-Up|Ctrl-Home\": function (editor) {\n          popup.goTo(\"start\");\n          valueFromRecentList();\n        },\n        \"Ctrl-Down|Ctrl-End\": function (editor) {\n          popup.goTo(\"end\");\n          valueFromRecentList();\n        },\n        \"Tab\": function (editor) {\n          popup.goTo(\"down\");\n          valueFromRecentList();\n        },\n        \"PageUp\": function (editor) {\n          popup.gotoPageUp();\n          valueFromRecentList();\n        },\n        \"PageDown\": function (editor) {\n          popup.gotoPageDown();\n          valueFromRecentList();\n        }\n      });\n    }\n    cmdLine.commands.bindKeys(keys);\n    function done() {\n      overlay.close();\n      callback && callback();\n      openPrompt = null;\n    }\n    cmdLine.on(\"input\", function () {\n      options.onInput && options.onInput();\n      updateCompletions();\n    });\n    function updateCompletions() {\n      if (options.getCompletions) {\n        var prefix;\n        if (options.getPrefix) {\n          prefix = options.getPrefix(cmdLine);\n        }\n        var completions = options.getCompletions(cmdLine);\n        popup.setData(completions, prefix);\n        popup.resize(true);\n      }\n    }\n    function valueFromRecentList() {\n      var current = popup.getData(popup.getRow());\n      if (current && !current[\"error\"]) return current.value || current.caption || current;\n    }\n    cmdLine.resize(true);\n    if (popup) {\n      popup.resize(true);\n    }\n    cmdLine.focus();\n    openPrompt = {\n      close: done,\n      name: options.name,\n      editor: editor\n    };\n  }\n  prompt.gotoLine = function (editor, callback) {\n    function stringifySelection(selection) {\n      if (!Array.isArray(selection)) selection = [selection];\n      return selection.map(function (r) {\n        var cursor = r.isBackwards ? r.start : r.end;\n        var anchor = r.isBackwards ? r.end : r.start;\n        var row = anchor.row;\n        var s = row + 1 + \":\" + anchor.column;\n        if (anchor.row == cursor.row) {\n          if (anchor.column != cursor.column) s += \">\" + \":\" + cursor.column;\n        } else {\n          s += \">\" + (cursor.row + 1) + \":\" + cursor.column;\n        }\n        return s;\n      }).reverse().join(\", \");\n    }\n    prompt(editor, \":\" + stringifySelection(editor.selection.toJSON()), {\n      name: \"gotoLine\",\n      selection: [1, Number.MAX_VALUE],\n      onAccept: function (data) {\n        var value = data.value;\n        var _history = prompt.gotoLine[\"_history\"];\n        if (!_history) prompt.gotoLine[\"_history\"] = _history = [];\n        if (_history.indexOf(value) != -1) _history.splice(_history.indexOf(value), 1);\n        _history.unshift(value);\n        if (_history.length > 20) _history.length = 20;\n        var pos = editor.getCursorPosition();\n        var ranges = [];\n        value.replace(/^:/, \"\").split(/,/).map(function (str) {\n          var parts = str.split(/([<>:+-]|c?\\d+)|[^c\\d<>:+-]+/).filter(Boolean);\n          var i = 0;\n          function readPosition() {\n            var c = parts[i++];\n            if (!c) return;\n            if (c[0] == \"c\") {\n              var index = parseInt(c.slice(1)) || 0;\n              return editor.session.doc.indexToPosition(index);\n            }\n            var row = pos.row;\n            var column = 0;\n            if (/\\d/.test(c)) {\n              row = parseInt(c) - 1;\n              c = parts[i++];\n            }\n            if (c == \":\") {\n              c = parts[i++];\n              if (/\\d/.test(c)) {\n                column = parseInt(c) || 0;\n              }\n            }\n            return {\n              row: row,\n              column: column\n            };\n          }\n          pos = readPosition();\n          var range = Range.fromPoints(pos, pos);\n          if (parts[i] == \">\") {\n            i++;\n            range.end = readPosition();\n          } else if (parts[i] == \"<\") {\n            i++;\n            range.start = readPosition();\n          }\n          ranges.unshift(range);\n        });\n        editor.selection.fromJSON(ranges);\n        var scrollTop = editor.renderer.scrollTop;\n        editor.renderer.scrollSelectionIntoView(editor.selection.anchor, editor.selection.cursor, 0.5);\n        editor.renderer.animateScrolling(scrollTop);\n      },\n      history: function () {\n        if (!prompt.gotoLine[\"_history\"]) return [];\n        return prompt.gotoLine[\"_history\"];\n      },\n      getCompletions: function (cmdLine) {\n        var value = cmdLine.getValue();\n        var m = value.replace(/^:/, \"\").split(\":\");\n        var row = Math.min(parseInt(m[0]) || 1, editor.session.getLength()) - 1;\n        var line = editor.session.getLine(row);\n        var current = value + \"  \" + line;\n        return [current].concat(this.history());\n      },\n      $rules: {\n        start: [{\n          regex: /\\d+/,\n          token: \"string\"\n        }, {\n          regex: /[:,><+\\-c]/,\n          token: \"keyword\"\n        }]\n      }\n    });\n  };\n  prompt.commands = function (editor, callback) {\n    function normalizeName(name) {\n      return (name || \"\").replace(/^./, function (x) {\n        return x.toUpperCase(x);\n      }).replace(/[a-z][A-Z]/g, function (x) {\n        return x[0] + \" \" + x[1].toLowerCase(x);\n      });\n    }\n    function getEditorCommandsByName(excludeCommands) {\n      var commandsByName = [];\n      var commandMap = {};\n      editor.keyBinding.$handlers.forEach(function (handler) {\n        var platform = handler[\"platform\"];\n        var cbn = handler[\"byName\"];\n        for (var i in cbn) {\n          var key = cbn[i].bindKey;\n          if (typeof key !== \"string\") {\n            key = key && key[platform] || \"\";\n          }\n          var commands = cbn[i];\n          var description = commands.description || normalizeName(commands.name);\n          if (!Array.isArray(commands)) commands = [commands];\n          commands.forEach(function (command) {\n            if (typeof command != \"string\") command = command.name;\n            var needle = excludeCommands.find(function (el) {\n              return el === command;\n            });\n            if (!needle) {\n              if (commandMap[command]) {\n                commandMap[command].key += \"|\" + key;\n              } else {\n                commandMap[command] = {\n                  key: key,\n                  command: command,\n                  description: description\n                };\n                commandsByName.push(commandMap[command]);\n              }\n            }\n          });\n        }\n      });\n      return commandsByName;\n    }\n    var excludeCommandsList = [\"insertstring\", \"inserttext\", \"setIndentation\", \"paste\"];\n    var shortcutsArray = getEditorCommandsByName(excludeCommandsList);\n    shortcutsArray = shortcutsArray.map(function (item) {\n      return {\n        value: item.description,\n        meta: item.key,\n        command: item.command\n      };\n    });\n    prompt(editor, \"\", {\n      name: \"commands\",\n      selection: [0, Number.MAX_VALUE],\n      maxHistoryCount: 5,\n      onAccept: function (data) {\n        if (data.item) {\n          var commandName = data.item.command;\n          this.addToHistory(data.item);\n          editor.execCommand(commandName);\n        }\n      },\n      addToHistory: function (item) {\n        var history = this.history();\n        history.unshift(item);\n        delete item.message;\n        for (var i = 1; i < history.length; i++) {\n          if (history[i][\"command\"] == item.command) {\n            history.splice(i, 1);\n            break;\n          }\n        }\n        if (this.maxHistoryCount > 0 && history.length > this.maxHistoryCount) {\n          history.splice(history.length - 1, 1);\n        }\n        prompt.commands[\"history\"] = history;\n      },\n      history: function () {\n        return prompt.commands[\"history\"] || [];\n      },\n      getPrefix: function (cmdLine) {\n        var currentPos = cmdLine.getCursorPosition();\n        var filterValue = cmdLine.getValue();\n        return filterValue.substring(0, currentPos.column);\n      },\n      getCompletions: function (cmdLine) {\n        function getFilteredCompletions(commands, prefix) {\n          var resultCommands = JSON.parse(JSON.stringify(commands));\n          var filtered = new FilteredList(resultCommands);\n          return filtered.filterCompletions(resultCommands, prefix);\n        }\n        function getUniqueCommandList(commands, usedCommands) {\n          if (!usedCommands || !usedCommands.length) {\n            return commands;\n          }\n          var excludeCommands = [];\n          usedCommands.forEach(function (item) {\n            excludeCommands.push(item.command);\n          });\n          var resultCommands = [];\n          commands.forEach(function (item) {\n            if (excludeCommands.indexOf(item.command) === -1) {\n              resultCommands.push(item);\n            }\n          });\n          return resultCommands;\n        }\n        var prefix = this.getPrefix(cmdLine);\n        var recentlyUsedCommands = getFilteredCompletions(this.history(), prefix);\n        var otherCommands = getUniqueCommandList(shortcutsArray, recentlyUsedCommands);\n        otherCommands = getFilteredCompletions(otherCommands, prefix);\n        if (recentlyUsedCommands.length && otherCommands.length) {\n          recentlyUsedCommands[0].message = nls(\"prompt.recently-used\", \"Recently used\");\n          otherCommands[0].message = nls(\"prompt.other-commands\", \"Other commands\");\n        }\n        var completions = recentlyUsedCommands.concat(otherCommands);\n        return completions.length > 0 ? completions : [{\n          value: nls(\"prompt.no-matching-commands\", \"No matching commands\"),\n          error: 1\n        }];\n      }\n    });\n  };\n  prompt.modes = function (editor, callback) {\n    var modesArray = modelist.modes;\n    modesArray = modesArray.map(function (item) {\n      return {\n        value: item.caption,\n        mode: item.name\n      };\n    });\n    prompt(editor, \"\", {\n      name: \"modes\",\n      selection: [0, Number.MAX_VALUE],\n      onAccept: function (data) {\n        if (data.item) {\n          var modeName = \"ace/mode/\" + data.item.mode;\n          editor.session.setMode(modeName);\n        }\n      },\n      getPrefix: function (cmdLine) {\n        var currentPos = cmdLine.getCursorPosition();\n        var filterValue = cmdLine.getValue();\n        return filterValue.substring(0, currentPos.column);\n      },\n      getCompletions: function (cmdLine) {\n        function getFilteredCompletions(modes, prefix) {\n          var resultCommands = JSON.parse(JSON.stringify(modes));\n          var filtered = new FilteredList(resultCommands);\n          return filtered.filterCompletions(resultCommands, prefix);\n        }\n        var prefix = this.getPrefix(cmdLine);\n        var completions = getFilteredCompletions(modesArray, prefix);\n        return completions.length > 0 ? completions : [{\n          \"caption\": \"No mode matching\",\n          \"value\": \"No mode matching\",\n          \"error\": 1\n        }];\n      }\n    });\n  };\n  dom.importCssString(\".ace_prompt_container {\\n    max-width: 603px;\\n    width: 100%;\\n    margin: 20px auto;\\n    padding: 3px;\\n    background: white;\\n    border-radius: 2px;\\n    box-shadow: 0px 2px 3px 0px #555;\\n}\", \"promtp.css\", false);\n  exports.prompt = prompt;\n});\n(function () {\n  ace.require([\"ace/ext/prompt\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();","map":{"version":3,"names":["ace","define","require","exports","module","keys","getEditorKeyboardShortcuts","editor","KEY_MODS","keybindings","commandMap","keyBinding","$handlers","forEach","handler","ckb","commandKeyBinding","i","key","replace","x","toUpperCase","commands","Array","isArray","command","name","push","Renderer","VirtualRenderer","Editor","Range","event","lang","dom","nls","userAgent","getAriaId","index","concat","popupAriaRole","isSafari","optionAriaRole","ariaActiveState","$singleLineEditor","el","renderer","$maxLines","setHighlightActiveLine","setShowPrintMargin","setShowGutter","setHighlightGutterLine","$mouseHandler","$focusTimeout","$highlightTagPending","AcePopup","parentNode","createElement","popup","appendChild","style","display","content","cursor","setStyle","$textLayer","element","setAttribute","textarea","setOption","noop","focus","$isFocused","$cursorLayer","restartTimer","opacity","$keepTextAreaAtCursor","session","highlight","$searchHighlight","clazz","on","e","pos","getDocumentPosition","selection","moveToPosition","selectionMarker","start","row","end","stop","lastMouseEvent","hoverMarker","Infinity","id","addMarker","setSelectOnHover","val","removeMarker","y","scrollTop","isMouseOver","setRow","setHoverMarker","$pos","getRow","t","selected","childNodes","config","firstRow","document","activeElement","selectedNode","removeCssClass","removeAttribute","addCssClass","ariaId","getData","caption","value","data","length","hideHoverMarker","suppressRedraw","_emit","getHoveredRow","addListener","container","doc","getLength","getLine","bgTokenizer","$tokenizeRow","tokens","addToken","className","type","lower","toLowerCase","filterText","lastIndex","lastI","matchMask","sub","slice","indexOf","meta","message","$updateOnChange","$computeWidth","screenWidth","isOpen","isTopdown","autoSelect","setData","list","setValue","stringRepeat","line","Math","max","min","clearSelection","moveCursorTo","_signal","lead","scrollCursorIntoView","hide","anchorPos","anchor","tryShow","lineHeight","forceShow","top","left","screenHeight","window","innerHeight","innerWidth","maxH","dims","bottom","spaceBelow","$borderSize","spaceAbove","fitsX","$maxPixelHeight","offsetWidth","right","show","topdownOnly","undefined","goTo","where","getTextLeftOffset","$padding","$imageSize","importCssString","oop","EventEmitter","RangeList","HashHandler","Tokenizer","clipboard","VARIABLES","CURRENT_WORD","getTextRange","getWordRange","SELECTION","indentation","text","CURRENT_LINE","getCursorPosition","PREV_LINE","LINE_INDEX","LINE_NUMBER","SOFT_TABS","getUseSoftTabs","TAB_SIZE","getTabSize","CLIPBOARD","getText","FILENAME","exec","FILEPATH","FILENAME_BASE","DIRECTORY","WORKSPACE_NAME","FULLNAME","BLOCK_COMMENT_START","mode","$mode","blockComment","BLOCK_COMMENT_END","LINE_COMMENT","lineCommentStart","CURRENT_YEAR","date","bind","year","CURRENT_YEAR_SHORT","CURRENT_MONTH","month","CURRENT_MONTH_NAME","CURRENT_MONTH_NAME_SHORT","CURRENT_DATE","day","CURRENT_DAY_NAME","weekday","CURRENT_DAY_NAME_SHORT","CURRENT_HOUR","hour","hour12","CURRENT_MINUTE","minute","CURRENT_SECOND","second","SELECTED_TEXT","dateFormat","str","Date","toLocaleString","SnippetManager","snippetMap","snippetNameMap","variables","prototype","getTokenizer","createTokenizer","TabstopToken","substr","test","tabstopId","parseInt","escape","ch","formatMatcher","regex","onMatch","state","stack","ts","fmtString","guard","flag","next","shift","unshift","token","merge","snippetVar","choices","operator","split","map","formatString","expectElse","ifEnd","elseEnd","changeCase","local","formatStringVar","formatFunction","tokenizeTmSnippet","startState","getLineTokens","getVariableValue","__","hasOwnProperty","tmStrFormat","fmt","re","RegExp","fmtTokens","_self","formatted","oldArgs","call","arguments","fmtParts","resolveVariables","gChangeCase","join","tmFormatFunction","snippet","result","afterNewLine","j","gotoNext","i1","getDisplayTextForSnippet","snippetText","processedSnippet","processSnippetText","insertSnippetForSelection","options","range","getSelectionRange","tabstopManager","TabstopManager","selectionId","inVirtualSelectionMode","addTabstops","tabstops","insertSnippet","self","forEachSelection","keepOrder","tabNext","$getScope","scope","$id","pop","inlinePhp","c","getState","substring","getActiveScopes","scopes","includeScopes","apply","expandWithTab","expandSnippetForSelection","before","column","after","some","snippets","findMatchingSnippet","dryRun","removeInLine","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","snippetList","s","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","src","guardedRegexp","opening","addSnippet","old","unregister","prefix","tabTrigger","body","trigger","escapeRegExp","endTrigger","endGuard","Object","removeSnippet","nameMap","splice","parseSnippetFile","m","JSON","parse","guardRe","match","getSnippetByName","implement","tabString","getTabString","indentString","excludeExtraIndent","p","parents","isNested","expanding","copyValue","copy","lastIndexOf","parentId","lines","ranges","$onChange","onChange","$onChangeSelection","delayedCall","onChangeSelection","schedule","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","attach","$openTabstops","selectedTabstop","addKeyboardHandler","keyboardHandler","detach","removeTabstopMarkers","off","removeKeyboardHandler","delta","isRemove","action","active","rangeList","$bias","parentActive","startIndex","pointIndex","endIndex","toRemove","removeRange","$inChange","getValue","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","original","snippetManager","readOnly","isEmpty","containsLead","contains","containsAnchor","dir","selectTabstop","updateTabstopMarkers","addTabstopMarkers","sel","multiSelect","toSingleRange","addRange","clone","fromOrientedRange","execCommand","matches","useLink","getOption","fromPoints","moveRelative","arg","snippetId","dest","movePoint","tabstop","addList","markerId","currentSnippetId","bindKeys","Tab","Shift-Tab","Esc","point","diff","expandSnippet","AceInlineScreenReader","screenReaderDiv","classList","add","setScreenReaderContent","completer","idString","lineIndex","_lines","firstChild","removeChild","codeElement","createCodeBlock","destroy","remove","createTextNode","AceInline","completion","inlineScreenReader","displayText","hideInlinePreview","startsWith","removeGhostText","setGhostText","$ghostText","parForEach","array","fn","callback","completed","arLength","err","ID_REGEX","retrievePrecedingIdentifier","buf","reverse","retrieveFollowingIdentifier","getCompletionPrefix","completers","identifierRegexps","identifierRegex","triggerAutocomplete","previousChar","getPrecedingCharacter","triggerCharacters","includes","util","preventParentScroll","destroyCompleter","Autocomplete","autoInsert","autoShown","exactMatch","inlineEnabled","hasSeen","Set","showLoadingState","stickySelectionDelay","blurListener","changeListener","mousedownListener","mousewheelListener","onLayoutChange","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","popupTimer","$updatePopupPosition","stickySelectionTimer","stickySelection","$firstOpenTimer","initialPosition","completionProvider","completions","FilteredList","completionsForLoading","openPopup","defineProperty","get","enumerable","configurable","$init","documentElement","insertMatch","$onPopupShow","$onHidePopup","$onPopupChange","mouseOutListener","$onPopupRender","$initInline","inlineRenderer","getPopup","hideDocTooltip","cancel","$seen","has","onSeen","$updateGhostText","base","cursorColumn","filtered","getFirstVisibleRow","getLastVisibleRow","observeLayoutChanges","$elements","addEventListener","passive","elements","unObserveLayoutChanges","_this","removeEventListener","layerConfig","getPixelPosition","rect","getBoundingClientRect","offset","scrollLeft","gutterWidth","posGhostText","$ghostTextWidget","position","offsetHeight","editorContainerBottom","lowestPosition","keepPopupPosition","oldRow","previousSelectedItem","textInput","setAriaOptions","activeDescendant","inline","newRow","setTheme","getTheme","setFontSize","getFontSize","tooltipNode","activated","getElement","fromTooltip","relatedTarget","getCompletionProvider","showPopup","CompletionProvider","gatherCompletions","setFilter","createAnchor","$insertRight","getSession","completionOptions","ignoreCaption","provideCompletions","finished","emptyMessage","completionsForEmpty","delay","cancelContextMenu","all","completersLength","getDocTooltip","completerId","docText","docHTML","showDocTooltip","item","margin","pointerEvents","overscrollBehavior","tabIndex","onblur","onclick","onTooltipClick","theme","isDark","cssClass","innerHTML","textContent","offsetTop","isFocused","a","target","nodeName","href","rel","Up","Down","Ctrl-Up|Ctrl-Home","Ctrl-Down|Ctrl-End","Return","Shift-Return","deleteSuffix","Backspace","PageUp","gotoPageUp","PageDown","gotoPageDown","for","once","startCommand","bindKey","insertByIndex","startOperation","getAllRanges","$insertString","onInsert","endOperation","total","getCompletions","results","assign","processResults","isImmediate","immediateResults","filterCompletions","sort","b","$score","localeCompare","prev","filter","items","needle","upper","loop","penalty","distance","fullMatchIndex","i2","score","cssText","overlayPage","contentElement","closer","ignoreFocusOut","documentEscListener","keyCode","close","setIgnoreFocusOut","ignore","stopPropagation","blur","modes","getModeForPath","path","modesByName","fileName","supportsFile","Mode","extensions","extRe","filename","supportedModes","ABAP","ABC","ActionScript","ADA","Alda","Apache_Conf","Apex","AQL","AsciiDoc","ASL","Assembly_ARM32","Assembly_x86","Astro","AutoHotKey","BatchFile","BibTeX","C_Cpp","C9Search","Cirru","Clojure","Cobol","coffee","ColdFusion","Crystal","CSharp","Csound_Document","Csound_Orchestra","Csound_Score","CSS","Curly","Cuttlefish","D","Dart","Diff","Django","Dockerfile","Dot","Drools","Edifact","Eiffel","EJS","Elixir","Elm","Erlang","Flix","Forth","Fortran","FSharp","FSL","FTL","Gcode","Gherkin","Gitignore","Glsl","Gobstones","golang","GraphQLSchema","Groovy","HAML","Handlebars","Haskell","Haskell_Cabal","haXe","Hjson","HTML","HTML_Elixir","HTML_Ruby","INI","Io","Ion","Jack","Jade","Java","JavaScript","JEXL","JSON5","JSONiq","JSP","JSSM","JSX","Julia","Kotlin","LaTeX","Latte","LESS","Liquid","Lisp","LiveScript","Log","LogiQL","Logtalk","LSL","Lua","LuaPage","Lucene","Makefile","Markdown","Mask","MATLAB","Maze","MediaWiki","MEL","MIPS","MIXAL","MUSHCode","MySQL","Nasal","Nginx","Nim","Nix","NSIS","Nunjucks","ObjectiveC","OCaml","Odin","PartiQL","Pascal","Perl","pgSQL","PHP","PHP_Laravel_blade","Pig","PLSQL","Powershell","Praat","Prisma","Prolog","Properties","Protobuf","PRQL","Puppet","Python","QML","R","Raku","Razor","RDoc","Red","RHTML","Robot","RST","Ruby","Rust","SaC","SASS","SCAD","Scala","Scheme","Scrypt","SCSS","SH","SJS","Slim","Smarty","Smithy","Soy_Template","Space","SPARQL","SQL","SQLServer","Stylus","SVG","Swift","Tcl","Terraform","Tex","Text","Textile","Toml","TSX","Turtle","Twig","Typescript","Vala","VBScript","Velocity","Verilog","VHDL","Visualforce","Vue","Wollok","XML","XQuery","YAML","Zeek","Zig","nameOverrides","Perl6","displayName","UndoManager","modelist","openPrompt","prompt","lastPrompt","$type","cmdLine","setUndoManager","buildDom","class","hasDescription","overlay","done","setRange","indexToPosition","maxWidth","width","marginTop","setScrollMargin","accept","$rules","tokenizer","setTokenizer","placeholder","promptTextContainer","valueFromRecentList","curData","onAccept","Esc|Shift-Esc","onCancel","onInput","getPrefix","resize","current","gotoLine","stringifySelection","r","isBackwards","toJSON","Number","MAX_VALUE","_history","parts","Boolean","readPosition","fromJSON","scrollSelectionIntoView","animateScrolling","history","normalizeName","getEditorCommandsByName","excludeCommands","commandsByName","platform","cbn","description","find","excludeCommandsList","shortcutsArray","maxHistoryCount","commandName","addToHistory","currentPos","filterValue","getFilteredCompletions","resultCommands","stringify","getUniqueCommandList","usedCommands","recentlyUsedCommands","otherCommands","error","modesArray","modeName","setMode"],"sources":["/home/anasb/code-projects/streamlit/streamlit-code-editor/code_editor/frontend/node_modules/ace-builds/src-noconflict/ext-prompt.js"],"sourcesContent":["ace.define(\"ace/ext/menu_tools/get_editor_keyboard_shortcuts\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\"], function(require, exports, module){/*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n\"use strict\";\nvar keys = require(\"../../lib/keys\");\nmodule.exports.getEditorKeyboardShortcuts = function (editor) {\n    var KEY_MODS = keys.KEY_MODS;\n    var keybindings = [];\n    var commandMap = {};\n    editor.keyBinding.$handlers.forEach(function (handler) {\n        var ckb = handler.commandKeyBinding;\n        for (var i in ckb) {\n            var key = i.replace(/(^|-)\\w/g, function (x) { return x.toUpperCase(); });\n            var commands = ckb[i];\n            if (!Array.isArray(commands))\n                commands = [commands];\n            commands.forEach(function (command) {\n                if (typeof command != \"string\")\n                    command = command.name;\n                if (commandMap[command]) {\n                    commandMap[command].key += \"|\" + key;\n                }\n                else {\n                    commandMap[command] = { key: key, command: command };\n                    keybindings.push(commandMap[command]);\n                }\n            });\n        }\n    });\n    return keybindings;\n};\n\n});\n\nace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar Renderer = require(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = require(\"../editor\").Editor;\nvar Range = require(\"../range\").Range;\nvar event = require(\"../lib/event\");\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\nvar nls = require(\"../config\").nls;\nvar userAgent = require(\"./../lib/useragent\");\nvar getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n};\nvar popupAriaRole = userAgent.isSafari ? \"menu\" : \"listbox\";\nvar optionAriaRole = userAgent.isSafari ? \"menuitem\" : \"option\";\nvar ariaActiveState = userAgent.isSafari ? \"aria-current\" : \"aria-selected\";\nvar $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n};\nvar AcePopup = /** @class */ (function () {\n    function AcePopup(parentNode) {\n        var el = dom.createElement(\"div\");\n        var popup = $singleLineEditor(el);\n        if (parentNode) {\n            parentNode.appendChild(el);\n        }\n        el.style.display = \"none\";\n        popup.renderer.content.style.cursor = \"default\";\n        popup.renderer.setStyle(\"ace_autocomplete\");\n        popup.renderer.$textLayer.element.setAttribute(\"role\", popupAriaRole);\n        popup.renderer.$textLayer.element.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.aria-roledescription\", \"Autocomplete suggestions\"));\n        popup.renderer.$textLayer.element.setAttribute(\"aria-label\", nls(\"autocomplete.popup.aria-label\", \"Autocomplete suggestions\"));\n        popup.renderer.textarea.setAttribute(\"aria-hidden\", \"true\");\n        popup.setOption(\"displayIndentGuides\", false);\n        popup.setOption(\"dragDelay\", 150);\n        var noop = function () { };\n        popup.focus = noop;\n        popup.$isFocused = true;\n        popup.renderer.$cursorLayer.restartTimer = noop;\n        popup.renderer.$cursorLayer.element.style.opacity = \"0\";\n        popup.renderer.$maxLines = 8;\n        popup.renderer.$keepTextAreaAtCursor = false;\n        popup.setHighlightActiveLine(false);\n        popup.session.highlight(\"\");\n        popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n        popup.on(\"mousedown\", function (e) {\n            var pos = e.getDocumentPosition();\n            popup.selection.moveToPosition(pos);\n            selectionMarker.start.row = selectionMarker.end.row = pos.row;\n            e.stop();\n        });\n        var lastMouseEvent;\n        var hoverMarker = new Range(-1, 0, -1, Infinity);\n        var selectionMarker = new Range(-1, 0, -1, Infinity);\n        selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n        popup.setSelectOnHover = function (val) {\n            if (!val) {\n                hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n            }\n            else if (hoverMarker.id) {\n                popup.session.removeMarker(hoverMarker.id);\n                hoverMarker.id = null;\n            }\n        };\n        popup.setSelectOnHover(false);\n        popup.on(\"mousemove\", function (e) {\n            if (!lastMouseEvent) {\n                lastMouseEvent = e;\n                return;\n            }\n            if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n                return;\n            }\n            lastMouseEvent = e;\n            lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n            popup.isMouseOver = true;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (hoverMarker.start.row != row) {\n                if (!hoverMarker.id)\n                    popup.setRow(row);\n                setHoverMarker(row);\n            }\n        });\n        popup.renderer.on(\"beforeRender\", function () {\n            if (lastMouseEvent && hoverMarker.start.row != -1) {\n                lastMouseEvent.$pos = null;\n                var row = lastMouseEvent.getDocumentPosition().row;\n                if (!hoverMarker.id)\n                    popup.setRow(row);\n                setHoverMarker(row, true);\n            }\n        });\n        popup.renderer.on(\"afterRender\", function () {\n            var row = popup.getRow();\n            var t = popup.renderer.$textLayer;\n            var selected = /** @type {HTMLElement|null} */ (t.element.childNodes[row - t.config.firstRow]);\n            var el = document.activeElement; // Active element is textarea of main editor\n            if (selected !== popup.selectedNode && popup.selectedNode) {\n                dom.removeCssClass(popup.selectedNode, \"ace_selected\");\n                el.removeAttribute(\"aria-activedescendant\");\n                popup.selectedNode.removeAttribute(ariaActiveState);\n                popup.selectedNode.removeAttribute(\"id\");\n            }\n            popup.selectedNode = selected;\n            if (selected) {\n                dom.addCssClass(selected, \"ace_selected\");\n                var ariaId = getAriaId(row);\n                selected.id = ariaId;\n                t.element.setAttribute(\"aria-activedescendant\", ariaId);\n                el.setAttribute(\"aria-activedescendant\", ariaId);\n                selected.setAttribute(\"role\", optionAriaRole);\n                selected.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.item.aria-roledescription\", \"item\"));\n                selected.setAttribute(\"aria-label\", popup.getData(row).caption || popup.getData(row).value);\n                selected.setAttribute(\"aria-setsize\", popup.data.length);\n                selected.setAttribute(\"aria-posinset\", row + 1);\n                selected.setAttribute(\"aria-describedby\", \"doc-tooltip\");\n                selected.setAttribute(ariaActiveState, \"true\");\n            }\n        });\n        var hideHoverMarker = function () { setHoverMarker(-1); };\n        var setHoverMarker = function (row, suppressRedraw) {\n            if (row !== hoverMarker.start.row) {\n                hoverMarker.start.row = hoverMarker.end.row = row;\n                if (!suppressRedraw)\n                    popup.session._emit(\"changeBackMarker\");\n                popup._emit(\"changeHoverMarker\");\n            }\n        };\n        popup.getHoveredRow = function () {\n            return hoverMarker.start.row;\n        };\n        event.addListener(popup.container, \"mouseout\", function () {\n            popup.isMouseOver = false;\n            hideHoverMarker();\n        });\n        popup.on(\"hide\", hideHoverMarker);\n        popup.on(\"changeSelection\", hideHoverMarker);\n        popup.session.doc.getLength = function () {\n            return popup.data.length;\n        };\n        popup.session.doc.getLine = function (i) {\n            var data = popup.data[i];\n            if (typeof data == \"string\")\n                return data;\n            return (data && data.value) || \"\";\n        };\n        var bgTokenizer = popup.session.bgTokenizer;\n        bgTokenizer.$tokenizeRow = function (row) {\n            var data = popup.data[row];\n            var tokens = [];\n            if (!data)\n                return tokens;\n            if (typeof data == \"string\")\n                data = { value: data };\n            var caption = data.caption || data.value || data.name;\n            function addToken(value, className) {\n                value && tokens.push({\n                    type: (data.className || \"\") + (className || \"\"),\n                    value: value\n                });\n            }\n            var lower = caption.toLowerCase();\n            var filterText = (popup.filterText || \"\").toLowerCase();\n            var lastIndex = 0;\n            var lastI = 0;\n            for (var i = 0; i <= filterText.length; i++) {\n                if (i != lastI && (data.matchMask & (1 << i) || i == filterText.length)) {\n                    var sub = filterText.slice(lastI, i);\n                    lastI = i;\n                    var index = lower.indexOf(sub, lastIndex);\n                    if (index == -1)\n                        continue;\n                    addToken(caption.slice(lastIndex, index), \"\");\n                    lastIndex = index + sub.length;\n                    addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n                }\n            }\n            addToken(caption.slice(lastIndex, caption.length), \"\");\n            tokens.push({ type: \"completion-spacer\", value: \" \" });\n            if (data.meta)\n                tokens.push({ type: \"completion-meta\", value: data.meta });\n            if (data.message)\n                tokens.push({ type: \"completion-message\", value: data.message });\n            return tokens;\n        };\n        bgTokenizer.$updateOnChange = noop;\n        bgTokenizer.start = noop;\n        popup.session.$computeWidth = function () {\n            return this.screenWidth = 0;\n        };\n        popup.isOpen = false;\n        popup.isTopdown = false;\n        popup.autoSelect = true;\n        popup.filterText = \"\";\n        popup.isMouseOver = false;\n        popup.data = [];\n        popup.setData = function (list, filterText) {\n            popup.filterText = filterText || \"\";\n            popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n            popup.data = list || [];\n            popup.setRow(0);\n        };\n        popup.getData = function (row) {\n            return popup.data[row];\n        };\n        popup.getRow = function () {\n            return selectionMarker.start.row;\n        };\n        popup.setRow = function (line) {\n            line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, line));\n            if (selectionMarker.start.row != line) {\n                popup.selection.clearSelection();\n                selectionMarker.start.row = selectionMarker.end.row = line || 0;\n                popup.session._emit(\"changeBackMarker\");\n                popup.moveCursorTo(line || 0, 0);\n                if (popup.isOpen)\n                    popup._signal(\"select\");\n            }\n        };\n        popup.on(\"changeSelection\", function () {\n            if (popup.isOpen)\n                popup.setRow(popup.selection.lead.row);\n            popup.renderer.scrollCursorIntoView();\n        });\n        popup.hide = function () {\n            this.container.style.display = \"none\";\n            popup.anchorPos = null;\n            popup.anchor = null;\n            if (popup.isOpen) {\n                popup.isOpen = false;\n                this._signal(\"hide\");\n            }\n        };\n        popup.tryShow = function (pos, lineHeight, anchor, forceShow) {\n            if (!forceShow && popup.isOpen && popup.anchorPos && popup.anchor &&\n                popup.anchorPos.top === pos.top && popup.anchorPos.left === pos.left &&\n                popup.anchor === anchor) {\n                return true;\n            }\n            var el = this.container;\n            var screenHeight = window.innerHeight;\n            var screenWidth = window.innerWidth;\n            var renderer = this.renderer;\n            var maxH = renderer.$maxLines * lineHeight * 1.4;\n            var dims = { top: 0, bottom: 0, left: 0 };\n            var spaceBelow = screenHeight - pos.top - 3 * this.$borderSize - lineHeight;\n            var spaceAbove = pos.top - 3 * this.$borderSize;\n            if (!anchor) {\n                if (spaceAbove <= spaceBelow || spaceBelow >= maxH) {\n                    anchor = \"bottom\";\n                }\n                else {\n                    anchor = \"top\";\n                }\n            }\n            if (anchor === \"top\") {\n                dims.bottom = pos.top - this.$borderSize;\n                dims.top = dims.bottom - maxH;\n            }\n            else if (anchor === \"bottom\") {\n                dims.top = pos.top + lineHeight + this.$borderSize;\n                dims.bottom = dims.top + maxH;\n            }\n            var fitsX = dims.top >= 0 && dims.bottom <= screenHeight;\n            if (!forceShow && !fitsX) {\n                return false;\n            }\n            if (!fitsX) {\n                if (anchor === \"top\") {\n                    renderer.$maxPixelHeight = spaceAbove;\n                }\n                else {\n                    renderer.$maxPixelHeight = spaceBelow;\n                }\n            }\n            else {\n                renderer.$maxPixelHeight = null;\n            }\n            if (anchor === \"top\") {\n                el.style.top = \"\";\n                el.style.bottom = (screenHeight - dims.bottom) + \"px\";\n                popup.isTopdown = false;\n            }\n            else {\n                el.style.top = dims.top + \"px\";\n                el.style.bottom = \"\";\n                popup.isTopdown = true;\n            }\n            el.style.display = \"\";\n            var left = pos.left;\n            if (left + el.offsetWidth > screenWidth)\n                left = screenWidth - el.offsetWidth;\n            el.style.left = left + \"px\";\n            el.style.right = \"\";\n            if (!popup.isOpen) {\n                popup.isOpen = true;\n                this._signal(\"show\");\n                lastMouseEvent = null;\n            }\n            popup.anchorPos = pos;\n            popup.anchor = anchor;\n            return true;\n        };\n        popup.show = function (pos, lineHeight, topdownOnly) {\n            this.tryShow(pos, lineHeight, topdownOnly ? \"bottom\" : undefined, true);\n        };\n        popup.goTo = function (where) {\n            var row = this.getRow();\n            var max = this.session.getLength() - 1;\n            switch (where) {\n                case \"up\":\n                    row = row <= 0 ? max : row - 1;\n                    break;\n                case \"down\":\n                    row = row >= max ? -1 : row + 1;\n                    break;\n                case \"start\":\n                    row = 0;\n                    break;\n                case \"end\":\n                    row = max;\n                    break;\n            }\n            this.setRow(row);\n        };\n        popup.getTextLeftOffset = function () {\n            return this.$borderSize + this.renderer.$padding + this.$imageSize;\n        };\n        popup.$imageSize = 0;\n        popup.$borderSize = 1;\n        return popup;\n    }\n    return AcePopup;\n}());\ndom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin-left: 0.9em;\\n}\\n.ace_completion-message {\\n    margin-left: 0.9em;\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\\n.ace_autocomplete .ace_text-layer  {\\n    width: calc(100% - 8px);\\n}\\n.ace_autocomplete .ace_line {\\n    display: flex;\\n    align-items: center;\\n}\\n.ace_autocomplete .ace_line > * {\\n    min-width: 0;\\n    flex: 0 0 auto;\\n}\\n.ace_autocomplete .ace_line .ace_ {\\n    flex: 0 1 auto;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ace_autocomplete .ace_completion-spacer {\\n    flex: 1;\\n}\\n.ace_autocomplete.ace_loading:after  {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0px;\\n    height: 2px;\\n    width: 8%;\\n    background: blue;\\n    z-index: 100;\\n    animation: ace_progress 3s infinite linear;\\n    animation-delay: 300ms;\\n    transform: translateX(-100%) scaleX(1);\\n}\\n@keyframes ace_progress {\\n    0% { transform: translateX(-100%) scaleX(1) }\\n    50% { transform: translateX(625%) scaleX(2) } \\n    100% { transform: translateX(1500%) scaleX(3) } \\n}\\n@media (prefers-reduced-motion) {\\n    .ace_autocomplete.ace_loading:after {\\n        transform: translateX(625%) scaleX(2);\\n        animation: none;\\n     }\\n}\\n\", \"autocompletion.css\", false);\nexports.AcePopup = AcePopup;\nexports.$singleLineEditor = $singleLineEditor;\nexports.getAriaId = getAriaId;\n\n});\n\nace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/range_list\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/clipboard\",\"ace/editor\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar lang = require(\"./lib/lang\");\nvar Range = require(\"./range\").Range;\nvar RangeList = require(\"./range_list\").RangeList;\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = require(\"./tokenizer\").Tokenizer;\nvar clipboard = require(\"./clipboard\");\nvar VARIABLES = {\n    CURRENT_WORD: function (editor) {\n        return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n        var text = editor.session.getTextRange();\n        if (indentation)\n            return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n        return text;\n    },\n    CURRENT_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n        return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n        return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n        return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n        return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n        return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n        return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) { return \"/not implemented.txt\"; },\n    WORKSPACE_NAME: function () { return \"Unknown\"; },\n    FULLNAME: function () { return \"Unknown\"; },\n    BLOCK_COMMENT_START: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, { year: \"numeric\" }),\n    CURRENT_YEAR_SHORT: date.bind(null, { year: \"2-digit\" }),\n    CURRENT_MONTH: date.bind(null, { month: \"numeric\" }),\n    CURRENT_MONTH_NAME: date.bind(null, { month: \"long\" }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, { month: \"short\" }),\n    CURRENT_DATE: date.bind(null, { day: \"2-digit\" }),\n    CURRENT_DAY_NAME: date.bind(null, { weekday: \"long\" }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, { weekday: \"short\" }),\n    CURRENT_HOUR: date.bind(null, { hour: \"2-digit\", hour12: false }),\n    CURRENT_MINUTE: date.bind(null, { minute: \"2-digit\" }),\n    CURRENT_SECOND: date.bind(null, { second: \"2-digit\" })\n};\nVARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\nfunction date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n}\nvar SnippetManager = /** @class */ (function () {\n    function SnippetManager() {\n        this.snippetMap = {};\n        this.snippetNameMap = {};\n        this.variables = VARIABLES;\n    }\n    SnippetManager.prototype.getTokenizer = function () {\n        return SnippetManager[\"$tokenizer\"] || this.createTokenizer();\n    };\n    SnippetManager.prototype.createTokenizer = function () {\n        function TabstopToken(str) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str))\n                return [{ tabstopId: parseInt(str, 10) }];\n            return [{ text: str }];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        var formatMatcher = {\n            regex: \"/(\" + escape(\"/\") + \"+)/\",\n            onMatch: function (val, state, stack) {\n                var ts = stack[0];\n                ts.fmtString = true;\n                ts.guard = val.slice(1, -1);\n                ts.flag = \"\";\n                return \"\";\n            },\n            next: \"formatString\"\n        };\n        SnippetManager[\"$tokenizer\"] = new Tokenizer({\n            start: [\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length) {\n                            val = ch;\n                        }\n                        else if (\"`$\\\\\".indexOf(ch) != -1) {\n                            val = ch;\n                        }\n                        return [val];\n                    } },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        return [stack.length ? stack.shift() : val];\n                    } },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken },\n                { regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function (str, state, stack) {\n                        var t = TabstopToken(str.substr(1));\n                        stack.unshift(t[0]);\n                        return t;\n                    }, next: \"snippetVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false }\n            ],\n            snippetVar: [\n                { regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function (val, state, stack) {\n                        var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n                            return operator.length == 2 ? operator[1] : \"\\x00\";\n                        }).split(\"\\x00\").map(function (value) {\n                            return { value: value };\n                        });\n                        stack[0].choices = choices;\n                        return [choices[0]];\n                    }, next: \"start\" },\n                formatMatcher,\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\" }\n            ],\n            formatString: [\n                { regex: /:/, onMatch: function (val, state, stack) {\n                        if (stack.length && stack[0].expectElse) {\n                            stack[0].expectElse = false;\n                            stack[0].ifEnd = { elseEnd: stack[0] };\n                            return [stack[0].ifEnd];\n                        }\n                        return \":\";\n                    } },\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length)\n                            val = ch;\n                        else if (\"`$\\\\\".indexOf(ch) != -1)\n                            val = ch;\n                        else if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\t\";\n                        else if (\"ulULE\".indexOf(ch) != -1)\n                            val = { changeCase: ch, local: ch > \"a\" };\n                        return [val];\n                    } },\n                { regex: \"/\\\\w*}\", onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        if (next)\n                            next.flag = val.slice(1, -1);\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: function (val, state, stack) {\n                        return [{ text: val.slice(1) }];\n                    } },\n                { regex: /\\${\\w+/, onMatch: function (val, state, stack) {\n                        var token = { text: val.slice(2) };\n                        stack.unshift(token);\n                        return [token];\n                    }, next: \"formatStringVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" }\n            ],\n            formatStringVar: [\n                { regex: /:\\/\\w+}/, onMatch: function (val, state, stack) {\n                        var ts = stack[0];\n                        ts.formatFunction = val.slice(2, -1);\n                        return [stack.shift()];\n                    }, next: \"formatString\" },\n                formatMatcher,\n                { regex: /:[\\?\\-+]?/, onMatch: function (val, state, stack) {\n                        if (val[1] == \"+\")\n                            stack[0].ifEnd = stack[0];\n                        if (val[1] == \"?\")\n                            stack[0].expectElse = true;\n                    }, next: \"formatString\" },\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"formatString\" }\n            ]\n        });\n        return SnippetManager[\"$tokenizer\"];\n    };\n    SnippetManager.prototype.tokenizeTmSnippet = function (str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n            return x.value || x;\n        });\n    };\n    SnippetManager.prototype.getVariableValue = function (editor, name, indentation) {\n        if (/^\\d+$/.test(name))\n            return (this.variables.__ || {})[name] || \"\";\n        if (/^[A-Z]\\d+$/.test(name))\n            return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n        name = name.replace(/^TM_/, \"\");\n        if (!this.variables.hasOwnProperty(name))\n            return \"\";\n        var value = this.variables[name];\n        if (typeof value == \"function\")\n            value = this.variables[name](editor, name, indentation);\n        return value == null ? \"\" : value;\n    };\n    SnippetManager.prototype.tmStrFormat = function (str, ch, editor) {\n        if (!ch.fmt)\n            return str;\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n        var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n        var _self = this;\n        var formatted = str.replace(re, function () {\n            var oldArgs = _self.variables.__;\n            _self.variables.__ = [].slice.call(arguments);\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    }\n                    else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                }\n                else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                }\n                else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            _self.variables.__ = oldArgs;\n            return fmtParts.join(\"\");\n        });\n        return formatted;\n    };\n    SnippetManager.prototype.tmFormatFunction = function (str, ch, editor) {\n        if (ch.formatFunction == \"upcase\")\n            return str.toUpperCase();\n        if (ch.formatFunction == \"downcase\")\n            return str.toLowerCase();\n        return str;\n    };\n    SnippetManager.prototype.resolveVariables = function (snippet, editor) {\n        var result = [];\n        var indentation = \"\";\n        var afterNewLine = true;\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n                if (ch == \"\\n\") {\n                    afterNewLine = true;\n                    indentation = \"\";\n                }\n                else if (afterNewLine) {\n                    indentation = /^\\t*/.exec(ch)[0];\n                    afterNewLine = /\\S/.test(ch);\n                }\n                continue;\n            }\n            if (!ch)\n                continue;\n            afterNewLine = false;\n            if (ch.fmtString) {\n                var j = snippet.indexOf(ch, i + 1);\n                if (j == -1)\n                    j = snippet.length;\n                ch.fmt = snippet.slice(i + 1, j);\n                i = j;\n            }\n            if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n                if (ch.fmtString)\n                    value = this.tmStrFormat(value, ch, editor);\n                if (ch.formatFunction)\n                    value = this.tmFormatFunction(value, ch, editor);\n                if (value && !ch.ifEnd) {\n                    result.push(value);\n                    gotoNext(ch);\n                }\n                else if (!value && ch.ifEnd) {\n                    gotoNext(ch.ifEnd);\n                }\n            }\n            else if (ch.elseEnd) {\n                gotoNext(ch.elseEnd);\n            }\n            else if (ch.tabstopId != null) {\n                result.push(ch);\n            }\n            else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n    SnippetManager.prototype.getDisplayTextForSnippet = function (editor, snippetText) {\n        var processedSnippet = processSnippetText.call(this, editor, snippetText);\n        return processedSnippet.text;\n    };\n    SnippetManager.prototype.insertSnippetForSelection = function (editor, snippetText, options) {\n        if (options === void 0) { options = {}; }\n        var processedSnippet = processSnippetText.call(this, editor, snippetText, options);\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, processedSnippet.text);\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(processedSnippet.tabstops, range.start, end, selectionId);\n    };\n    SnippetManager.prototype.insertSnippet = function (editor, snippetText, options) {\n        if (options === void 0) { options = {}; }\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText, options);\n        editor.forEachSelection(function () {\n            self.insertSnippetForSelection(editor, snippetText, options);\n        }, null, { keepOrder: true });\n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n    SnippetManager.prototype.$getScope = function (editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp)\n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        return scope;\n    };\n    SnippetManager.prototype.getActiveScopes = function (editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n    SnippetManager.prototype.expandWithTab = function (editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function () {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, { keepOrder: true });\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    SnippetManager.prototype.expandSnippetForSelection = function (editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n    SnippetManager.prototype.findMatchingSnippet = function (snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n    SnippetManager.prototype.register = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        if (!snippets)\n            snippets = [];\n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            }\n            else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n            if (s.prefix)\n                s.tabTrigger = s.prefix;\n            if (!s.content && s.body)\n                s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger);\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger);\n        }\n        if (Array.isArray(snippets)) {\n            snippets.forEach(addSnippet);\n        }\n        else {\n            Object.keys(snippets).forEach(function (key) {\n                addSnippet(snippets[key]);\n            });\n        }\n        this._signal(\"registerSnippets\", { scope: scope });\n    };\n    SnippetManager.prototype.unregister = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope || scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope || scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    SnippetManager.prototype.parseSnippetFile = function (str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], /**@type{Snippet}*/ snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                }\n                catch (e) { }\n            }\n            if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            }\n            else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                }\n                else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                }\n                else if (key) {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    SnippetManager.prototype.getSnippetByName = function (name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n    return SnippetManager;\n}());\noop.implement(SnippetManager.prototype, EventEmitter);\nvar processSnippetText = function (editor, snippetText, options) {\n    if (options === void 0) { options = {}; }\n    var cursor = editor.getCursorPosition();\n    var line = editor.session.getLine(cursor.row);\n    var tabString = editor.session.getTabString();\n    var indentString = line.match(/^\\s*/)[0];\n    if (cursor.column < indentString.length)\n        indentString = indentString.slice(0, cursor.column);\n    snippetText = snippetText.replace(/\\r/g, \"\");\n    var tokens = this.tokenizeTmSnippet(snippetText);\n    tokens = this.resolveVariables(tokens, editor);\n    tokens = tokens.map(function (x) {\n        if (x == \"\\n\" && !options.excludeExtraIndent)\n            return x + indentString;\n        if (typeof x == \"string\")\n            return x.replace(/\\t/g, tabString);\n        return x;\n    });\n    var tabstops = [];\n    tokens.forEach(function (p, i) {\n        if (typeof p != \"object\")\n            return;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        if (!ts) {\n            ts = tabstops[id] = [];\n            ts.index = id;\n            ts.value = \"\";\n            ts.parents = {};\n        }\n        if (ts.indexOf(p) !== -1)\n            return;\n        if (p.choices && !ts.choices)\n            ts.choices = p.choices;\n        ts.push(p);\n        var i1 = tokens.indexOf(p, i + 1);\n        if (i1 === -1)\n            return;\n        var value = tokens.slice(i + 1, i1);\n        var isNested = value.some(function (t) { return typeof t === \"object\"; });\n        if (isNested && !ts.value) {\n            ts.value = value;\n        }\n        else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n            ts.value = value.join(\"\");\n        }\n    });\n    tabstops.forEach(function (ts) { ts.length = 0; });\n    var expanding = {};\n    function copyValue(val) {\n        var copy = [];\n        for (var i = 0; i < val.length; i++) {\n            var p = val[i];\n            if (typeof p == \"object\") {\n                if (expanding[p.tabstopId])\n                    continue;\n                var j = val.lastIndexOf(p, i - 1);\n                p = copy[j] || { tabstopId: p.tabstopId };\n            }\n            copy[i] = p;\n        }\n        return copy;\n    }\n    for (var i = 0; i < tokens.length; i++) {\n        var p = tokens[i];\n        if (typeof p != \"object\")\n            continue;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        var i1 = tokens.indexOf(p, i + 1);\n        if (expanding[id]) {\n            if (expanding[id] === p) {\n                delete expanding[id];\n                Object.keys(expanding).forEach(function (parentId) {\n                    ts.parents[parentId] = true;\n                });\n            }\n            continue;\n        }\n        expanding[id] = p;\n        var value = ts.value;\n        if (typeof value !== \"string\")\n            value = copyValue(value);\n        else if (p.fmt)\n            value = this.tmStrFormat(value, p, editor);\n        tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n        if (ts.indexOf(p) === -1)\n            ts.push(p);\n    }\n    var row = 0, column = 0;\n    var text = \"\";\n    tokens.forEach(function (t) {\n        if (typeof t === \"string\") {\n            var lines = t.split(\"\\n\");\n            if (lines.length > 1) {\n                column = lines[lines.length - 1].length;\n                row += lines.length - 1;\n            }\n            else\n                column += t.length;\n            text += t;\n        }\n        else if (t) {\n            if (!t.start)\n                t.start = { row: row, column: column };\n            else\n                t.end = { row: row, column: column };\n        }\n    });\n    return {\n        text: text,\n        tabstops: tabstops,\n        tokens: tokens\n    };\n};\nvar TabstopManager = /** @class */ (function () {\n    function TabstopManager(editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        if (editor.tabstopManager)\n            return editor.tabstopManager;\n        editor.tabstopManager = this;\n        this.$onChange = this.onChange.bind(this);\n        this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n        this.$onChangeSession = this.onChangeSession.bind(this);\n        this.$onAfterExec = this.onAfterExec.bind(this);\n        this.attach(editor);\n    }\n    TabstopManager.prototype.attach = function (editor) {\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n        this.editor = editor;\n        this.session = editor.session;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    TabstopManager.prototype.detach = function () {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges.length = 0;\n        this.tabstops.length = 0;\n        this.selectedTabstop = null;\n        this.editor.off(\"change\", this.$onChange);\n        this.editor.off(\"changeSelection\", this.$onChangeSelection);\n        this.editor.off(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.off(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.session = null;\n        this.editor = null;\n    };\n    TabstopManager.prototype.onChange = function (delta) {\n        var isRemove = delta.action[0] == \"r\";\n        var selectedTabstop = this.selectedTabstop || {};\n        var parents = selectedTabstop.parents || {};\n        var tabstops = this.tabstops.slice();\n        for (var i = 0; i < tabstops.length; i++) {\n            var ts = tabstops[i];\n            var active = ts == selectedTabstop || parents[ts.index];\n            ts.rangeList.$bias = active ? 0 : 1;\n            if (delta.action == \"remove\" && ts !== selectedTabstop) {\n                var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n                var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n                startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n                var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n                endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n                var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n                for (var j = 0; j < toRemove.length; j++)\n                    this.removeRange(toRemove[j]);\n            }\n            ts.rangeList.$onChange(delta);\n        }\n        var session = this.session;\n        if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue())\n            this.detach();\n    };\n    TabstopManager.prototype.updateLinkedFields = function () {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked)\n            return;\n        this.$inChange = true;\n        var session = this.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = 0; i < ts.length; i++) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var original = range.original;\n            var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    TabstopManager.prototype.onAfterExec = function (e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    TabstopManager.prototype.onChangeSelection = function () {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = 0; i < this.ranges.length; i++) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    TabstopManager.prototype.onChangeSession = function () {\n        this.detach();\n    };\n    TabstopManager.prototype.tabNext = function (dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        this.updateTabstopMarkers();\n        if (index === 0) {\n            this.detach();\n        }\n    };\n    TabstopManager.prototype.selectTabstop = function (index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        this.selectedTabstop = ts;\n        var range = ts.firstNonLinked || ts;\n        if (ts.choices)\n            range.cursor = range.start;\n        if (!this.editor.inVirtualSelectionMode) {\n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(range);\n            for (var i = 0; i < ts.length; i++) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n        }\n        else {\n            this.editor.selection.fromOrientedRange(range);\n        }\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        if (this.selectedTabstop && this.selectedTabstop.choices)\n            this.editor.execCommand(\"startAutocomplete\", { matches: this.selectedTabstop.choices });\n    };\n    TabstopManager.prototype.addTabstops = function (tabstops, start, end) {\n        var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        var snippetId = this.snippetId = (this.snippetId || 0) + 1;\n        tabstops.forEach(function (ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n            dest.snippetId = snippetId;\n            for (var i = 0; i < ts.length; i++) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString || (dest.firstNonLinked && useLink)) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                }\n                else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n            dest.rangeList = dest.rangeList || new RangeList();\n            dest.rangeList.$bias = 0;\n            dest.rangeList.addList(dest);\n        }, this);\n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n    TabstopManager.prototype.addTabstopMarkers = function (ts) {\n        var session = this.session;\n        ts.forEach(function (range) {\n            if (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    TabstopManager.prototype.removeTabstopMarkers = function (ts) {\n        var session = this.session;\n        ts.forEach(function (range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    TabstopManager.prototype.updateTabstopMarkers = function () {\n        if (!this.selectedTabstop)\n            return;\n        var currentSnippetId = this.selectedTabstop.snippetId;\n        if (this.selectedTabstop.index === 0) {\n            currentSnippetId--;\n        }\n        this.tabstops.forEach(function (ts) {\n            if (ts.snippetId === currentSnippetId)\n                this.addTabstopMarkers(ts);\n            else\n                this.removeTabstopMarkers(ts);\n        }, this);\n    };\n    TabstopManager.prototype.removeRange = function (range) {\n        var i = range.tabstop.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        if (i != -1)\n            this.ranges.splice(i, 1);\n        i = range.tabstop.rangeList.ranges.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        this.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n    return TabstopManager;\n}());\nTabstopManager.prototype.keyboardHandler = new HashHandler();\nTabstopManager.prototype.keyboardHandler.bindKeys({\n    \"Tab\": function (editor) {\n        if (exports.snippetManager && exports.snippetManager.expandWithTab(editor))\n            return;\n        editor.tabstopManager.tabNext(1);\n        editor.renderer.scrollCursorIntoView();\n    },\n    \"Shift-Tab\": function (editor) {\n        editor.tabstopManager.tabNext(-1);\n        editor.renderer.scrollCursorIntoView();\n    },\n    \"Esc\": function (editor) {\n        editor.tabstopManager.detach();\n    }\n});\nvar movePoint = function (point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\nvar moveRelative = function (point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\ndom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\nexports.snippetManager = new SnippetManager();\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.insertSnippet = function (content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete/inline_screenreader\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar AceInlineScreenReader = /** @class */ (function () {\n    function AceInlineScreenReader(editor) {\n        this.editor = editor;\n        this.screenReaderDiv = document.createElement(\"div\");\n        this.screenReaderDiv.classList.add(\"ace_screenreader-only\");\n        this.editor.container.appendChild(this.screenReaderDiv);\n    }\n    AceInlineScreenReader.prototype.setScreenReaderContent = function (content) {\n        if (!this.popup && this.editor.completer && /**@type{import(\"../autocomplete\").Autocomplete}*/ (this.editor.completer).popup) {\n            this.popup = /**@type{import(\"../autocomplete\").Autocomplete}*/ (this.editor.completer).popup;\n            this.popup.renderer.on(\"afterRender\", function () {\n                var row = this.popup.getRow();\n                var t = this.popup.renderer.$textLayer;\n                var selected = t.element.childNodes[row - t.config.firstRow];\n                if (selected) {\n                    var idString = \"doc-tooltip \";\n                    for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n                        idString += \"ace-inline-screenreader-line-\".concat(lineIndex, \" \");\n                    }\n                    selected.setAttribute(\"aria-describedby\", idString);\n                }\n            }.bind(this));\n        }\n        while (this.screenReaderDiv.firstChild) {\n            this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);\n        }\n        this._lines = content.split(/\\r\\n|\\r|\\n/);\n        var codeElement = this.createCodeBlock();\n        this.screenReaderDiv.appendChild(codeElement);\n    };\n    AceInlineScreenReader.prototype.destroy = function () {\n        this.screenReaderDiv.remove();\n    };\n    AceInlineScreenReader.prototype.createCodeBlock = function () {\n        var container = document.createElement(\"pre\");\n        container.setAttribute(\"id\", \"ace-inline-screenreader\");\n        for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n            var codeElement = document.createElement(\"code\");\n            codeElement.setAttribute(\"id\", \"ace-inline-screenreader-line-\".concat(lineIndex));\n            var line = document.createTextNode(this._lines[lineIndex]);\n            codeElement.appendChild(line);\n            container.appendChild(codeElement);\n        }\n        return container;\n    };\n    return AceInlineScreenReader;\n}());\nexports.AceInlineScreenReader = AceInlineScreenReader;\n\n});\n\nace.define(\"ace/autocomplete/inline\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete/inline_screenreader\"], function(require, exports, module){\"use strict\";\nvar snippetManager = require(\"../snippets\").snippetManager;\nvar AceInlineScreenReader = require(\"./inline_screenreader\").AceInlineScreenReader;\nvar AceInline = /** @class */ (function () {\n    function AceInline() {\n        this.editor = null;\n    }\n    AceInline.prototype.show = function (editor, completion, prefix) {\n        prefix = prefix || \"\";\n        if (editor && this.editor && this.editor !== editor) {\n            this.hide();\n            this.editor = null;\n            this.inlineScreenReader = null;\n        }\n        if (!editor || !completion) {\n            return false;\n        }\n        if (!this.inlineScreenReader) {\n            this.inlineScreenReader = new AceInlineScreenReader(editor);\n        }\n        var displayText = completion.snippet ? snippetManager.getDisplayTextForSnippet(editor, completion.snippet) : completion.value;\n        if (completion.hideInlinePreview || !displayText || !displayText.startsWith(prefix)) {\n            return false;\n        }\n        this.editor = editor;\n        this.inlineScreenReader.setScreenReaderContent(displayText);\n        displayText = displayText.slice(prefix.length);\n        if (displayText === \"\") {\n            editor.removeGhostText();\n        }\n        else {\n            editor.setGhostText(displayText);\n        }\n        return true;\n    };\n    AceInline.prototype.isOpen = function () {\n        if (!this.editor) {\n            return false;\n        }\n        return !!this.editor.renderer.$ghostText;\n    };\n    AceInline.prototype.hide = function () {\n        if (!this.editor) {\n            return false;\n        }\n        this.editor.removeGhostText();\n        return true;\n    };\n    AceInline.prototype.destroy = function () {\n        this.hide();\n        this.editor = null;\n        if (this.inlineScreenReader) {\n            this.inlineScreenReader.destroy();\n            this.inlineScreenReader = null;\n        }\n    };\n    return AceInline;\n}());\nexports.AceInline = AceInline;\n\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function (result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\nexports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\nexports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function (identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\nexports.triggerAutocomplete = function (editor, previousChar) {\n    var previousChar = previousChar == null\n        ? editor.session.getPrecedingCharacter()\n        : previousChar;\n    return editor.completers.some(function (completer) {\n        if (completer.triggerCharacters && Array.isArray(completer.triggerCharacters)) {\n            return completer.triggerCharacters.includes(previousChar);\n        }\n    });\n};\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/inline\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\",\"ace/config\",\"ace/lib/event\",\"ace/lib/scroll\"], function(require, exports, module){\"use strict\";\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = require(\"./autocomplete/popup\").AcePopup;\nvar AceInline = require(\"./autocomplete/inline\").AceInline;\nvar getAriaId = require(\"./autocomplete/popup\").getAriaId;\nvar util = require(\"./autocomplete/util\");\nvar lang = require(\"./lib/lang\");\nvar dom = require(\"./lib/dom\");\nvar snippetManager = require(\"./snippets\").snippetManager;\nvar config = require(\"./config\");\nvar event = require(\"./lib/event\");\nvar preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\nvar destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n};\nvar Autocomplete = /** @class */ (function () {\n    function Autocomplete() {\n        this.autoInsert = false;\n        this.autoSelect = true;\n        this.autoShown = false;\n        this.exactMatch = false;\n        this.inlineEnabled = false;\n        this.keyboardHandler = new HashHandler();\n        this.keyboardHandler.bindKeys(this.commands);\n        this.parentNode = null;\n        this.setSelectOnHover = false;\n        this.hasSeen = new Set();\n        this.showLoadingState = false;\n        this.stickySelectionDelay = 500;\n        this.blurListener = this.blurListener.bind(this);\n        this.changeListener = this.changeListener.bind(this);\n        this.mousedownListener = this.mousedownListener.bind(this);\n        this.mousewheelListener = this.mousewheelListener.bind(this);\n        this.onLayoutChange = this.onLayoutChange.bind(this);\n        this.changeTimer = lang.delayedCall(function () {\n            this.updateCompletions(true);\n        }.bind(this));\n        this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n        this.popupTimer = lang.delayedCall(this.$updatePopupPosition.bind(this), 50);\n        this.stickySelectionTimer = lang.delayedCall(function () {\n            this.stickySelection = true;\n        }.bind(this), this.stickySelectionDelay);\n        this.$firstOpenTimer = lang.delayedCall(/**@this{Autocomplete}*/ function () {\n            var initialPosition = this.completionProvider && this.completionProvider.initialPosition;\n            if (this.autoShown || (this.popup && this.popup.isOpen) || !initialPosition || this.editor.completers.length === 0)\n                return;\n            this.completions = new FilteredList(Autocomplete.completionsForLoading);\n            this.openPopup(this.editor, initialPosition.prefix, false);\n            this.popup.renderer.setStyle(\"ace_loading\", true);\n        }.bind(this), this.stickySelectionDelay);\n    }\n    Object.defineProperty(Autocomplete, \"completionsForLoading\", {\n        get: function () {\n            return [{\n                    caption: config.nls(\"autocomplete.loading\", \"Loading...\"),\n                    value: \"\"\n                }];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Autocomplete.prototype.$init = function () {\n        this.popup = new AcePopup(this.parentNode || document.body || document.documentElement);\n        this.popup.on(\"click\", function (e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.$onPopupShow.bind(this));\n        this.popup.on(\"hide\", this.$onHidePopup.bind(this));\n        this.popup.on(\"select\", this.$onPopupChange.bind(this));\n        event.addListener(this.popup.container, \"mouseout\", this.mouseOutListener.bind(this));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        this.popup.renderer.on(\"afterRender\", this.$onPopupRender.bind(this));\n        return this.popup;\n    };\n    Autocomplete.prototype.$initInline = function () {\n        if (!this.inlineEnabled || this.inlineRenderer)\n            return;\n        this.inlineRenderer = new AceInline();\n        return this.inlineRenderer;\n    };\n    Autocomplete.prototype.getPopup = function () {\n        return this.popup || this.$init();\n    };\n    Autocomplete.prototype.$onHidePopup = function () {\n        if (this.inlineRenderer) {\n            this.inlineRenderer.hide();\n        }\n        this.hideDocTooltip();\n        this.stickySelectionTimer.cancel();\n        this.popupTimer.cancel();\n        this.stickySelection = false;\n    };\n    Autocomplete.prototype.$seen = function (completion) {\n        if (!this.hasSeen.has(completion) && completion && completion.completer && completion.completer.onSeen && typeof completion.completer.onSeen === \"function\") {\n            completion.completer.onSeen(this.editor, completion);\n            this.hasSeen.add(completion);\n        }\n    };\n    Autocomplete.prototype.$onPopupChange = function (hide) {\n        if (this.inlineRenderer && this.inlineEnabled) {\n            var completion = hide ? null : this.popup.getData(this.popup.getRow());\n            this.$updateGhostText(completion);\n            if (this.popup.isMouseOver && this.setSelectOnHover) {\n                this.tooltipTimer.call(null, null);\n                return;\n            }\n            this.popupTimer.schedule();\n            this.tooltipTimer.schedule();\n        }\n        else {\n            this.popupTimer.call(null, null);\n            this.tooltipTimer.call(null, null);\n        }\n    };\n    Autocomplete.prototype.$updateGhostText = function (completion) {\n        var row = this.base.row;\n        var column = this.base.column;\n        var cursorColumn = this.editor.getCursorPosition().column;\n        var prefix = this.editor.session.getLine(row).slice(column, cursorColumn);\n        if (!this.inlineRenderer.show(this.editor, completion, prefix)) {\n            this.inlineRenderer.hide();\n        }\n        else {\n            this.$seen(completion);\n        }\n    };\n    Autocomplete.prototype.$onPopupRender = function () {\n        var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n        if (this.completions && this.completions.filtered && this.completions.filtered.length > 0) {\n            for (var i = this.popup.getFirstVisibleRow(); i <= this.popup.getLastVisibleRow(); i++) {\n                var completion = this.popup.getData(i);\n                if (completion && (!inlineEnabled || completion.hideInlinePreview)) {\n                    this.$seen(completion);\n                }\n            }\n        }\n    };\n    Autocomplete.prototype.$onPopupShow = function (hide) {\n        this.$onPopupChange(hide);\n        this.stickySelection = false;\n        if (this.stickySelectionDelay >= 0)\n            this.stickySelectionTimer.schedule(this.stickySelectionDelay);\n    };\n    Autocomplete.prototype.observeLayoutChanges = function () {\n        if (this.$elements || !this.editor)\n            return;\n        window.addEventListener(\"resize\", this.onLayoutChange, { passive: true });\n        window.addEventListener(\"wheel\", this.mousewheelListener);\n        var el = this.editor.container.parentNode;\n        var elements = [];\n        while (el) {\n            elements.push(el);\n            el.addEventListener(\"scroll\", this.onLayoutChange, { passive: true });\n            el = el.parentNode;\n        }\n        this.$elements = elements;\n    };\n    Autocomplete.prototype.unObserveLayoutChanges = function () {\n        var _this = this;\n        window.removeEventListener(\"resize\", this.onLayoutChange, { passive: true });\n        window.removeEventListener(\"wheel\", this.mousewheelListener);\n        this.$elements && this.$elements.forEach(function (el) {\n            el.removeEventListener(\"scroll\", _this.onLayoutChange, { passive: true });\n        });\n        this.$elements = null;\n    };\n    Autocomplete.prototype.onLayoutChange = function () {\n        if (!this.popup.isOpen)\n            return this.unObserveLayoutChanges();\n        this.$updatePopupPosition();\n        this.updateDocTooltip();\n    };\n    Autocomplete.prototype.$updatePopupPosition = function () {\n        var editor = this.editor;\n        var renderer = editor.renderer;\n        var lineHeight = renderer.layerConfig.lineHeight;\n        var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n        pos.left -= this.popup.getTextLeftOffset();\n        var rect = editor.container.getBoundingClientRect();\n        pos.top += rect.top - renderer.layerConfig.offset;\n        pos.left += rect.left - editor.renderer.scrollLeft;\n        pos.left += renderer.gutterWidth;\n        var posGhostText = {\n            top: pos.top,\n            left: pos.left\n        };\n        if (renderer.$ghostText && renderer.$ghostTextWidget) {\n            if (this.base.row === renderer.$ghostText.position.row) {\n                posGhostText.top += renderer.$ghostTextWidget.el.offsetHeight;\n            }\n        }\n        var editorContainerBottom = editor.container.getBoundingClientRect().bottom - lineHeight;\n        var lowestPosition = editorContainerBottom < posGhostText.top ?\n            { top: editorContainerBottom, left: posGhostText.left } :\n            posGhostText;\n        if (this.popup.tryShow(lowestPosition, lineHeight, \"bottom\")) {\n            return;\n        }\n        if (this.popup.tryShow(pos, lineHeight, \"top\")) {\n            return;\n        }\n        this.popup.show(pos, lineHeight);\n    };\n    Autocomplete.prototype.openPopup = function (editor, prefix, keepPopupPosition) {\n        this.$firstOpenTimer.cancel();\n        if (!this.popup)\n            this.$init();\n        if (this.inlineEnabled && !this.inlineRenderer)\n            this.$initInline();\n        this.popup.autoSelect = this.autoSelect;\n        this.popup.setSelectOnHover(this.setSelectOnHover);\n        var oldRow = this.popup.getRow();\n        var previousSelectedItem = this.popup.data[oldRow];\n        this.popup.setData(this.completions.filtered, this.completions.filterText);\n        if (this.editor.textInput.setAriaOptions) {\n            this.editor.textInput.setAriaOptions({\n                activeDescendant: getAriaId(this.popup.getRow()),\n                inline: this.inlineEnabled\n            });\n        }\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        var newRow;\n        if (this.stickySelection)\n            newRow = this.popup.data.indexOf(previousSelectedItem);\n        if (!newRow || newRow === -1)\n            newRow = 0;\n        this.popup.setRow(this.autoSelect ? newRow : -1);\n        if (newRow === oldRow && previousSelectedItem !== this.completions.filtered[newRow])\n            this.$onPopupChange();\n        var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n        if (newRow === oldRow && inlineEnabled) {\n            var completion = this.popup.getData(this.popup.getRow());\n            this.$updateGhostText(completion);\n        }\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n            this.$updatePopupPosition();\n            if (this.tooltipNode) {\n                this.updateDocTooltip();\n            }\n        }\n        this.changeTimer.cancel();\n        this.observeLayoutChanges();\n    };\n    Autocomplete.prototype.detach = function () {\n        if (this.editor) {\n            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n            this.editor.off(\"changeSelection\", this.changeListener);\n            this.editor.off(\"blur\", this.blurListener);\n            this.editor.off(\"mousedown\", this.mousedownListener);\n            this.editor.off(\"mousewheel\", this.mousewheelListener);\n        }\n        this.$firstOpenTimer.cancel();\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n        if (this.completionProvider) {\n            this.completionProvider.detach();\n        }\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n        if (this.popup && this.popup.renderer) {\n            this.popup.renderer.off(\"afterRender\", this.$onPopupRender);\n        }\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completionProvider = this.completions = this.base = null;\n        this.unObserveLayoutChanges();\n    };\n    Autocomplete.prototype.changeListener = function (e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n    Autocomplete.prototype.blurListener = function (e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text) {\n            this.detach();\n        }\n    };\n    Autocomplete.prototype.mousedownListener = function (e) {\n        this.detach();\n    };\n    Autocomplete.prototype.mousewheelListener = function (e) {\n        if (this.popup && !this.popup.isMouseOver)\n            this.detach();\n    };\n    Autocomplete.prototype.mouseOutListener = function (e) {\n        if (this.popup.isOpen)\n            this.$updatePopupPosition();\n    };\n    Autocomplete.prototype.goTo = function (where) {\n        this.popup.goTo(where);\n    };\n    Autocomplete.prototype.insertMatch = function (data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n        if (data.value === \"\") // Explicitly given nothing to insert, e.g. \"No suggestion state\"\n            return this.detach();\n        var completions = this.completions;\n        var result = this.getCompletionProvider().insertMatch(this.editor, data, completions.filterText, options);\n        if (this.completions == completions)\n            this.detach();\n        return result;\n    };\n    Autocomplete.prototype.showPopup = function (editor, options) {\n        if (this.editor)\n            this.detach();\n        this.activated = true;\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n        this.updateCompletions(false, options);\n    };\n    Autocomplete.prototype.getCompletionProvider = function (initialPosition) {\n        if (!this.completionProvider)\n            this.completionProvider = new CompletionProvider(initialPosition);\n        return this.completionProvider;\n    };\n    Autocomplete.prototype.gatherCompletions = function (editor, callback) {\n        return this.getCompletionProvider().gatherCompletions(editor, callback);\n    };\n    Autocomplete.prototype.updateCompletions = function (keepPopupPosition, options) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n                && this.completions.filtered[0].value == prefix\n                && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        if (options && options.matches) {\n            var pos = this.editor.getSelectionRange().start;\n            this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n            this.base.$insertRight = true;\n            this.completions = new FilteredList(options.matches);\n            this.getCompletionProvider().completions = this.completions;\n            return this.openPopup(this.editor, \"\", keepPopupPosition);\n        }\n        var session = this.editor.getSession();\n        var pos = this.editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n        var completionOptions = {\n            exactMatch: this.exactMatch,\n            ignoreCaption: this.ignoreCaption\n        };\n        this.getCompletionProvider({\n            prefix: prefix,\n            pos: pos\n        }).provideCompletions(this.editor, completionOptions, \n        function (err, completions, finished) {\n            var filtered = completions.filtered;\n            var prefix = util.getCompletionPrefix(this.editor);\n            this.$firstOpenTimer.cancel();\n            if (finished) {\n                if (!filtered.length) {\n                    var emptyMessage = !this.autoShown && this.emptyMessage;\n                    if (typeof emptyMessage == \"function\")\n                        emptyMessage = this.emptyMessage(prefix);\n                    if (emptyMessage) {\n                        var completionsForEmpty = [{\n                                caption: emptyMessage,\n                                value: \"\"\n                            }\n                        ];\n                        this.completions = new FilteredList(completionsForEmpty);\n                        this.openPopup(this.editor, prefix, keepPopupPosition);\n                        this.popup.renderer.setStyle(\"ace_loading\", false);\n                        this.popup.renderer.setStyle(\"ace_empty-message\", true);\n                        return;\n                    }\n                    return this.detach();\n                }\n                if (filtered.length == 1 && filtered[0].value == prefix\n                    && !filtered[0].snippet)\n                    return this.detach();\n                if (this.autoInsert && !this.autoShown && filtered.length == 1)\n                    return this.insertMatch(filtered[0]);\n            }\n            this.completions = !finished && this.showLoadingState ?\n                new FilteredList(Autocomplete.completionsForLoading.concat(filtered), completions.filterText) :\n                completions;\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            this.popup.renderer.setStyle(\"ace_empty-message\", false);\n            this.popup.renderer.setStyle(\"ace_loading\", !finished);\n        }.bind(this));\n        if (this.showLoadingState && !this.autoShown && !(this.popup && this.popup.isOpen)) {\n            this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);\n        }\n    };\n    Autocomplete.prototype.cancelContextMenu = function () {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n    Autocomplete.prototype.updateDocTooltip = function () {\n        var popup = this.popup;\n        var all = this.completions.filtered;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        var completersLength = this.editor.completers.length;\n        for (var i = 0; i < completersLength; i++) {\n            var completer = this.editor.completers[i];\n            if (completer.getDocTooltip && selected.completerId === completer.id) {\n                doc = completer.getDocTooltip(selected);\n                break;\n            }\n        }\n        if (!doc && typeof selected != \"string\")\n            doc = selected;\n        if (typeof doc == \"string\")\n            doc = { docText: doc };\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n    Autocomplete.prototype.showDocTooltip = function (item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.style.margin = \"0\";\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.style.overscrollBehavior = \"contain\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n            this.tooltipNode.id = \"doc-tooltip\";\n            this.tooltipNode.setAttribute(\"role\", \"tooltip\");\n            this.tooltipNode.addEventListener(\"wheel\", preventParentScroll);\n        }\n        var theme = this.editor.renderer.theme;\n        this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip \" +\n            (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        }\n        else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n        if (!tooltipNode.parentNode)\n            this.popup.container.appendChild(this.tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        tooltipNode.style.top = popup.container.style.top;\n        tooltipNode.style.bottom = popup.container.style.bottom;\n        tooltipNode.style.display = \"block\";\n        if (window.innerWidth - rect.right < 320) {\n            if (rect.left < 320) {\n                if (popup.isTopdown) {\n                    tooltipNode.style.top = rect.bottom + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n                else {\n                    tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n            }\n            else {\n                tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n                tooltipNode.style.left = \"\";\n            }\n        }\n        else {\n            tooltipNode.style.left = (rect.right + 1) + \"px\";\n            tooltipNode.style.right = \"\";\n        }\n    };\n    Autocomplete.prototype.hideDocTooltip = function () {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode)\n            return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n    Autocomplete.prototype.onTooltipClick = function (e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n    Autocomplete.prototype.destroy = function () {\n        this.detach();\n        if (this.popup) {\n            this.popup.destroy();\n            var el = this.popup.container;\n            if (el && el.parentNode)\n                el.parentNode.removeChild(el);\n        }\n        if (this.editor && this.editor.completer == this) {\n            this.editor.off(\"destroy\", destroyCompleter);\n            this.editor.completer = null;\n        }\n        this.inlineRenderer = this.popup = this.editor = null;\n    };\n    return Autocomplete;\n}());\nAutocomplete.prototype.commands = {\n    \"Up\": function (editor) { editor.completer.goTo(\"up\"); },\n    \"Down\": function (editor) { editor.completer.goTo(\"down\"); },\n    \"Ctrl-Up|Ctrl-Home\": function (editor) { editor.completer.goTo(\"start\"); },\n    \"Ctrl-Down|Ctrl-End\": function (editor) { editor.completer.goTo(\"end\"); },\n    \"Esc\": function (editor) { editor.completer.detach(); },\n    \"Return\": function (editor) { return editor.completer.insertMatch(); },\n    \"Shift-Return\": function (editor) { editor.completer.insertMatch(null, { deleteSuffix: true }); },\n    \"Tab\": function (editor) {\n        var result = editor.completer.insertMatch();\n        if (!result && !editor.tabstopManager)\n            editor.completer.goTo(\"down\");\n        else\n            return result;\n    },\n    \"Backspace\": function (editor) {\n        editor.execCommand(\"backspace\");\n        var prefix = util.getCompletionPrefix(editor);\n        if (!prefix && editor.completer)\n            editor.completer.detach();\n    },\n    \"PageUp\": function (editor) { editor.completer.popup.gotoPageUp(); },\n    \"PageDown\": function (editor) { editor.completer.popup.gotoPageDown(); }\n};\nAutocomplete.for = function (editor) {\n    if (editor.completer instanceof Autocomplete) {\n        return editor.completer;\n    }\n    if (editor.completer) {\n        editor.completer.destroy();\n        editor.completer = null;\n    }\n    if (config.get(\"sharedPopups\")) {\n        if (!Autocomplete[\"$sharedInstance\"])\n            Autocomplete[\"$sharedInstance\"] = new Autocomplete();\n        editor.completer = Autocomplete[\"$sharedInstance\"];\n    }\n    else {\n        editor.completer = new Autocomplete();\n        editor.once(\"destroy\", destroyCompleter);\n    }\n    return editor.completer;\n};\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n        var completer = Autocomplete.for(editor);\n        completer.autoInsert = false;\n        completer.autoSelect = true;\n        completer.autoShown = false;\n        completer.showPopup(editor, options);\n        completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\nvar CompletionProvider = /** @class */ (function () {\n    function CompletionProvider(initialPosition) {\n        this.initialPosition = initialPosition;\n        this.active = true;\n    }\n    CompletionProvider.prototype.insertByIndex = function (editor, index, options) {\n        if (!this.completions || !this.completions.filtered) {\n            return false;\n        }\n        return this.insertMatch(editor, this.completions.filtered[index], options);\n    };\n    CompletionProvider.prototype.insertMatch = function (editor, data, options) {\n        if (!data)\n            return false;\n        editor.startOperation({ command: { name: \"insertMatch\" } });\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(editor, data);\n        }\n        else {\n            if (!this.completions)\n                return false;\n            var replaceBefore = this.completions.filterText.length;\n            var replaceAfter = 0;\n            if (data.range && data.range.start.row === data.range.end.row) {\n                replaceBefore -= this.initialPosition.prefix.length;\n                replaceBefore += this.initialPosition.pos.column - data.range.start.column;\n                replaceAfter += data.range.end.column - this.initialPosition.pos.column;\n            }\n            if (replaceBefore || replaceAfter) {\n                var ranges;\n                if (editor.selection.getAllRanges) {\n                    ranges = editor.selection.getAllRanges();\n                }\n                else {\n                    ranges = [editor.getSelectionRange()];\n                }\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= replaceBefore;\n                    range.end.column += replaceAfter;\n                    editor.session.remove(range);\n                }\n            }\n            if (data.snippet) {\n                snippetManager.insertSnippet(editor, data.snippet);\n            }\n            else {\n                this.$insertString(editor, data);\n            }\n            if (data.completer && data.completer.onInsert && typeof data.completer.onInsert == \"function\") {\n                data.completer.onInsert(editor, data);\n            }\n            if (data.command && data.command === \"startAutocomplete\") {\n                editor.execCommand(data.command);\n            }\n        }\n        editor.endOperation();\n        return true;\n    };\n    CompletionProvider.prototype.$insertString = function (editor, data) {\n        var text = data.value || data;\n        editor.execCommand(\"insertstring\", text);\n    };\n    CompletionProvider.prototype.gatherCompletions = function (editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(editor);\n        var matches = [];\n        this.completers = editor.completers;\n        var total = editor.completers.length;\n        editor.completers.forEach(function (completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n                if (completer.hideInlinePreview)\n                    results = results.map(function (result) {\n                        return Object.assign(result, { hideInlinePreview: completer.hideInlinePreview });\n                    });\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n    CompletionProvider.prototype.provideCompletions = function (editor, options, callback) {\n        var processResults = function (results) {\n            var prefix = results.prefix;\n            var matches = results.matches;\n            this.completions = new FilteredList(matches);\n            if (options.exactMatch)\n                this.completions.exactMatch = true;\n            if (options.ignoreCaption)\n                this.completions.ignoreCaption = true;\n            this.completions.setFilter(prefix);\n            if (results.finished || this.completions.filtered.length)\n                callback(null, this.completions, results.finished);\n        }.bind(this);\n        var isImmediate = true;\n        var immediateResults = null;\n        this.gatherCompletions(editor, function (err, results) {\n            if (!this.active) {\n                return;\n            }\n            if (err) {\n                callback(err, [], true);\n                this.detach();\n            }\n            var prefix = results.prefix;\n            if (prefix.indexOf(results.prefix) !== 0)\n                return;\n            if (isImmediate) {\n                immediateResults = results;\n                return;\n            }\n            processResults(results);\n        }.bind(this));\n        isImmediate = false;\n        if (immediateResults) {\n            var results = immediateResults;\n            immediateResults = null;\n            processResults(results);\n        }\n    };\n    CompletionProvider.prototype.detach = function () {\n        this.active = false;\n        this.completers && this.completers.forEach(function (completer) {\n            if (typeof completer.cancel === \"function\") {\n                completer.cancel();\n            }\n        });\n    };\n    return CompletionProvider;\n}());\nvar FilteredList = /** @class */ (function () {\n    function FilteredList(array, filterText) {\n        this.all = array;\n        this.filtered = array;\n        this.filterText = filterText || \"\";\n        this.exactMatch = false;\n        this.ignoreCaption = false;\n    }\n    FilteredList.prototype.setFilter = function (str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function (a, b) {\n            return b.exactMatch - a.exactMatch || b.$score - a.$score\n                || (a.caption || a.value).localeCompare(b.caption || b.value);\n        });\n        var prev = null;\n        matches = matches.filter(function (item) {\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev)\n                return false;\n            prev = caption;\n            return true;\n        });\n        this.filtered = matches;\n    };\n    FilteredList.prototype.filterCompletions = function (items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            var caption = (!this.ignoreCaption && item.caption) || item.value || item.snippet;\n            if (!caption)\n                continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            }\n            else {\n                var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n                if (fullMatchIndex > -1) {\n                    penalty = fullMatchIndex;\n                }\n                else {\n                    for (var j = 0; j < needle.length; j++) {\n                        var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                        var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                        index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                        if (index < 0)\n                            continue loop;\n                        distance = index - lastIndex - 1;\n                        if (distance > 0) {\n                            if (lastIndex === -1)\n                                penalty += 10;\n                            penalty += distance;\n                            matchMask = matchMask | (1 << j);\n                        }\n                        lastIndex = index;\n                    }\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.$score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n    return FilteredList;\n}());\nexports.Autocomplete = Autocomplete;\nexports.CompletionProvider = CompletionProvider;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/ext/menu_tools/settings_menu.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \"#ace_settingsmenu, #kbshortcutmenu {\\n    background-color: #F7F7F7;\\n    color: black;\\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\\n    padding: 1em 0.5em 2em 1em;\\n    overflow: auto;\\n    position: absolute;\\n    margin: 0;\\n    bottom: 0;\\n    right: 0;\\n    top: 0;\\n    z-index: 9991;\\n    cursor: default;\\n}\\n\\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\\n    background-color: rgba(255, 255, 255, 0.6);\\n    color: black;\\n}\\n\\n.ace_optionsMenuEntry:hover {\\n    background-color: rgba(100, 100, 100, 0.1);\\n    transition: all 0.3s\\n}\\n\\n.ace_closeButton {\\n    background: rgba(245, 146, 146, 0.5);\\n    border: 1px solid #F48A8A;\\n    border-radius: 50%;\\n    padding: 7px;\\n    position: absolute;\\n    right: -8px;\\n    top: -8px;\\n    z-index: 100000;\\n}\\n.ace_closeButton{\\n    background: rgba(245, 146, 146, 0.9);\\n}\\n.ace_optionsMenuKey {\\n    color: darkslateblue;\\n    font-weight: bold;\\n}\\n.ace_optionsMenuCommand {\\n    color: darkcyan;\\n    font-weight: normal;\\n}\\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\\n    vertical-align: middle;\\n}\\n\\n.ace_optionsMenuEntry button[ace_selected_button=true] {\\n    background: #e7e7e7;\\n    box-shadow: 1px 0px 2px 0px #adadad inset;\\n    border-color: #adadad;\\n}\\n.ace_optionsMenuEntry button {\\n    background: white;\\n    border: 1px solid lightgray;\\n    margin: 0px;\\n}\\n.ace_optionsMenuEntry button:hover{\\n    background: #f0f0f0;\\n}\";\n\n});\n\nace.define(\"ace/ext/menu_tools/overlay_page\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/ext/menu_tools/settings_menu.css\"], function(require, exports, module){/*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n'use strict';\nvar dom = require(\"../../lib/dom\");\nvar cssText = require(\"./settings_menu.css\");\ndom.importCssString(cssText, \"settings_menu.css\", false);\nmodule.exports.overlayPage = function overlayPage(editor, contentElement, callback) {\n    var closer = document.createElement('div');\n    var ignoreFocusOut = false;\n    function documentEscListener(e) {\n        if (e.keyCode === 27) {\n            close();\n        }\n    }\n    function close() {\n        if (!closer)\n            return;\n        document.removeEventListener('keydown', documentEscListener);\n        closer.parentNode.removeChild(closer);\n        if (editor) {\n            editor.focus();\n        }\n        closer = null;\n        callback && callback();\n    }\n    function setIgnoreFocusOut(ignore) {\n        ignoreFocusOut = ignore;\n        if (ignore) {\n            closer.style.pointerEvents = \"none\";\n            contentElement.style.pointerEvents = \"auto\";\n        }\n    }\n    closer.style.cssText = 'margin: 0; padding: 0; ' +\n        'position: fixed; top:0; bottom:0; left:0; right:0;' +\n        'z-index: 9990; ' +\n        (editor ? 'background-color: rgba(0, 0, 0, 0.3);' : '');\n    closer.addEventListener('click', function (e) {\n        if (!ignoreFocusOut) {\n            close();\n        }\n    });\n    document.addEventListener('keydown', documentEscListener);\n    contentElement.addEventListener('click', function (e) {\n        e.stopPropagation();\n    });\n    closer.appendChild(contentElement);\n    document.body.appendChild(closer);\n    if (editor) {\n        editor.blur();\n    }\n    return {\n        close: close,\n        setIgnoreFocusOut: setIgnoreFocusOut\n    };\n};\n\n});\n\nace.define(\"ace/ext/modelist\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar modes = [];\nfunction getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n        if (modes[i].supportsFile(fileName)) {\n            mode = modes[i];\n            break;\n        }\n    }\n    return mode;\n}\nvar Mode = /** @class */ (function () {\n    function Mode(name, caption, extensions) {\n        this.name = name;\n        this.caption = caption;\n        this.mode = \"ace/mode/\" + name;\n        this.extensions = extensions;\n        var re;\n        if (/\\^/.test(extensions)) {\n            re = extensions.replace(/\\|(\\^)?/g, function (a, b) {\n                return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n            }) + \"$\";\n        }\n        else {\n            re = \"^.*\\\\.(\" + extensions + \")$\";\n        }\n        this.extRe = new RegExp(re, \"gi\");\n    }\n    Mode.prototype.supportsFile = function (filename) {\n        return filename.match(this.extRe);\n    };\n    return Mode;\n}());\nvar supportedModes = {\n    ABAP: [\"abap\"],\n    ABC: [\"abc\"],\n    ActionScript: [\"as\"],\n    ADA: [\"ada|adb\"],\n    Alda: [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex: [\"apex|cls|trigger|tgr\"],\n    AQL: [\"aql\"],\n    AsciiDoc: [\"asciidoc|adoc\"],\n    ASL: [\"dsl|asl|asl.json\"],\n    Assembly_ARM32: [\"s\"],\n    Assembly_x86: [\"asm|a\"],\n    Astro: [\"astro\"],\n    AutoHotKey: [\"ahk\"],\n    BatchFile: [\"bat|cmd\"],\n    BibTeX: [\"bib\"],\n    C_Cpp: [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search: [\"c9search_results\"],\n    Cirru: [\"cirru|cr\"],\n    Clojure: [\"clj|cljs\"],\n    Cobol: [\"CBL|COB\"],\n    coffee: [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion: [\"cfm|cfc\"],\n    Crystal: [\"cr\"],\n    CSharp: [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS: [\"css\"],\n    Curly: [\"curly\"],\n    Cuttlefish: [\"conf\"],\n    D: [\"d|di\"],\n    Dart: [\"dart\"],\n    Diff: [\"diff|patch\"],\n    Django: [\"djt|html.djt|dj.html|djhtml\"],\n    Dockerfile: [\"^Dockerfile\"],\n    Dot: [\"dot\"],\n    Drools: [\"drl\"],\n    Edifact: [\"edi\"],\n    Eiffel: [\"e|ge\"],\n    EJS: [\"ejs\"],\n    Elixir: [\"ex|exs\"],\n    Elm: [\"elm\"],\n    Erlang: [\"erl|hrl\"],\n    Flix: [\"flix\"],\n    Forth: [\"frt|fs|ldr|fth|4th\"],\n    Fortran: [\"f|f90\"],\n    FSharp: [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL: [\"fsl\"],\n    FTL: [\"ftl\"],\n    Gcode: [\"gcode\"],\n    Gherkin: [\"feature\"],\n    Gitignore: [\"^.gitignore\"],\n    Glsl: [\"glsl|frag|vert\"],\n    Gobstones: [\"gbs\"],\n    golang: [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy: [\"groovy\"],\n    HAML: [\"haml\"],\n    Handlebars: [\"hbs|handlebars|tpl|mustache\"],\n    Haskell: [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe: [\"hx\"],\n    Hjson: [\"hjson\"],\n    HTML: [\"html|htm|xhtml|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby: [\"erb|rhtml|html.erb\"],\n    INI: [\"ini|conf|cfg|prefs\"],\n    Io: [\"io\"],\n    Ion: [\"ion\"],\n    Jack: [\"jack\"],\n    Jade: [\"jade|pug\"],\n    Java: [\"java\"],\n    JavaScript: [\"js|jsm|cjs|mjs\"],\n    JEXL: [\"jexl\"],\n    JSON: [\"json\"],\n    JSON5: [\"json5\"],\n    JSONiq: [\"jq\"],\n    JSP: [\"jsp\"],\n    JSSM: [\"jssm|jssm_state\"],\n    JSX: [\"jsx\"],\n    Julia: [\"jl\"],\n    Kotlin: [\"kt|kts\"],\n    LaTeX: [\"tex|latex|ltx|bib\"],\n    Latte: [\"latte\"],\n    LESS: [\"less\"],\n    Liquid: [\"liquid\"],\n    Lisp: [\"lisp\"],\n    LiveScript: [\"ls\"],\n    Log: [\"log\"],\n    LogiQL: [\"logic|lql\"],\n    Logtalk: [\"lgt\"],\n    LSL: [\"lsl\"],\n    Lua: [\"lua\"],\n    LuaPage: [\"lp\"],\n    Lucene: [\"lucene\"],\n    Makefile: [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown: [\"md|markdown\"],\n    Mask: [\"mask\"],\n    MATLAB: [\"matlab\"],\n    Maze: [\"mz\"],\n    MediaWiki: [\"wiki|mediawiki\"],\n    MEL: [\"mel\"],\n    MIPS: [\"s|asm\"],\n    MIXAL: [\"mixal\"],\n    MUSHCode: [\"mc|mush\"],\n    MySQL: [\"mysql\"],\n    Nasal: [\"nas\"],\n    Nginx: [\"nginx|conf\"],\n    Nim: [\"nim\"],\n    Nix: [\"nix\"],\n    NSIS: [\"nsi|nsh\"],\n    Nunjucks: [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC: [\"m|mm\"],\n    OCaml: [\"ml|mli\"],\n    Odin: [\"odin\"],\n    PartiQL: [\"partiql|pql\"],\n    Pascal: [\"pas|p\"],\n    Perl: [\"pl|pm\"],\n    pgSQL: [\"pgsql\"],\n    PHP: [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    Pig: [\"pig\"],\n    PLSQL: [\"plsql\"],\n    Powershell: [\"ps1\"],\n    Praat: [\"praat|praatscript|psc|proc\"],\n    Prisma: [\"prisma\"],\n    Prolog: [\"plg|prolog\"],\n    Properties: [\"properties\"],\n    Protobuf: [\"proto\"],\n    PRQL: [\"prql\"],\n    Puppet: [\"epp|pp\"],\n    Python: [\"py\"],\n    QML: [\"qml\"],\n    R: [\"r\"],\n    Raku: [\"raku|rakumod|rakutest|p6|pl6|pm6\"],\n    Razor: [\"cshtml|asp\"],\n    RDoc: [\"Rd\"],\n    Red: [\"red|reds\"],\n    RHTML: [\"Rhtml\"],\n    Robot: [\"robot|resource\"],\n    RST: [\"rst\"],\n    Ruby: [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust: [\"rs\"],\n    SaC: [\"sac\"],\n    SASS: [\"sass\"],\n    SCAD: [\"scad\"],\n    Scala: [\"scala|sbt\"],\n    Scheme: [\"scm|sm|rkt|oak|scheme\"],\n    Scrypt: [\"scrypt\"],\n    SCSS: [\"scss\"],\n    SH: [\"sh|bash|^.bashrc\"],\n    SJS: [\"sjs\"],\n    Slim: [\"slim|skim\"],\n    Smarty: [\"smarty|tpl\"],\n    Smithy: [\"smithy\"],\n    snippets: [\"snippets\"],\n    Soy_Template: [\"soy\"],\n    Space: [\"space\"],\n    SPARQL: [\"rq\"],\n    SQL: [\"sql\"],\n    SQLServer: [\"sqlserver\"],\n    Stylus: [\"styl|stylus\"],\n    SVG: [\"svg\"],\n    Swift: [\"swift\"],\n    Tcl: [\"tcl\"],\n    Terraform: [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex: [\"tex\"],\n    Text: [\"txt\"],\n    Textile: [\"textile\"],\n    Toml: [\"toml\"],\n    TSX: [\"tsx\"],\n    Turtle: [\"ttl\"],\n    Twig: [\"twig|swig\"],\n    Typescript: [\"ts|mts|cts|typescript|str\"],\n    Vala: [\"vala\"],\n    VBScript: [\"vbs|vb\"],\n    Velocity: [\"vm\"],\n    Verilog: [\"v|vh|sv|svh\"],\n    VHDL: [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Vue: [\"vue\"],\n    Wollok: [\"wlk|wpgm|wtest\"],\n    XML: [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery: [\"xq\"],\n    YAML: [\"yaml|yml\"],\n    Zeek: [\"zeek|bro\"],\n    Zig: [\"zig\"]\n};\nvar nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n};\nvar modesByName = {};\nfor (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n}\nmodule.exports = {\n    getModeForPath: getModeForPath,\n    modes: modes,\n    modesByName: modesByName\n};\n\n});\n\nace.define(\"ace/ext/prompt\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/range\",\"ace/lib/dom\",\"ace/autocomplete\",\"ace/autocomplete/popup\",\"ace/autocomplete/popup\",\"ace/undomanager\",\"ace/tokenizer\",\"ace/ext/menu_tools/overlay_page\",\"ace/ext/modelist\"], function(require, exports, module){/**\n * @typedef {import(\"../editor\").Editor} Editor\n */\n\"use strict\";\nvar nls = require(\"../config\").nls;\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar FilteredList = require(\"../autocomplete\").FilteredList;\nvar AcePopup = require('../autocomplete/popup').AcePopup;\nvar $singleLineEditor = require('../autocomplete/popup').$singleLineEditor;\nvar UndoManager = require(\"../undomanager\").UndoManager;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar overlayPage = require(\"./menu_tools/overlay_page\").overlayPage;\nvar modelist = require(\"./modelist\");\nvar openPrompt;\nfunction prompt(editor, message, options, callback) {\n    if (typeof message == \"object\") {\n        return prompt(editor, \"\", message, options);\n    }\n    if (openPrompt) {\n        var lastPrompt = openPrompt;\n        editor = lastPrompt.editor;\n        lastPrompt.close();\n        if (lastPrompt.name && lastPrompt.name == options.name)\n            return;\n    }\n    if (options.$type)\n        return prompt[options.$type](editor, callback);\n    var cmdLine = $singleLineEditor();\n    cmdLine.session.setUndoManager(new UndoManager());\n    var el = dom.buildDom([\"div\", { class: \"ace_prompt_container\" + (options.hasDescription ? \" input-box-with-description\" : \"\") }]);\n    var overlay = overlayPage(editor, el, done);\n    el.appendChild(cmdLine.container);\n    if (editor) {\n        editor.cmdLine = cmdLine;\n        cmdLine.setOption(\"fontSize\", editor.getOption(\"fontSize\"));\n    }\n    if (message) {\n        cmdLine.setValue(message, 1);\n    }\n    if (options.selection) {\n        cmdLine.selection.setRange({\n            start: cmdLine.session.doc.indexToPosition(options.selection[0]),\n            end: cmdLine.session.doc.indexToPosition(options.selection[1])\n        });\n    }\n    if (options.getCompletions) {\n        var popup = new AcePopup();\n        popup.renderer.setStyle(\"ace_autocomplete_inline\");\n        popup.container.style.display = \"block\";\n        popup.container.style.maxWidth = \"600px\";\n        popup.container.style.width = \"100%\";\n        popup.container.style.marginTop = \"3px\";\n        popup.renderer.setScrollMargin(2, 2, 0, 0);\n        popup.autoSelect = false;\n        popup.renderer.$maxLines = 15;\n        popup.setRow(-1);\n        popup.on(\"click\", function (e) {\n            var data = popup.getData(popup.getRow());\n            if (!data[\"error\"]) {\n                cmdLine.setValue(data.value || data[\"name\"] || data);\n                accept();\n                e.stop();\n            }\n        });\n        el.appendChild(popup.container);\n        updateCompletions();\n    }\n    if (options.$rules) {\n        var tokenizer = new Tokenizer(options.$rules);\n        cmdLine.session.bgTokenizer.setTokenizer(tokenizer);\n    }\n    if (options.placeholder) {\n        cmdLine.setOption(\"placeholder\", options.placeholder);\n    }\n    if (options.hasDescription) {\n        var promptTextContainer = dom.buildDom([\"div\", { class: \"ace_prompt_text_container\" }]);\n        dom.buildDom(options.prompt || \"Press 'Enter' to confirm or 'Escape' to cancel\", promptTextContainer);\n        el.appendChild(promptTextContainer);\n    }\n    overlay.setIgnoreFocusOut(options.ignoreFocusOut);\n    function accept() {\n        var val;\n        if (popup && popup.getCursorPosition().row > 0) {\n            val = valueFromRecentList();\n        }\n        else {\n            val = cmdLine.getValue();\n        }\n        var curData = popup ? popup.getData(popup.getRow()) : val;\n        if (curData && !curData[\"error\"]) {\n            done();\n            options.onAccept && options.onAccept({\n                value: val,\n                item: curData\n            }, cmdLine);\n        }\n    }\n    var keys = {\n        \"Enter\": accept,\n        \"Esc|Shift-Esc\": function () {\n            options.onCancel && options.onCancel(cmdLine.getValue(), cmdLine);\n            done();\n        }\n    };\n    if (popup) {\n        Object.assign(keys, {\n            \"Up\": function (editor) { popup.goTo(\"up\"); valueFromRecentList(); },\n            \"Down\": function (editor) { popup.goTo(\"down\"); valueFromRecentList(); },\n            \"Ctrl-Up|Ctrl-Home\": function (editor) { popup.goTo(\"start\"); valueFromRecentList(); },\n            \"Ctrl-Down|Ctrl-End\": function (editor) { popup.goTo(\"end\"); valueFromRecentList(); },\n            \"Tab\": function (editor) { \n                popup.goTo(\"down\"); \n                valueFromRecentList(); \n            },\n            \"PageUp\": function (editor) { popup.gotoPageUp(); valueFromRecentList(); },\n            \"PageDown\": function (editor) { popup.gotoPageDown(); valueFromRecentList(); }\n        });\n    }\n    cmdLine.commands.bindKeys(keys);\n    function done() {\n        overlay.close();\n        callback && callback();\n        openPrompt = null;\n    }\n    cmdLine.on(\"input\", function () {\n        options.onInput && options.onInput();\n        updateCompletions();\n    });\n    function updateCompletions() {\n        if (options.getCompletions) {\n            var prefix;\n            if (options.getPrefix) {\n                prefix = options.getPrefix(cmdLine);\n            }\n            var completions = options.getCompletions(cmdLine);\n            popup.setData(completions, prefix);\n            popup.resize(true);\n        }\n    }\n    function valueFromRecentList() {\n        var current = popup.getData(popup.getRow());\n        if (current && !current[\"error\"])\n            return current.value || current.caption || current;\n    }\n    cmdLine.resize(true);\n    if (popup) {\n        popup.resize(true);\n    }\n    cmdLine.focus();\n    openPrompt = {\n        close: done,\n        name: options.name,\n        editor: editor\n    };\n}\nprompt.gotoLine = function (editor, callback) {\n    function stringifySelection(selection) {\n        if (!Array.isArray(selection))\n            selection = [selection];\n        return selection.map(function (r) {\n            var cursor = r.isBackwards ? r.start : r.end;\n            var anchor = r.isBackwards ? r.end : r.start;\n            var row = anchor.row;\n            var s = (row + 1) + \":\" + anchor.column;\n            if (anchor.row == cursor.row) {\n                if (anchor.column != cursor.column)\n                    s += \">\" + \":\" + cursor.column;\n            }\n            else {\n                s += \">\" + (cursor.row + 1) + \":\" + cursor.column;\n            }\n            return s;\n        }).reverse().join(\", \");\n    }\n    prompt(editor, \":\" + stringifySelection(editor.selection.toJSON()), {\n        name: \"gotoLine\",\n        selection: [1, Number.MAX_VALUE],\n        onAccept: function (data) {\n            var value = data.value;\n            var _history = prompt.gotoLine[\"_history\"];\n            if (!_history)\n                prompt.gotoLine[\"_history\"] = _history = [];\n            if (_history.indexOf(value) != -1)\n                _history.splice(_history.indexOf(value), 1);\n            _history.unshift(value);\n            if (_history.length > 20)\n                _history.length = 20;\n            var pos = editor.getCursorPosition();\n            var ranges = [];\n            value.replace(/^:/, \"\").split(/,/).map(function (str) {\n                var parts = str.split(/([<>:+-]|c?\\d+)|[^c\\d<>:+-]+/).filter(Boolean);\n                var i = 0;\n                function readPosition() {\n                    var c = parts[i++];\n                    if (!c)\n                        return;\n                    if (c[0] == \"c\") {\n                        var index = parseInt(c.slice(1)) || 0;\n                        return editor.session.doc.indexToPosition(index);\n                    }\n                    var row = pos.row;\n                    var column = 0;\n                    if (/\\d/.test(c)) {\n                        row = parseInt(c) - 1;\n                        c = parts[i++];\n                    }\n                    if (c == \":\") {\n                        c = parts[i++];\n                        if (/\\d/.test(c)) {\n                            column = parseInt(c) || 0;\n                        }\n                    }\n                    return { row: row, column: column };\n                }\n                pos = readPosition();\n                var range = Range.fromPoints(pos, pos);\n                if (parts[i] == \">\") {\n                    i++;\n                    range.end = readPosition();\n                }\n                else if (parts[i] == \"<\") {\n                    i++;\n                    range.start = readPosition();\n                }\n                ranges.unshift(range);\n            });\n            editor.selection.fromJSON(ranges);\n            var scrollTop = editor.renderer.scrollTop;\n            editor.renderer.scrollSelectionIntoView(editor.selection.anchor, editor.selection.cursor, 0.5);\n            editor.renderer.animateScrolling(scrollTop);\n        },\n        history: function () {\n            if (!prompt.gotoLine[\"_history\"])\n                return [];\n            return prompt.gotoLine[\"_history\"];\n        },\n        getCompletions: function (cmdLine) {\n            var value = cmdLine.getValue();\n            var m = value.replace(/^:/, \"\").split(\":\");\n            var row = Math.min(parseInt(m[0]) || 1, editor.session.getLength()) - 1;\n            var line = editor.session.getLine(row);\n            var current = value + \"  \" + line;\n            return [current].concat(this.history());\n        },\n        $rules: {\n            start: [{\n                    regex: /\\d+/,\n                    token: \"string\"\n                }, {\n                    regex: /[:,><+\\-c]/,\n                    token: \"keyword\"\n                }]\n        }\n    });\n};\nprompt.commands = function (editor, callback) {\n    function normalizeName(name) {\n        return (name || \"\").replace(/^./, function (x) {\n            return x.toUpperCase(x);\n        }).replace(/[a-z][A-Z]/g, function (x) {\n            return x[0] + \" \" + x[1].toLowerCase(x);\n        });\n    }\n    function getEditorCommandsByName(excludeCommands) {\n        var commandsByName = [];\n        var commandMap = {};\n        editor.keyBinding.$handlers.forEach(function (handler) {\n            var platform = handler[\"platform\"];\n            var cbn = handler[\"byName\"];\n            for (var i in cbn) {\n                var key = cbn[i].bindKey;\n                if (typeof key !== \"string\") {\n                    key = key && key[platform] || \"\";\n                }\n                var commands = cbn[i];\n                var description = commands.description || normalizeName(commands.name);\n                if (!Array.isArray(commands))\n                    commands = [commands];\n                commands.forEach(function (command) {\n                    if (typeof command != \"string\")\n                        command = command.name;\n                    var needle = excludeCommands.find(function (el) {\n                        return el === command;\n                    });\n                    if (!needle) {\n                        if (commandMap[command]) {\n                            commandMap[command].key += \"|\" + key;\n                        }\n                        else {\n                            commandMap[command] = { key: key, command: command, description: description };\n                            commandsByName.push(commandMap[command]);\n                        }\n                    }\n                });\n            }\n        });\n        return commandsByName;\n    }\n    var excludeCommandsList = [\"insertstring\", \"inserttext\", \"setIndentation\", \"paste\"];\n    var shortcutsArray = getEditorCommandsByName(excludeCommandsList);\n    shortcutsArray = shortcutsArray.map(function (item) {\n        return { value: item.description, meta: item.key, command: item.command };\n    });\n    prompt(editor, \"\", {\n        name: \"commands\",\n        selection: [0, Number.MAX_VALUE],\n        maxHistoryCount: 5,\n        onAccept: function (data) {\n            if (data.item) {\n                var commandName = data.item.command;\n                this.addToHistory(data.item);\n                editor.execCommand(commandName);\n            }\n        },\n        addToHistory: function (item) {\n            var history = this.history();\n            history.unshift(item);\n            delete item.message;\n            for (var i = 1; i < history.length; i++) {\n                if (history[i][\"command\"] == item.command) {\n                    history.splice(i, 1);\n                    break;\n                }\n            }\n            if (this.maxHistoryCount > 0 && history.length > this.maxHistoryCount) {\n                history.splice(history.length - 1, 1);\n            }\n            prompt.commands[\"history\"] = history;\n        },\n        history: function () {\n            return prompt.commands[\"history\"] || [];\n        },\n        getPrefix: function (cmdLine) {\n            var currentPos = cmdLine.getCursorPosition();\n            var filterValue = cmdLine.getValue();\n            return filterValue.substring(0, currentPos.column);\n        },\n        getCompletions: function (cmdLine) {\n            function getFilteredCompletions(commands, prefix) {\n                var resultCommands = JSON.parse(JSON.stringify(commands));\n                var filtered = new FilteredList(resultCommands);\n                return filtered.filterCompletions(resultCommands, prefix);\n            }\n            function getUniqueCommandList(commands, usedCommands) {\n                if (!usedCommands || !usedCommands.length) {\n                    return commands;\n                }\n                var excludeCommands = [];\n                usedCommands.forEach(function (item) {\n                    excludeCommands.push(item.command);\n                });\n                var resultCommands = [];\n                commands.forEach(function (item) {\n                    if (excludeCommands.indexOf(item.command) === -1) {\n                        resultCommands.push(item);\n                    }\n                });\n                return resultCommands;\n            }\n            var prefix = this.getPrefix(cmdLine);\n            var recentlyUsedCommands = getFilteredCompletions(this.history(), prefix);\n            var otherCommands = getUniqueCommandList(shortcutsArray, recentlyUsedCommands);\n            otherCommands = getFilteredCompletions(otherCommands, prefix);\n            if (recentlyUsedCommands.length && otherCommands.length) {\n                recentlyUsedCommands[0].message = nls(\"prompt.recently-used\", \"Recently used\");\n                otherCommands[0].message = nls(\"prompt.other-commands\", \"Other commands\");\n            }\n            var completions = recentlyUsedCommands.concat(otherCommands);\n            return completions.length > 0 ? completions : [{\n                    value: nls(\"prompt.no-matching-commands\", \"No matching commands\"),\n                    error: 1\n                }];\n        }\n    });\n};\nprompt.modes = function (editor, callback) {\n    var modesArray = modelist.modes;\n    modesArray = modesArray.map(function (item) {\n        return { value: item.caption, mode: item.name };\n    });\n    prompt(editor, \"\", {\n        name: \"modes\",\n        selection: [0, Number.MAX_VALUE],\n        onAccept: function (data) {\n            if (data.item) {\n                var modeName = \"ace/mode/\" + data.item.mode;\n                editor.session.setMode(modeName);\n            }\n        },\n        getPrefix: function (cmdLine) {\n            var currentPos = cmdLine.getCursorPosition();\n            var filterValue = cmdLine.getValue();\n            return filterValue.substring(0, currentPos.column);\n        },\n        getCompletions: function (cmdLine) {\n            function getFilteredCompletions(modes, prefix) {\n                var resultCommands = JSON.parse(JSON.stringify(modes));\n                var filtered = new FilteredList(resultCommands);\n                return filtered.filterCompletions(resultCommands, prefix);\n            }\n            var prefix = this.getPrefix(cmdLine);\n            var completions = getFilteredCompletions(modesArray, prefix);\n            return completions.length > 0 ? completions : [{\n                    \"caption\": \"No mode matching\",\n                    \"value\": \"No mode matching\",\n                    \"error\": 1\n                }];\n        }\n    });\n};\ndom.importCssString(\".ace_prompt_container {\\n    max-width: 603px;\\n    width: 100%;\\n    margin: 20px auto;\\n    padding: 3px;\\n    background: white;\\n    border-radius: 2px;\\n    box-shadow: 0px 2px 3px 0px #555;\\n}\", \"promtp.css\", false);\nexports.prompt = prompt;\n\n});                (function() {\n                    ace.require([\"ace/ext/prompt\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}