{"ast":null,"code":"\"no use strict\";\n\n!function (window) {\n  if (typeof window.window != \"undefined\" && window.document) return;\n  if (window.require && window.define) return;\n  if (!window.console) {\n    window.console = function () {\n      var msgs = Array.prototype.slice.call(arguments, 0);\n      postMessage({\n        type: \"log\",\n        data: msgs\n      });\n    };\n    window.console.error = window.console.warn = window.console.log = window.console.trace = window.console;\n  }\n  window.window = window;\n  window.ace = window;\n  window.onerror = function (message, file, line, col, err) {\n    postMessage({\n      type: \"error\",\n      data: {\n        message: message,\n        data: err && err.data,\n        file: file,\n        line: line,\n        col: col,\n        stack: err && err.stack\n      }\n    });\n  };\n  window.normalizeModule = function (parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n      var chunks = moduleName.split(\"!\");\n      return window.normalizeModule(parentId, chunks[0]) + \"!\" + window.normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n      var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n      moduleName = (base ? base + \"/\" : \"\") + moduleName;\n      while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n        var previous = moduleName;\n        moduleName = moduleName.replace(/^\\.\\//, \"\").replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n      }\n    }\n    return moduleName;\n  };\n  window.require = function require(parentId, id) {\n    if (!id) {\n      id = parentId;\n      parentId = null;\n    }\n    if (!id.charAt) throw new Error(\"worker.js require() accepts only (parentId, id) as arguments\");\n    id = window.normalizeModule(parentId, id);\n    var module = window.require.modules[id];\n    if (module) {\n      if (!module.initialized) {\n        module.initialized = true;\n        module.exports = module.factory().exports;\n      }\n      return module.exports;\n    }\n    if (!window.require.tlns) return console.log(\"unable to load \" + id);\n    var path = resolveModuleId(id, window.require.tlns);\n    if (path.slice(-3) != \".js\") path += \".js\";\n    window.require.id = id;\n    window.require.modules[id] = {}; // prevent infinite loop on broken modules\n    importScripts(path);\n    return window.require(parentId, id);\n  };\n  function resolveModuleId(id, paths) {\n    var testPath = id,\n      tail = \"\";\n    while (testPath) {\n      var alias = paths[testPath];\n      if (typeof alias == \"string\") {\n        return alias + tail;\n      } else if (alias) {\n        return alias.location.replace(/\\/*$/, \"/\") + (tail || alias.main || alias.name);\n      } else if (alias === false) {\n        return \"\";\n      }\n      var i = testPath.lastIndexOf(\"/\");\n      if (i === -1) break;\n      tail = testPath.substr(i) + tail;\n      testPath = testPath.slice(0, i);\n    }\n    return id;\n  }\n  window.require.modules = {};\n  window.require.tlns = {};\n  window.define = function (id, deps, factory) {\n    if (arguments.length == 2) {\n      factory = deps;\n      if (typeof id != \"string\") {\n        deps = id;\n        id = window.require.id;\n      }\n    } else if (arguments.length == 1) {\n      factory = id;\n      deps = [];\n      id = window.require.id;\n    }\n    if (typeof factory != \"function\") {\n      window.require.modules[id] = {\n        exports: factory,\n        initialized: true\n      };\n      return;\n    }\n    if (!deps.length)\n      // If there is no dependencies, we inject \"require\", \"exports\" and\n      // \"module\" as dependencies, to provide CommonJS compatibility.\n      deps = [\"require\", \"exports\", \"module\"];\n    var req = function (childId) {\n      return window.require(id, childId);\n    };\n    window.require.modules[id] = {\n      exports: {},\n      factory: function () {\n        var module = this;\n        var returnExports = factory.apply(this, deps.slice(0, factory.length).map(function (dep) {\n          switch (dep) {\n            // Because \"require\", \"exports\" and \"module\" aren't actual\n            // dependencies, we must handle them seperately.\n            case \"require\":\n              return req;\n            case \"exports\":\n              return module.exports;\n            case \"module\":\n              return module;\n            // But for all other dependencies, we can just go ahead and\n            // require them.\n            default:\n              return req(dep);\n          }\n        }));\n        if (returnExports) module.exports = returnExports;\n        return module;\n      }\n    };\n  };\n  window.define.amd = {};\n  window.require.tlns = {};\n  window.initBaseUrls = function initBaseUrls(topLevelNamespaces) {\n    for (var i in topLevelNamespaces) this.require.tlns[i] = topLevelNamespaces[i];\n  };\n  window.initSender = function initSender() {\n    var EventEmitter = window.require(\"ace/lib/event_emitter\").EventEmitter;\n    var oop = window.require(\"ace/lib/oop\");\n    var Sender = function () {};\n    (function () {\n      oop.implement(this, EventEmitter);\n      this.callback = function (data, callbackId) {\n        postMessage({\n          type: \"call\",\n          id: callbackId,\n          data: data\n        });\n      };\n      this.emit = function (name, data) {\n        postMessage({\n          type: \"event\",\n          name: name,\n          data: data\n        });\n      };\n    }).call(Sender.prototype);\n    return new Sender();\n  };\n  var main = window.main = null;\n  var sender = window.sender = null;\n  window.onmessage = function (e) {\n    var msg = e.data;\n    if (msg.event && sender) {\n      sender._signal(msg.event, msg.data);\n    } else if (msg.command) {\n      if (main[msg.command]) main[msg.command].apply(main, msg.args);else if (window[msg.command]) window[msg.command].apply(window, msg.args);else throw new Error(\"Unknown command:\" + msg.command);\n    } else if (msg.init) {\n      window.initBaseUrls(msg.tlns);\n      sender = window.sender = window.initSender();\n      var clazz = this.require(msg.module)[msg.classname];\n      main = window.main = new clazz(sender);\n    }\n  };\n}(this);\nace.define(\"ace/lib/oop\", [], function (require, exports, module) {\n  \"use strict\";\n\n  exports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n  exports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n      obj[key] = mixin[key];\n    }\n    return obj;\n  };\n  exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  };\n});\nace.define(\"ace/lib/deep_copy\", [], function (require, exports, module) {\n  exports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj) return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; key < obj.length; key++) {\n        copy[key] = deepCopy(obj[key]);\n      }\n      return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\") return obj;\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy;\n  };\n});\nace.define(\"ace/lib/lang\", [], function (require, exports, module) {\n  \"use strict\";\n\n  exports.last = function (a) {\n    return a[a.length - 1];\n  };\n  exports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n  };\n  exports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n      if (count & 1) result += string;\n      if (count >>= 1) string += string;\n    }\n    return result;\n  };\n  var trimBeginRegexp = /^\\s\\s*/;\n  var trimEndRegexp = /\\s\\s*$/;\n  exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  };\n  exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  };\n  exports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n      copy[key] = obj[key];\n    }\n    return copy;\n  };\n  exports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n      if (array[i] && typeof array[i] == \"object\") copy[i] = this.copyObject(array[i]);else copy[i] = array[i];\n    }\n    return copy;\n  };\n  exports.deepCopy = require(\"./deep_copy\").deepCopy;\n  exports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n      map[arr[i]] = 1;\n    }\n    return map;\n  };\n  exports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n      map[i] = props[i];\n    }\n    return map;\n  };\n  exports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n      if (value === array[i]) {\n        array.splice(i, 1);\n      }\n    }\n  };\n  exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  };\n  exports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n  };\n  exports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n      matches.push({\n        offset: arguments[arguments.length - 2],\n        length: str.length\n      });\n    });\n    return matches;\n  };\n  exports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function () {\n      timer = null;\n      fcn();\n    };\n    var deferred = function (timeout) {\n      deferred.cancel();\n      timer = setTimeout(callback, timeout || 0);\n      return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n      this.cancel();\n      fcn();\n      return deferred;\n    };\n    deferred.cancel = function () {\n      clearTimeout(timer);\n      timer = null;\n      return deferred;\n    };\n    deferred.isPending = function () {\n      return timer;\n    };\n    return deferred;\n  };\n  exports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function () {\n      timer = null;\n      fcn();\n    };\n    var _self = function (timeout) {\n      if (timer == null) timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n      timer && clearTimeout(timer);\n      timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n      this.cancel();\n      fcn();\n    };\n    _self.cancel = function () {\n      timer && clearTimeout(timer);\n      timer = null;\n    };\n    _self.isPending = function () {\n      return timer;\n    };\n    return _self;\n  };\n  exports.supportsLookbehind = function () {\n    try {\n      new RegExp('(?<=.)');\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n  exports.skipEmptyMatch = function (line, last, supportsUnicodeFlag) {\n    return supportsUnicodeFlag && line.codePointAt(last) > 0xffff ? 2 : 1;\n  };\n});\nace.define(\"ace/apply_delta\", [], function (require, exports, module) {\n  \"use strict\";\n\n  function throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n  }\n  function positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length && position.column >= 0 && position.column <= docLines[position.row].length;\n  }\n  function validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\") throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array)) throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end) throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start)) throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end)) throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = end.column - (numRangeRows == 0 ? start.column : 0);\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars) throwDeltaError(delta, \"delta.range must match delta lines\");\n  }\n  exports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n      case \"insert\":\n        var lines = delta.lines;\n        if (lines.length === 1) {\n          docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n        } else {\n          var args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args);\n          docLines[row] = line.substring(0, startColumn) + docLines[row];\n          docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n        }\n        break;\n      case \"remove\":\n        var endColumn = delta.end.column;\n        var endRow = delta.end.row;\n        if (row === endRow) {\n          docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n        } else {\n          docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n        }\n        break;\n    }\n  };\n});\nace.define(\"ace/lib/event_emitter\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var EventEmitter = {};\n  var stopPropagation = function () {\n    this.propagationStopped = true;\n  };\n  var preventDefault = function () {\n    this.defaultPrevented = true;\n  };\n  EventEmitter._emit = EventEmitter._dispatchEvent = function (eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler) return;\n    if (typeof e != \"object\" || !e) e = {};\n    if (!e.type) e.type = eventName;\n    if (!e.stopPropagation) e.stopPropagation = stopPropagation;\n    if (!e.preventDefault) e.preventDefault = preventDefault;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](e, this);\n      if (e.propagationStopped) break;\n    }\n    if (defaultHandler && !e.defaultPrevented) return defaultHandler(e, this);\n  };\n  EventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners) return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++) listeners[i](e, this);\n  };\n  EventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n      _self.off(eventName, newCallback);\n      callback.apply(null, arguments);\n    });\n    if (!callback) {\n      return new Promise(function (resolve) {\n        callback = resolve;\n      });\n    }\n  };\n  EventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) handlers = this._defaultHandlers = {\n      _disabled_: {}\n    };\n    if (handlers[eventName]) {\n      var old = handlers[eventName];\n      var disabled = handlers._disabled_[eventName];\n      if (!disabled) handlers._disabled_[eventName] = disabled = [];\n      disabled.push(old);\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n  };\n  EventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n      if (disabled) this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n  };\n  EventEmitter.on = EventEmitter.addEventListener = function (eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) listeners = this._eventRegistry[eventName] = [];\n    if (listeners.indexOf(callback) == -1) listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n  };\n  EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) return;\n    var index = listeners.indexOf(callback);\n    if (index !== -1) listeners.splice(index, 1);\n  };\n  EventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n  };\n  exports.EventEmitter = EventEmitter;\n});\nace.define(\"ace/range\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = /** @class */function () {\n    function Range(startRow, startColumn, endRow, endColumn) {\n      this.start = {\n        row: startRow,\n        column: startColumn\n      };\n      this.end = {\n        row: endRow,\n        column: endColumn\n      };\n    }\n    Range.prototype.isEqual = function (range) {\n      return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;\n    };\n    Range.prototype.toString = function () {\n      return \"Range: [\" + this.start.row + \"/\" + this.start.column + \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\";\n    };\n    Range.prototype.contains = function (row, column) {\n      return this.compare(row, column) == 0;\n    };\n    Range.prototype.compareRange = function (range) {\n      var cmp,\n        end = range.end,\n        start = range.start;\n      cmp = this.compare(end.row, end.column);\n      if (cmp == 1) {\n        cmp = this.compare(start.row, start.column);\n        if (cmp == 1) {\n          return 2;\n        } else if (cmp == 0) {\n          return 1;\n        } else {\n          return 0;\n        }\n      } else if (cmp == -1) {\n        return -2;\n      } else {\n        cmp = this.compare(start.row, start.column);\n        if (cmp == -1) {\n          return -1;\n        } else if (cmp == 1) {\n          return 42;\n        } else {\n          return 0;\n        }\n      }\n    };\n    Range.prototype.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    };\n    Range.prototype.containsRange = function (range) {\n      return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    Range.prototype.intersects = function (range) {\n      var cmp = this.compareRange(range);\n      return cmp == -1 || cmp == 0 || cmp == 1;\n    };\n    Range.prototype.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    };\n    Range.prototype.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    };\n    Range.prototype.setStart = function (row, column) {\n      if (typeof row == \"object\") {\n        this.start.column = row.column;\n        this.start.row = row.row;\n      } else {\n        this.start.row = row;\n        this.start.column = column;\n      }\n    };\n    Range.prototype.setEnd = function (row, column) {\n      if (typeof row == \"object\") {\n        this.end.column = row.column;\n        this.end.row = row.row;\n      } else {\n        this.end.row = row;\n        this.end.column = column;\n      }\n    };\n    Range.prototype.inside = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column) || this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    Range.prototype.insideStart = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    Range.prototype.insideEnd = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    Range.prototype.compare = function (row, column) {\n      if (!this.isMultiLine()) {\n        if (row === this.start.row) {\n          return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;\n        }\n      }\n      if (row < this.start.row) return -1;\n      if (row > this.end.row) return 1;\n      if (this.start.row === row) return column >= this.start.column ? 0 : -1;\n      if (this.end.row === row) return column <= this.end.column ? 0 : 1;\n      return 0;\n    };\n    Range.prototype.compareStart = function (row, column) {\n      if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    Range.prototype.compareEnd = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    Range.prototype.compareInside = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    Range.prototype.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.end.row < firstRow) var end = {\n        row: firstRow,\n        column: 0\n      };\n      if (this.start.row > lastRow) var start = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.start.row < firstRow) var start = {\n        row: firstRow,\n        column: 0\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n    Range.prototype.extend = function (row, column) {\n      var cmp = this.compare(row, column);\n      if (cmp == 0) return this;else if (cmp == -1) var start = {\n        row: row,\n        column: column\n      };else var end = {\n        row: row,\n        column: column\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n    Range.prototype.isEmpty = function () {\n      return this.start.row === this.end.row && this.start.column === this.end.column;\n    };\n    Range.prototype.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    };\n    Range.prototype.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    };\n    Range.prototype.collapseRows = function () {\n      if (this.end.column == 0) return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);else return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    Range.prototype.toScreenRange = function (session) {\n      var screenPosStart = session.documentToScreenPosition(this.start);\n      var screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    Range.prototype.moveBy = function (row, column) {\n      this.start.row += row;\n      this.start.column += column;\n      this.end.row += row;\n      this.end.column += column;\n    };\n    return Range;\n  }();\n  Range.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n  };\n  Range.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n  exports.Range = Range;\n});\nace.define(\"ace/anchor\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var Anchor = /** @class */function () {\n    function Anchor(doc, row, column) {\n      this.$onChange = this.onChange.bind(this);\n      this.attach(doc);\n      if (typeof row != \"number\") this.setPosition(row.row, row.column);else this.setPosition(row, column);\n    }\n    Anchor.prototype.getPosition = function () {\n      return this.$clipPositionToDocument(this.row, this.column);\n    };\n    Anchor.prototype.getDocument = function () {\n      return this.document;\n    };\n    Anchor.prototype.onChange = function (delta) {\n      if (delta.start.row == delta.end.row && delta.start.row != this.row) return;\n      if (delta.start.row > this.row) return;\n      var point = $getTransformedPoint(delta, {\n        row: this.row,\n        column: this.column\n      }, this.$insertRight);\n      this.setPosition(point.row, point.column, true);\n    };\n    Anchor.prototype.setPosition = function (row, column, noClip) {\n      var pos;\n      if (noClip) {\n        pos = {\n          row: row,\n          column: column\n        };\n      } else {\n        pos = this.$clipPositionToDocument(row, column);\n      }\n      if (this.row == pos.row && this.column == pos.column) return;\n      var old = {\n        row: this.row,\n        column: this.column\n      };\n      this.row = pos.row;\n      this.column = pos.column;\n      this._signal(\"change\", {\n        old: old,\n        value: pos\n      });\n    };\n    Anchor.prototype.detach = function () {\n      this.document.off(\"change\", this.$onChange);\n    };\n    Anchor.prototype.attach = function (doc) {\n      this.document = doc || this.document;\n      this.document.on(\"change\", this.$onChange);\n    };\n    Anchor.prototype.$clipPositionToDocument = function (row, column) {\n      var pos = {};\n      if (row >= this.document.getLength()) {\n        pos.row = Math.max(0, this.document.getLength() - 1);\n        pos.column = this.document.getLine(pos.row).length;\n      } else if (row < 0) {\n        pos.row = 0;\n        pos.column = 0;\n      } else {\n        pos.row = row;\n        pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n      }\n      if (column < 0) pos.column = 0;\n      return pos;\n    };\n    return Anchor;\n  }();\n  Anchor.prototype.$insertRight = false;\n  oop.implement(Anchor.prototype, EventEmitter);\n  function $pointsInOrder(point1, point2, equalPointsInOrder) {\n    var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n    return point1.row < point2.row || point1.row == point2.row && bColIsAfter;\n  }\n  function $getTransformedPoint(delta, point, moveIfEqual) {\n    var deltaIsInsert = delta.action == \"insert\";\n    var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n    var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n    var deltaStart = delta.start;\n    var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n    if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n      return {\n        row: point.row,\n        column: point.column\n      };\n    }\n    if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n      return {\n        row: point.row + deltaRowShift,\n        column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n      };\n    }\n    return {\n      row: deltaStart.row,\n      column: deltaStart.column\n    };\n  }\n  exports.Anchor = Anchor;\n});\nace.define(\"ace/document\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n  var applyDelta = require(\"./apply_delta\").applyDelta;\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var Range = require(\"./range\").Range;\n  var Anchor = require(\"./anchor\").Anchor;\n  var Document = /** @class */function () {\n    function Document(textOrLines) {\n      this.$lines = [\"\"];\n      if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n      } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({\n          row: 0,\n          column: 0\n        }, textOrLines);\n      } else {\n        this.insert({\n          row: 0,\n          column: 0\n        }, textOrLines);\n      }\n    }\n    Document.prototype.setValue = function (text) {\n      var len = this.getLength() - 1;\n      this.remove(new Range(0, 0, len, this.getLine(len).length));\n      this.insert({\n        row: 0,\n        column: 0\n      }, text || \"\");\n    };\n    Document.prototype.getValue = function () {\n      return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    Document.prototype.createAnchor = function (row, column) {\n      return new Anchor(this, row, column);\n    };\n    Document.prototype.$detectNewLine = function (text) {\n      var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n      this.$autoNewLine = match ? match[1] : \"\\n\";\n      this._signal(\"changeNewLineMode\");\n    };\n    Document.prototype.getNewLineCharacter = function () {\n      switch (this.$newLineMode) {\n        case \"windows\":\n          return \"\\r\\n\";\n        case \"unix\":\n          return \"\\n\";\n        default:\n          return this.$autoNewLine || \"\\n\";\n      }\n    };\n    Document.prototype.setNewLineMode = function (newLineMode) {\n      if (this.$newLineMode === newLineMode) return;\n      this.$newLineMode = newLineMode;\n      this._signal(\"changeNewLineMode\");\n    };\n    Document.prototype.getNewLineMode = function () {\n      return this.$newLineMode;\n    };\n    Document.prototype.isNewLine = function (text) {\n      return text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\";\n    };\n    Document.prototype.getLine = function (row) {\n      return this.$lines[row] || \"\";\n    };\n    Document.prototype.getLines = function (firstRow, lastRow) {\n      return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    Document.prototype.getAllLines = function () {\n      return this.getLines(0, this.getLength());\n    };\n    Document.prototype.getLength = function () {\n      return this.$lines.length;\n    };\n    Document.prototype.getTextRange = function (range) {\n      return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    Document.prototype.getLinesForRange = function (range) {\n      var lines;\n      if (range.start.row === range.end.row) {\n        lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n      } else {\n        lines = this.getLines(range.start.row, range.end.row);\n        lines[0] = (lines[0] || \"\").substring(range.start.column);\n        var l = lines.length - 1;\n        if (range.end.row - range.start.row == l) lines[l] = lines[l].substring(0, range.end.column);\n      }\n      return lines;\n    };\n    Document.prototype.insertLines = function (row, lines) {\n      console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n      return this.insertFullLines(row, lines);\n    };\n    Document.prototype.removeLines = function (firstRow, lastRow) {\n      console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n      return this.removeFullLines(firstRow, lastRow);\n    };\n    Document.prototype.insertNewLine = function (position) {\n      console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n      return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    Document.prototype.insert = function (position, text) {\n      if (this.getLength() <= 1) this.$detectNewLine(text);\n      return this.insertMergedLines(position, this.$split(text));\n    };\n    Document.prototype.insertInLine = function (position, text) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = this.pos(position.row, position.column + text.length);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: [text]\n      }, true);\n      return this.clonePos(end);\n    };\n    Document.prototype.clippedPos = function (row, column) {\n      var length = this.getLength();\n      if (row === undefined) {\n        row = length;\n      } else if (row < 0) {\n        row = 0;\n      } else if (row >= length) {\n        row = length - 1;\n        column = undefined;\n      }\n      var line = this.getLine(row);\n      if (column == undefined) column = line.length;\n      column = Math.min(Math.max(column, 0), line.length);\n      return {\n        row: row,\n        column: column\n      };\n    };\n    Document.prototype.clonePos = function (pos) {\n      return {\n        row: pos.row,\n        column: pos.column\n      };\n    };\n    Document.prototype.pos = function (row, column) {\n      return {\n        row: row,\n        column: column\n      };\n    };\n    Document.prototype.$clipPosition = function (position) {\n      var length = this.getLength();\n      if (position.row >= length) {\n        position.row = Math.max(0, length - 1);\n        position.column = this.getLine(length - 1).length;\n      } else {\n        position.row = Math.max(0, position.row);\n        position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n      }\n      return position;\n    };\n    Document.prototype.insertFullLines = function (row, lines) {\n      row = Math.min(Math.max(row, 0), this.getLength());\n      var column = 0;\n      if (row < this.getLength()) {\n        lines = lines.concat([\"\"]);\n        column = 0;\n      } else {\n        lines = [\"\"].concat(lines);\n        row--;\n        column = this.$lines[row].length;\n      }\n      this.insertMergedLines({\n        row: row,\n        column: column\n      }, lines);\n    };\n    Document.prototype.insertMergedLines = function (position, lines) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = {\n        row: start.row + lines.length - 1,\n        column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n      };\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: lines\n      });\n      return this.clonePos(end);\n    };\n    Document.prototype.remove = function (range) {\n      var start = this.clippedPos(range.start.row, range.start.column);\n      var end = this.clippedPos(range.end.row, range.end.column);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      });\n      return this.clonePos(start);\n    };\n    Document.prototype.removeInLine = function (row, startColumn, endColumn) {\n      var start = this.clippedPos(row, startColumn);\n      var end = this.clippedPos(row, endColumn);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }, true);\n      return this.clonePos(start);\n    };\n    Document.prototype.removeFullLines = function (firstRow, lastRow) {\n      firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n      lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n      var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n      var deleteLastNewLine = lastRow < this.getLength() - 1;\n      var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;\n      var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;\n      var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;\n      var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;\n      var range = new Range(startRow, startCol, endRow, endCol);\n      var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n      this.applyDelta({\n        start: range.start,\n        end: range.end,\n        action: \"remove\",\n        lines: this.getLinesForRange(range)\n      });\n      return deletedLines;\n    };\n    Document.prototype.removeNewLine = function (row) {\n      if (row < this.getLength() - 1 && row >= 0) {\n        this.applyDelta({\n          start: this.pos(row, this.getLine(row).length),\n          end: this.pos(row + 1, 0),\n          action: \"remove\",\n          lines: [\"\", \"\"]\n        });\n      }\n    };\n    Document.prototype.replace = function (range, text) {\n      if (!(range instanceof Range)) range = Range.fromPoints(range.start, range.end);\n      if (text.length === 0 && range.isEmpty()) return range.start;\n      if (text == this.getTextRange(range)) return range.end;\n      this.remove(range);\n      var end;\n      if (text) {\n        end = this.insert(range.start, text);\n      } else {\n        end = range.start;\n      }\n      return end;\n    };\n    Document.prototype.applyDeltas = function (deltas) {\n      for (var i = 0; i < deltas.length; i++) {\n        this.applyDelta(deltas[i]);\n      }\n    };\n    Document.prototype.revertDeltas = function (deltas) {\n      for (var i = deltas.length - 1; i >= 0; i--) {\n        this.revertDelta(deltas[i]);\n      }\n    };\n    Document.prototype.applyDelta = function (delta, doNotValidate) {\n      var isInsert = delta.action == \"insert\";\n      if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {\n        return;\n      }\n      if (isInsert && delta.lines.length > 20000) {\n        this.$splitAndapplyLargeDelta(delta, 20000);\n      } else {\n        applyDelta(this.$lines, delta, doNotValidate);\n        this._signal(\"change\", delta);\n      }\n    };\n    Document.prototype.$safeApplyDelta = function (delta) {\n      var docLength = this.$lines.length;\n      if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength || delta.action == \"insert\" && delta.start.row <= docLength) {\n        this.applyDelta(delta);\n      }\n    };\n    Document.prototype.$splitAndapplyLargeDelta = function (delta, MAX) {\n      var lines = delta.lines;\n      var l = lines.length - MAX + 1;\n      var row = delta.start.row;\n      var column = delta.start.column;\n      for (var from = 0, to = 0; from < l; from = to) {\n        to += MAX - 1;\n        var chunk = lines.slice(from, to);\n        chunk.push(\"\");\n        this.applyDelta({\n          start: this.pos(row + from, column),\n          end: this.pos(row + to, column = 0),\n          action: delta.action,\n          lines: chunk\n        }, true);\n      }\n      delta.lines = lines.slice(from);\n      delta.start.row = row + from;\n      delta.start.column = column;\n      this.applyDelta(delta, true);\n    };\n    Document.prototype.revertDelta = function (delta) {\n      this.$safeApplyDelta({\n        start: this.clonePos(delta.start),\n        end: this.clonePos(delta.end),\n        action: delta.action == \"insert\" ? \"remove\" : \"insert\",\n        lines: delta.lines.slice()\n      });\n    };\n    Document.prototype.indexToPosition = function (index, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n      for (var i = startRow || 0, l = lines.length; i < l; i++) {\n        index -= lines[i].length + newlineLength;\n        if (index < 0) return {\n          row: i,\n          column: index + lines[i].length + newlineLength\n        };\n      }\n      return {\n        row: l - 1,\n        column: index + lines[l - 1].length + newlineLength\n      };\n    };\n    Document.prototype.positionToIndex = function (pos, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n      var index = 0;\n      var row = Math.min(pos.row, lines.length);\n      for (var i = startRow || 0; i < row; ++i) index += lines[i].length + newlineLength;\n      return index + pos.column;\n    };\n    Document.prototype.$split = function (text) {\n      return text.split(/\\r\\n|\\r|\\n/);\n    };\n    return Document;\n  }();\n  Document.prototype.$autoNewLine = \"\";\n  Document.prototype.$newLineMode = \"auto\";\n  oop.implement(Document.prototype, EventEmitter);\n  exports.Document = Document;\n});\nace.define(\"ace/worker/mirror\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var Document = require(\"../document\").Document;\n  var lang = require(\"../lib/lang\");\n  var Mirror = exports.Mirror = function (sender) {\n    this.sender = sender;\n    var doc = this.doc = new Document(\"\");\n    var deferredUpdate = this.deferredUpdate = lang.delayedCall(this.onUpdate.bind(this));\n    var _self = this;\n    sender.on(\"change\", function (e) {\n      var data = e.data;\n      if (data[0].start) {\n        doc.applyDeltas(data);\n      } else {\n        for (var i = 0; i < data.length; i += 2) {\n          var d, err;\n          if (Array.isArray(data[i + 1])) {\n            d = {\n              action: \"insert\",\n              start: data[i],\n              lines: data[i + 1]\n            };\n          } else {\n            d = {\n              action: \"remove\",\n              start: data[i],\n              end: data[i + 1]\n            };\n          }\n          if ((d.action == \"insert\" ? d.start : d.end).row >= doc.$lines.length) {\n            err = new Error(\"Invalid delta\");\n            err.data = {\n              path: _self.$path,\n              linesLength: doc.$lines.length,\n              start: d.start,\n              end: d.end\n            };\n            throw err;\n          }\n          doc.applyDelta(d, true);\n        }\n      }\n      if (_self.$timeout) return deferredUpdate.schedule(_self.$timeout);\n      _self.onUpdate();\n    });\n  };\n  (function () {\n    this.$timeout = 500;\n    this.setTimeout = function (timeout) {\n      this.$timeout = timeout;\n    };\n    this.setValue = function (value) {\n      this.doc.setValue(value);\n      this.deferredUpdate.schedule(this.$timeout);\n    };\n    this.getValue = function (callbackId) {\n      this.sender.callback(this.doc.getValue(), callbackId);\n    };\n    this.onUpdate = function () {};\n    this.isPending = function () {\n      return this.deferredUpdate.isPending();\n    };\n  }).call(Mirror.prototype);\n});\nace.define(\"ace/mode/xml/sax\", [], function (require, exports, module) {\n  var nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/; //\\u10000-\\uEFFFF\n  var nameChar = new RegExp(\"[\\\\-\\\\.0-9\" + nameStartChar.source.slice(1, -1) + \"\\u00B7\\u0300-\\u036F\\\\ux203F-\\u2040]\");\n  var tagNamePattern = new RegExp('^' + nameStartChar.source + nameChar.source + '*(?:\\:' + nameStartChar.source + nameChar.source + '*)?$');\n  var S_TAG = 0; //tag name offerring\n  var S_ATTR = 1; //attr name offerring \n  var S_ATTR_S = 2; //attr name end and space offer\n  var S_EQ = 3; //=space?\n  var S_V = 4; //attr value(no quot value only)\n  var S_E = 5; //attr value end and no space(quot end)\n  var S_S = 6; //(attr value end || tag end ) && (space offer)\n  var S_C = 7; //closed el<el />\n\n  function XMLReader() {}\n  XMLReader.prototype = {\n    parse: function (source, defaultNSMap, entityMap) {\n      var domBuilder = this.domBuilder;\n      domBuilder.startDocument();\n      _copy(defaultNSMap, defaultNSMap = {});\n      parse(source, defaultNSMap, entityMap, domBuilder, this.errorHandler);\n      domBuilder.endDocument();\n    }\n  };\n  function parse(source, defaultNSMapCopy, entityMap, domBuilder, errorHandler) {\n    function fixedFromCharCode(code) {\n      if (code > 0xffff) {\n        code -= 0x10000;\n        var surrogate1 = 0xd800 + (code >> 10),\n          surrogate2 = 0xdc00 + (code & 0x3ff);\n        return String.fromCharCode(surrogate1, surrogate2);\n      } else {\n        return String.fromCharCode(code);\n      }\n    }\n    function entityReplacer(a) {\n      var k = a.slice(1, -1);\n      if (k in entityMap) {\n        return entityMap[k];\n      } else if (k.charAt(0) === '#') {\n        return fixedFromCharCode(parseInt(k.substr(1).replace('x', '0x')));\n      } else {\n        errorHandler.error('entity not found:' + a);\n        return a;\n      }\n    }\n    function appendText(end) {\n      //has some bugs\n      var xt = source.substring(start, end).replace(/&#?\\w+;/g, entityReplacer);\n      locator && position(start);\n      domBuilder.characters(xt, 0, end - start);\n      start = end;\n    }\n    function position(start, m) {\n      while (start >= endPos && (m = linePattern.exec(source))) {\n        startPos = m.index;\n        endPos = startPos + m[0].length;\n        locator.lineNumber++;\n      }\n      locator.columnNumber = start - startPos + 1;\n    }\n    var startPos = 0;\n    var endPos = 0;\n    var linePattern = /.+(?:\\r\\n?|\\n)|.*$/g;\n    var locator = domBuilder.locator;\n    var parseStack = [{\n      currentNSMap: defaultNSMapCopy\n    }];\n    var closeMap = {};\n    var start = 0;\n    while (true) {\n      var i = source.indexOf('<', start);\n      if (i < 0) {\n        if (!source.substr(start).match(/^\\s*$/)) {\n          var doc = domBuilder.document;\n          var text = doc.createTextNode(source.substr(start));\n          doc.appendChild(text);\n          domBuilder.currentElement = text;\n        }\n        return;\n      }\n      if (i > start) {\n        appendText(i);\n      }\n      switch (source.charAt(i + 1)) {\n        case '/':\n          var end = source.indexOf('>', i + 3);\n          var tagName = source.substring(i + 2, end);\n          var config;\n          if (parseStack.length > 1) {\n            config = parseStack.pop();\n          } else {\n            errorHandler.fatalError(\"end tag name not found for: \" + tagName);\n            break;\n          }\n          var localNSMap = config.localNSMap;\n          if (config.tagName != tagName) {\n            errorHandler.fatalError(\"end tag name: \" + tagName + \" does not match the current start tagName: \" + config.tagName);\n          }\n          domBuilder.endElement(config.uri, config.localName, tagName);\n          if (localNSMap) {\n            for (var prefix in localNSMap) {\n              domBuilder.endPrefixMapping(prefix);\n            }\n          }\n          end++;\n          break;\n        case '?':\n          // <?...?>\n          locator && position(i);\n          end = parseInstruction(source, i, domBuilder);\n          break;\n        case '!':\n          // <!doctype,<![CDATA,<!--\n          locator && position(i);\n          end = parseDCC(source, i, domBuilder, errorHandler);\n          break;\n        default:\n          try {\n            locator && position(i);\n            var el = new ElementAttributes();\n            var end = parseElementStartPart(source, i, el, entityReplacer, errorHandler);\n            var len = el.length;\n            if (len && locator) {\n              var backup = copyLocator(locator, {});\n              for (var i = 0; i < len; i++) {\n                var a = el[i];\n                position(a.offset);\n                a.offset = copyLocator(locator, {});\n              }\n              copyLocator(backup, locator);\n            }\n            if (!el.closed && fixSelfClosed(source, end, el.tagName, closeMap)) {\n              el.closed = true;\n              if (!entityMap.nbsp) {\n                errorHandler.warning('unclosed xml attribute');\n              }\n            }\n            appendElement(el, domBuilder, parseStack, errorHandler);\n            if (el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed) {\n              end = parseHtmlSpecialContent(source, end, el.tagName, entityReplacer, domBuilder);\n            } else {\n              end++;\n            }\n          } catch (e) {\n            errorHandler.error('element parse error: ' + e);\n            end = -1;\n          }\n      }\n      if (end < 0) {\n        appendText(i + 1);\n      } else {\n        start = end;\n      }\n    }\n  }\n  function copyLocator(f, t) {\n    t.lineNumber = f.lineNumber;\n    t.columnNumber = f.columnNumber;\n    return t;\n  }\n  function parseElementStartPart(source, start, el, entityReplacer, errorHandler) {\n    var attrName;\n    var value;\n    var p = ++start;\n    var s = S_TAG; //status\n    while (true) {\n      var c = source.charAt(p);\n      switch (c) {\n        case '=':\n          if (s === S_ATTR) {\n            //attrName\n            attrName = source.slice(start, p);\n            s = S_EQ;\n          } else if (s === S_ATTR_S) {\n            s = S_EQ;\n          } else {\n            throw new Error('attribute equal must after attrName');\n          }\n          break;\n        case '\\'':\n        case '\"':\n          if (s === S_EQ) {\n            //equal\n            start = p + 1;\n            p = source.indexOf(c, start);\n            if (p > 0) {\n              value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n              el.add(attrName, value, start - 1);\n              s = S_E;\n            } else {\n              throw new Error('attribute value no end \\'' + c + '\\' match');\n            }\n          } else if (s == S_V) {\n            value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n            el.add(attrName, value, start);\n            errorHandler.warning('attribute \"' + attrName + '\" missed start quot(' + c + ')!!');\n            start = p + 1;\n            s = S_E;\n          } else {\n            throw new Error('attribute value must after \"=\"');\n          }\n          break;\n        case '/':\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p));\n            case S_E:\n            case S_S:\n            case S_C:\n              s = S_C;\n              el.closed = true;\n            case S_V:\n            case S_ATTR:\n            case S_ATTR_S:\n              break;\n            default:\n              throw new Error(\"attribute invalid close char('/')\");\n          }\n          break;\n        case '':\n          //end document\n          errorHandler.error('unexpected end of input');\n        case '>':\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p));\n            case S_E:\n            case S_S:\n            case S_C:\n              break;\n            //normal\n            case S_V: //Compatible state\n            case S_ATTR:\n              value = source.slice(start, p);\n              if (value.slice(-1) === '/') {\n                el.closed = true;\n                value = value.slice(0, -1);\n              }\n            case S_ATTR_S:\n              if (s === S_ATTR_S) {\n                value = attrName;\n              }\n              if (s == S_V) {\n                errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n                el.add(attrName, value.replace(/&#?\\w+;/g, entityReplacer), start);\n              } else {\n                errorHandler.warning('attribute \"' + value + '\" missed value!! \"' + value + '\" instead!!');\n                el.add(value, value, start);\n              }\n              break;\n            case S_EQ:\n              throw new Error('attribute value missed!!');\n          }\n          return p;\n        case '\\u0080':\n          c = ' ';\n        default:\n          if (c <= ' ') {\n            //space\n            switch (s) {\n              case S_TAG:\n                el.setTagName(source.slice(start, p)); //tagName\n                s = S_S;\n                break;\n              case S_ATTR:\n                attrName = source.slice(start, p);\n                s = S_ATTR_S;\n                break;\n              case S_V:\n                var value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n                errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n                el.add(attrName, value, start);\n              case S_E:\n                s = S_S;\n                break;\n            }\n          } else {\n            //not space\n            switch (s) {\n              case S_ATTR_S:\n                errorHandler.warning('attribute \"' + attrName + '\" missed value!! \"' + attrName + '\" instead!!');\n                el.add(attrName, attrName, start);\n                start = p;\n                s = S_ATTR;\n                break;\n              case S_E:\n                errorHandler.warning('attribute space is required\"' + attrName + '\"!!');\n              case S_S:\n                s = S_ATTR;\n                start = p;\n                break;\n              case S_EQ:\n                s = S_V;\n                start = p;\n                break;\n              case S_C:\n                throw new Error(\"elements closed character '/' and '>' must be connected to\");\n            }\n          }\n      }\n      p++;\n    }\n  }\n  function appendElement(el, domBuilder, parseStack, errorHandler) {\n    var tagName = el.tagName;\n    var localNSMap = null;\n    var currentNSMap = parseStack[parseStack.length - 1].currentNSMap;\n    var i = el.length;\n    while (i--) {\n      var a = el[i];\n      var qName = a.qName;\n      var value = a.value;\n      var nsp = qName.indexOf(':');\n      if (nsp > 0) {\n        var prefix = a.prefix = qName.slice(0, nsp);\n        var localName = qName.slice(nsp + 1);\n        var nsPrefix = prefix === 'xmlns' && localName;\n      } else {\n        localName = qName;\n        prefix = null;\n        nsPrefix = qName === 'xmlns' && '';\n      }\n      a.localName = localName;\n      if (nsPrefix !== false) {\n        //hack!!\n        if (localNSMap == null) {\n          localNSMap = {};\n          _copy(currentNSMap, currentNSMap = {});\n        }\n        currentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n        a.uri = 'http://www.w3.org/2000/xmlns/';\n        domBuilder.startPrefixMapping(nsPrefix, value);\n      }\n    }\n    var i = el.length;\n    while (i--) {\n      a = el[i];\n      var prefix = a.prefix;\n      if (prefix) {\n        //no prefix attribute has no namespace\n        if (prefix === 'xml') {\n          a.uri = 'http://www.w3.org/XML/1998/namespace';\n        }\n        if (prefix !== 'xmlns') {\n          a.uri = currentNSMap[prefix];\n        }\n      }\n    }\n    var nsp = tagName.indexOf(':');\n    if (nsp > 0) {\n      prefix = el.prefix = tagName.slice(0, nsp);\n      localName = el.localName = tagName.slice(nsp + 1);\n    } else {\n      prefix = null; //important!!\n      localName = el.localName = tagName;\n    }\n    var ns = el.uri = currentNSMap[prefix || ''];\n    if (prefix && !ns) {\n      errorHandler.error('unexpected namespace ' + prefix);\n    }\n    domBuilder.startElement(ns, localName, tagName, el);\n    if (el.closed) {\n      domBuilder.endElement(ns, localName, tagName);\n      if (localNSMap) {\n        for (prefix in localNSMap) {\n          domBuilder.endPrefixMapping(prefix);\n        }\n      }\n    } else {\n      el.currentNSMap = currentNSMap;\n      el.localNSMap = localNSMap;\n      parseStack.push(el);\n    }\n  }\n  function parseHtmlSpecialContent(source, elStartEnd, tagName, entityReplacer, domBuilder) {\n    if (/^(?:script|textarea)$/i.test(tagName)) {\n      var elEndStart = source.indexOf('</' + tagName + '>', elStartEnd);\n      var text = source.substring(elStartEnd + 1, elEndStart);\n      if (/[&<]/.test(text)) {\n        if (/^script$/i.test(tagName)) {\n          domBuilder.characters(text, 0, text.length);\n          return elEndStart;\n        } //}else{//text area\n        text = text.replace(/&#?\\w+;/g, entityReplacer);\n        domBuilder.characters(text, 0, text.length);\n        return elEndStart;\n      }\n    }\n    return elStartEnd + 1;\n  }\n  function fixSelfClosed(source, elStartEnd, tagName, closeMap) {\n    var pos = closeMap[tagName];\n    if (pos == null) {\n      pos = closeMap[tagName] = source.lastIndexOf('</' + tagName + '>');\n    }\n    return pos < elStartEnd;\n  }\n  function _copy(source, target) {\n    for (var n in source) {\n      target[n] = source[n];\n    }\n  }\n  function parseDCC(source, start, domBuilder, errorHandler) {\n    //sure start with '<!'\n    var next = source.charAt(start + 2);\n    switch (next) {\n      case '-':\n        if (source.charAt(start + 3) === '-') {\n          var end = source.indexOf('-->', start + 4);\n          if (end > start) {\n            domBuilder.comment(source, start + 4, end - start - 4);\n            return end + 3;\n          } else {\n            errorHandler.error(\"Unclosed comment\");\n            return -1;\n          }\n        } else {\n          return -1;\n        }\n      default:\n        if (source.substr(start + 3, 6) == 'CDATA[') {\n          var end = source.indexOf(']]>', start + 9);\n          if (end > start) {\n            domBuilder.startCDATA();\n            domBuilder.characters(source, start + 9, end - start - 9);\n            domBuilder.endCDATA();\n            return end + 3;\n          } else {\n            errorHandler.error(\"Unclosed CDATA\");\n            return -1;\n          }\n        }\n        var matchs = split(source, start);\n        var len = matchs.length;\n        if (len > 1 && /!doctype/i.test(matchs[0][0])) {\n          var name = matchs[1][0];\n          var pubid = len > 3 && /^public$/i.test(matchs[2][0]) && matchs[3][0];\n          var sysid = len > 4 && matchs[4][0];\n          var lastMatch = matchs[len - 1];\n          domBuilder.startDTD(name, pubid && pubid.replace(/^(['\"])(.*?)\\1$/, '$2'), sysid && sysid.replace(/^(['\"])(.*?)\\1$/, '$2'));\n          domBuilder.endDTD();\n          return lastMatch.index + lastMatch[0].length;\n        }\n    }\n    return -1;\n  }\n  function parseInstruction(source, start, domBuilder) {\n    var end = source.indexOf('?>', start);\n    if (end) {\n      var match = source.substring(start, end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n      if (match) {\n        var len = match[0].length;\n        domBuilder.processingInstruction(match[1], match[2]);\n        return end + 2;\n      } else {\n        //error\n        return -1;\n      }\n    }\n    return -1;\n  }\n  function ElementAttributes(source) {}\n  ElementAttributes.prototype = {\n    setTagName: function (tagName) {\n      if (!tagNamePattern.test(tagName)) {\n        throw new Error('invalid tagName:' + tagName);\n      }\n      this.tagName = tagName;\n    },\n    add: function (qName, value, offset) {\n      if (!tagNamePattern.test(qName)) {\n        throw new Error('invalid attribute:' + qName);\n      }\n      this[this.length++] = {\n        qName: qName,\n        value: value,\n        offset: offset\n      };\n    },\n    length: 0,\n    getLocalName: function (i) {\n      return this[i].localName;\n    },\n    getOffset: function (i) {\n      return this[i].offset;\n    },\n    getQName: function (i) {\n      return this[i].qName;\n    },\n    getURI: function (i) {\n      return this[i].uri;\n    },\n    getValue: function (i) {\n      return this[i].value;\n    }\n  };\n  function _set_proto_(thiz, parent) {\n    thiz.__proto__ = parent;\n    return thiz;\n  }\n  if (!(_set_proto_({}, _set_proto_.prototype) instanceof _set_proto_)) {\n    _set_proto_ = function (thiz, parent) {\n      function p() {}\n      ;\n      p.prototype = parent;\n      p = new p();\n      for (parent in thiz) {\n        p[parent] = thiz[parent];\n      }\n      return p;\n    };\n  }\n  function split(source, start) {\n    var match;\n    var buf = [];\n    var reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n    reg.lastIndex = start;\n    reg.exec(source); //skip <\n    while (match = reg.exec(source)) {\n      buf.push(match);\n      if (match[1]) return buf;\n    }\n  }\n  return XMLReader;\n});\nace.define(\"ace/mode/xml/dom\", [], function (require, exports, module) {\n  function copy(src, dest) {\n    for (var p in src) {\n      dest[p] = src[p];\n    }\n  }\n  function _extends(Class, Super) {\n    var t = function () {};\n    var pt = Class.prototype;\n    if (Object.create) {\n      var ppt = Object.create(Super.prototype);\n      pt.__proto__ = ppt;\n    }\n    if (!(pt instanceof Super)) {\n      t.prototype = Super.prototype;\n      t = new t();\n      copy(pt, t);\n      Class.prototype = pt = t;\n    }\n    if (pt.constructor != Class) {\n      if (typeof Class != 'function') {\n        console.error(\"unknown Class:\" + Class);\n      }\n      pt.constructor = Class;\n    }\n  }\n  var htmlns = 'http://www.w3.org/1999/xhtml';\n  var NodeType = {};\n  var ELEMENT_NODE = NodeType.ELEMENT_NODE = 1;\n  var ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2;\n  var TEXT_NODE = NodeType.TEXT_NODE = 3;\n  var CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4;\n  var ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5;\n  var ENTITY_NODE = NodeType.ENTITY_NODE = 6;\n  var PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\n  var COMMENT_NODE = NodeType.COMMENT_NODE = 8;\n  var DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9;\n  var DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10;\n  var DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11;\n  var NOTATION_NODE = NodeType.NOTATION_NODE = 12;\n  var ExceptionCode = {};\n  var ExceptionMessage = {};\n  var INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = (ExceptionMessage[1] = \"Index size error\", 1);\n  var DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = (ExceptionMessage[2] = \"DOMString size error\", 2);\n  var HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = (ExceptionMessage[3] = \"Hierarchy request error\", 3);\n  var WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = (ExceptionMessage[4] = \"Wrong document\", 4);\n  var INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = (ExceptionMessage[5] = \"Invalid character\", 5);\n  var NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = (ExceptionMessage[6] = \"No data allowed\", 6);\n  var NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = (ExceptionMessage[7] = \"No modification allowed\", 7);\n  var NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = (ExceptionMessage[8] = \"Not found\", 8);\n  var NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = (ExceptionMessage[9] = \"Not supported\", 9);\n  var INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = (ExceptionMessage[10] = \"Attribute in use\", 10);\n  var INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = (ExceptionMessage[11] = \"Invalid state\", 11);\n  var SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = (ExceptionMessage[12] = \"Syntax error\", 12);\n  var INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = (ExceptionMessage[13] = \"Invalid modification\", 13);\n  var NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = (ExceptionMessage[14] = \"Invalid namespace\", 14);\n  var INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = (ExceptionMessage[15] = \"Invalid access\", 15);\n  function DOMException(code, message) {\n    if (message instanceof Error) {\n      var error = message;\n    } else {\n      error = this;\n      Error.call(this, ExceptionMessage[code]);\n      this.message = ExceptionMessage[code];\n      if (Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n    }\n    error.code = code;\n    if (message) this.message = this.message + \": \" + message;\n    return error;\n  }\n  ;\n  DOMException.prototype = Error.prototype;\n  copy(ExceptionCode, DOMException);\n  function NodeList() {}\n  ;\n  NodeList.prototype = {\n    length: 0,\n    item: function (index) {\n      return this[index] || null;\n    }\n  };\n  function LiveNodeList(node, refresh) {\n    this._node = node;\n    this._refresh = refresh;\n    _updateLiveList(this);\n  }\n  function _updateLiveList(list) {\n    var inc = list._node._inc || list._node.ownerDocument._inc;\n    if (list._inc != inc) {\n      var ls = list._refresh(list._node);\n      __set__(list, 'length', ls.length);\n      copy(ls, list);\n      list._inc = inc;\n    }\n  }\n  LiveNodeList.prototype.item = function (i) {\n    _updateLiveList(this);\n    return this[i];\n  };\n  _extends(LiveNodeList, NodeList);\n  function NamedNodeMap() {}\n  ;\n  function _findNodeIndex(list, node) {\n    var i = list.length;\n    while (i--) {\n      if (list[i] === node) {\n        return i;\n      }\n    }\n  }\n  function _addNamedNode(el, list, newAttr, oldAttr) {\n    if (oldAttr) {\n      list[_findNodeIndex(list, oldAttr)] = newAttr;\n    } else {\n      list[list.length++] = newAttr;\n    }\n    if (el) {\n      newAttr.ownerElement = el;\n      var doc = el.ownerDocument;\n      if (doc) {\n        oldAttr && _onRemoveAttribute(doc, el, oldAttr);\n        _onAddAttribute(doc, el, newAttr);\n      }\n    }\n  }\n  function _removeNamedNode(el, list, attr) {\n    var i = _findNodeIndex(list, attr);\n    if (i >= 0) {\n      var lastIndex = list.length - 1;\n      while (i < lastIndex) {\n        list[i] = list[++i];\n      }\n      list.length = lastIndex;\n      if (el) {\n        var doc = el.ownerDocument;\n        if (doc) {\n          _onRemoveAttribute(doc, el, attr);\n          attr.ownerElement = null;\n        }\n      }\n    } else {\n      throw new DOMException(NOT_FOUND_ERR, new Error());\n    }\n  }\n  NamedNodeMap.prototype = {\n    length: 0,\n    item: NodeList.prototype.item,\n    getNamedItem: function (key) {\n      var i = this.length;\n      while (i--) {\n        var attr = this[i];\n        if (attr.nodeName == key) {\n          return attr;\n        }\n      }\n    },\n    setNamedItem: function (attr) {\n      var el = attr.ownerElement;\n      if (el && el != this._ownerElement) {\n        throw new DOMException(INUSE_ATTRIBUTE_ERR);\n      }\n      var oldAttr = this.getNamedItem(attr.nodeName);\n      _addNamedNode(this._ownerElement, this, attr, oldAttr);\n      return oldAttr;\n    },\n    setNamedItemNS: function (attr) {\n      // raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n      var el = attr.ownerElement,\n        oldAttr;\n      if (el && el != this._ownerElement) {\n        throw new DOMException(INUSE_ATTRIBUTE_ERR);\n      }\n      oldAttr = this.getNamedItemNS(attr.namespaceURI, attr.localName);\n      _addNamedNode(this._ownerElement, this, attr, oldAttr);\n      return oldAttr;\n    },\n    removeNamedItem: function (key) {\n      var attr = this.getNamedItem(key);\n      _removeNamedNode(this._ownerElement, this, attr);\n      return attr;\n    },\n    // raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n    removeNamedItemNS: function (namespaceURI, localName) {\n      var attr = this.getNamedItemNS(namespaceURI, localName);\n      _removeNamedNode(this._ownerElement, this, attr);\n      return attr;\n    },\n    getNamedItemNS: function (namespaceURI, localName) {\n      var i = this.length;\n      while (i--) {\n        var node = this[i];\n        if (node.localName == localName && node.namespaceURI == namespaceURI) {\n          return node;\n        }\n      }\n      return null;\n    }\n  };\n  function DOMImplementation( /* Object */features) {\n    this._features = {};\n    if (features) {\n      for (var feature in features) {\n        this._features = features[feature];\n      }\n    }\n  }\n  ;\n  DOMImplementation.prototype = {\n    hasFeature: function ( /* string */feature, /* string */version) {\n      var versions = this._features[feature.toLowerCase()];\n      if (versions && (!version || version in versions)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    createDocument: function (namespaceURI, qualifiedName, doctype) {\n      // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n      var doc = new Document();\n      doc.implementation = this;\n      doc.childNodes = new NodeList();\n      doc.doctype = doctype;\n      if (doctype) {\n        doc.appendChild(doctype);\n      }\n      if (qualifiedName) {\n        var root = doc.createElementNS(namespaceURI, qualifiedName);\n        doc.appendChild(root);\n      }\n      return doc;\n    },\n    createDocumentType: function (qualifiedName, publicId, systemId) {\n      // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n      var node = new DocumentType();\n      node.name = qualifiedName;\n      node.nodeName = qualifiedName;\n      node.publicId = publicId;\n      node.systemId = systemId;\n      return node;\n    }\n  };\n  function Node() {}\n  ;\n  Node.prototype = {\n    firstChild: null,\n    lastChild: null,\n    previousSibling: null,\n    nextSibling: null,\n    attributes: null,\n    parentNode: null,\n    childNodes: null,\n    ownerDocument: null,\n    nodeValue: null,\n    namespaceURI: null,\n    prefix: null,\n    localName: null,\n    insertBefore: function (newChild, refChild) {\n      //raises\n      return _insertBefore(this, newChild, refChild);\n    },\n    replaceChild: function (newChild, oldChild) {\n      //raises\n      this.insertBefore(newChild, oldChild);\n      if (oldChild) {\n        this.removeChild(oldChild);\n      }\n    },\n    removeChild: function (oldChild) {\n      return _removeChild(this, oldChild);\n    },\n    appendChild: function (newChild) {\n      return this.insertBefore(newChild, null);\n    },\n    hasChildNodes: function () {\n      return this.firstChild != null;\n    },\n    cloneNode: function (deep) {\n      return cloneNode(this.ownerDocument || this, this, deep);\n    },\n    normalize: function () {\n      var child = this.firstChild;\n      while (child) {\n        var next = child.nextSibling;\n        if (next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE) {\n          this.removeChild(next);\n          child.appendData(next.data);\n        } else {\n          child.normalize();\n          child = next;\n        }\n      }\n    },\n    isSupported: function (feature, version) {\n      return this.ownerDocument.implementation.hasFeature(feature, version);\n    },\n    hasAttributes: function () {\n      return this.attributes.length > 0;\n    },\n    lookupPrefix: function (namespaceURI) {\n      var el = this;\n      while (el) {\n        var map = el._nsMap;\n        if (map) {\n          for (var n in map) {\n            if (map[n] == namespaceURI) {\n              return n;\n            }\n          }\n        }\n        el = el.nodeType == 2 ? el.ownerDocument : el.parentNode;\n      }\n      return null;\n    },\n    lookupNamespaceURI: function (prefix) {\n      var el = this;\n      while (el) {\n        var map = el._nsMap;\n        if (map) {\n          if (prefix in map) {\n            return map[prefix];\n          }\n        }\n        el = el.nodeType == 2 ? el.ownerDocument : el.parentNode;\n      }\n      return null;\n    },\n    isDefaultNamespace: function (namespaceURI) {\n      var prefix = this.lookupPrefix(namespaceURI);\n      return prefix == null;\n    }\n  };\n  function _xmlEncoder(c) {\n    return c == '<' && '&lt;' || c == '>' && '&gt;' || c == '&' && '&amp;' || c == '\"' && '&quot;' || '&#' + c.charCodeAt() + ';';\n  }\n  copy(NodeType, Node);\n  copy(NodeType, Node.prototype);\n  function _visitNode(node, callback) {\n    if (callback(node)) {\n      return true;\n    }\n    if (node = node.firstChild) {\n      do {\n        if (_visitNode(node, callback)) {\n          return true;\n        }\n      } while (node = node.nextSibling);\n    }\n  }\n  function Document() {}\n  function _onAddAttribute(doc, el, newAttr) {\n    doc && doc._inc++;\n    var ns = newAttr.namespaceURI;\n    if (ns == 'http://www.w3.org/2000/xmlns/') {\n      el._nsMap[newAttr.prefix ? newAttr.localName : ''] = newAttr.value;\n    }\n  }\n  function _onRemoveAttribute(doc, el, newAttr, remove) {\n    doc && doc._inc++;\n    var ns = newAttr.namespaceURI;\n    if (ns == 'http://www.w3.org/2000/xmlns/') {\n      delete el._nsMap[newAttr.prefix ? newAttr.localName : ''];\n    }\n  }\n  function _onUpdateChild(doc, el, newChild) {\n    if (doc && doc._inc) {\n      doc._inc++;\n      var cs = el.childNodes;\n      if (newChild) {\n        cs[cs.length++] = newChild;\n      } else {\n        var child = el.firstChild;\n        var i = 0;\n        while (child) {\n          cs[i++] = child;\n          child = child.nextSibling;\n        }\n        cs.length = i;\n      }\n    }\n  }\n  function _removeChild(parentNode, child) {\n    var previous = child.previousSibling;\n    var next = child.nextSibling;\n    if (previous) {\n      previous.nextSibling = next;\n    } else {\n      parentNode.firstChild = next;\n    }\n    if (next) {\n      next.previousSibling = previous;\n    } else {\n      parentNode.lastChild = previous;\n    }\n    _onUpdateChild(parentNode.ownerDocument, parentNode);\n    return child;\n  }\n  function _insertBefore(parentNode, newChild, nextChild) {\n    var cp = newChild.parentNode;\n    if (cp) {\n      cp.removeChild(newChild); //remove and update\n    }\n    if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      var newFirst = newChild.firstChild;\n      if (newFirst == null) {\n        return newChild;\n      }\n      var newLast = newChild.lastChild;\n    } else {\n      newFirst = newLast = newChild;\n    }\n    var pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n    newFirst.previousSibling = pre;\n    newLast.nextSibling = nextChild;\n    if (pre) {\n      pre.nextSibling = newFirst;\n    } else {\n      parentNode.firstChild = newFirst;\n    }\n    if (nextChild == null) {\n      parentNode.lastChild = newLast;\n    } else {\n      nextChild.previousSibling = newLast;\n    }\n    do {\n      newFirst.parentNode = parentNode;\n    } while (newFirst !== newLast && (newFirst = newFirst.nextSibling));\n    _onUpdateChild(parentNode.ownerDocument || parentNode, parentNode);\n    if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n      newChild.firstChild = newChild.lastChild = null;\n    }\n    return newChild;\n  }\n  function _appendSingleChild(parentNode, newChild) {\n    var cp = newChild.parentNode;\n    if (cp) {\n      var pre = parentNode.lastChild;\n      cp.removeChild(newChild); //remove and update\n      var pre = parentNode.lastChild;\n    }\n    var pre = parentNode.lastChild;\n    newChild.parentNode = parentNode;\n    newChild.previousSibling = pre;\n    newChild.nextSibling = null;\n    if (pre) {\n      pre.nextSibling = newChild;\n    } else {\n      parentNode.firstChild = newChild;\n    }\n    parentNode.lastChild = newChild;\n    _onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n    return newChild;\n  }\n  Document.prototype = {\n    nodeName: '#document',\n    nodeType: DOCUMENT_NODE,\n    doctype: null,\n    documentElement: null,\n    _inc: 1,\n    insertBefore: function (newChild, refChild) {\n      //raises\n      if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n        var child = newChild.firstChild;\n        while (child) {\n          var next = child.nextSibling;\n          this.insertBefore(child, refChild);\n          child = next;\n        }\n        return newChild;\n      }\n      if (this.documentElement == null && newChild.nodeType == 1) {\n        this.documentElement = newChild;\n      }\n      return _insertBefore(this, newChild, refChild), newChild.ownerDocument = this, newChild;\n    },\n    removeChild: function (oldChild) {\n      if (this.documentElement == oldChild) {\n        this.documentElement = null;\n      }\n      return _removeChild(this, oldChild);\n    },\n    importNode: function (importedNode, deep) {\n      return importNode(this, importedNode, deep);\n    },\n    getElementById: function (id) {\n      var rtv = null;\n      _visitNode(this.documentElement, function (node) {\n        if (node.nodeType == 1) {\n          if (node.getAttribute('id') == id) {\n            rtv = node;\n            return true;\n          }\n        }\n      });\n      return rtv;\n    },\n    createElement: function (tagName) {\n      var node = new Element();\n      node.ownerDocument = this;\n      node.nodeName = tagName;\n      node.tagName = tagName;\n      node.childNodes = new NodeList();\n      var attrs = node.attributes = new NamedNodeMap();\n      attrs._ownerElement = node;\n      return node;\n    },\n    createDocumentFragment: function () {\n      var node = new DocumentFragment();\n      node.ownerDocument = this;\n      node.childNodes = new NodeList();\n      return node;\n    },\n    createTextNode: function (data) {\n      var node = new Text();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createComment: function (data) {\n      var node = new Comment();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createCDATASection: function (data) {\n      var node = new CDATASection();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createProcessingInstruction: function (target, data) {\n      var node = new ProcessingInstruction();\n      node.ownerDocument = this;\n      node.tagName = node.target = target;\n      node.nodeValue = node.data = data;\n      return node;\n    },\n    createAttribute: function (name) {\n      var node = new Attr();\n      node.ownerDocument = this;\n      node.name = name;\n      node.nodeName = name;\n      node.localName = name;\n      node.specified = true;\n      return node;\n    },\n    createEntityReference: function (name) {\n      var node = new EntityReference();\n      node.ownerDocument = this;\n      node.nodeName = name;\n      return node;\n    },\n    createElementNS: function (namespaceURI, qualifiedName) {\n      var node = new Element();\n      var pl = qualifiedName.split(':');\n      var attrs = node.attributes = new NamedNodeMap();\n      node.childNodes = new NodeList();\n      node.ownerDocument = this;\n      node.nodeName = qualifiedName;\n      node.tagName = qualifiedName;\n      node.namespaceURI = namespaceURI;\n      if (pl.length == 2) {\n        node.prefix = pl[0];\n        node.localName = pl[1];\n      } else {\n        node.localName = qualifiedName;\n      }\n      attrs._ownerElement = node;\n      return node;\n    },\n    createAttributeNS: function (namespaceURI, qualifiedName) {\n      var node = new Attr();\n      var pl = qualifiedName.split(':');\n      node.ownerDocument = this;\n      node.nodeName = qualifiedName;\n      node.name = qualifiedName;\n      node.namespaceURI = namespaceURI;\n      node.specified = true;\n      if (pl.length == 2) {\n        node.prefix = pl[0];\n        node.localName = pl[1];\n      } else {\n        node.localName = qualifiedName;\n      }\n      return node;\n    }\n  };\n  _extends(Document, Node);\n  function Element() {\n    this._nsMap = {};\n  }\n  ;\n  Element.prototype = {\n    nodeType: ELEMENT_NODE,\n    hasAttribute: function (name) {\n      return this.getAttributeNode(name) != null;\n    },\n    getAttribute: function (name) {\n      var attr = this.getAttributeNode(name);\n      return attr && attr.value || '';\n    },\n    getAttributeNode: function (name) {\n      return this.attributes.getNamedItem(name);\n    },\n    setAttribute: function (name, value) {\n      var attr = this.ownerDocument.createAttribute(name);\n      attr.value = attr.nodeValue = \"\" + value;\n      this.setAttributeNode(attr);\n    },\n    removeAttribute: function (name) {\n      var attr = this.getAttributeNode(name);\n      attr && this.removeAttributeNode(attr);\n    },\n    appendChild: function (newChild) {\n      if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n        return this.insertBefore(newChild, null);\n      } else {\n        return _appendSingleChild(this, newChild);\n      }\n    },\n    setAttributeNode: function (newAttr) {\n      return this.attributes.setNamedItem(newAttr);\n    },\n    setAttributeNodeNS: function (newAttr) {\n      return this.attributes.setNamedItemNS(newAttr);\n    },\n    removeAttributeNode: function (oldAttr) {\n      return this.attributes.removeNamedItem(oldAttr.nodeName);\n    },\n    removeAttributeNS: function (namespaceURI, localName) {\n      var old = this.getAttributeNodeNS(namespaceURI, localName);\n      old && this.removeAttributeNode(old);\n    },\n    hasAttributeNS: function (namespaceURI, localName) {\n      return this.getAttributeNodeNS(namespaceURI, localName) != null;\n    },\n    getAttributeNS: function (namespaceURI, localName) {\n      var attr = this.getAttributeNodeNS(namespaceURI, localName);\n      return attr && attr.value || '';\n    },\n    setAttributeNS: function (namespaceURI, qualifiedName, value) {\n      var attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n      attr.value = attr.nodeValue = \"\" + value;\n      this.setAttributeNode(attr);\n    },\n    getAttributeNodeNS: function (namespaceURI, localName) {\n      return this.attributes.getNamedItemNS(namespaceURI, localName);\n    },\n    getElementsByTagName: function (tagName) {\n      return new LiveNodeList(this, function (base) {\n        var ls = [];\n        _visitNode(base, function (node) {\n          if (node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)) {\n            ls.push(node);\n          }\n        });\n        return ls;\n      });\n    },\n    getElementsByTagNameNS: function (namespaceURI, localName) {\n      return new LiveNodeList(this, function (base) {\n        var ls = [];\n        _visitNode(base, function (node) {\n          if (node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)) {\n            ls.push(node);\n          }\n        });\n        return ls;\n      });\n    }\n  };\n  Document.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\n  Document.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n  _extends(Element, Node);\n  function Attr() {}\n  ;\n  Attr.prototype.nodeType = ATTRIBUTE_NODE;\n  _extends(Attr, Node);\n  function CharacterData() {}\n  ;\n  CharacterData.prototype = {\n    data: '',\n    substringData: function (offset, count) {\n      return this.data.substring(offset, offset + count);\n    },\n    appendData: function (text) {\n      text = this.data + text;\n      this.nodeValue = this.data = text;\n      this.length = text.length;\n    },\n    insertData: function (offset, text) {\n      this.replaceData(offset, 0, text);\n    },\n    appendChild: function (newChild) {\n      throw new Error(ExceptionMessage[3]);\n      return Node.prototype.appendChild.apply(this, arguments);\n    },\n    deleteData: function (offset, count) {\n      this.replaceData(offset, count, \"\");\n    },\n    replaceData: function (offset, count, text) {\n      var start = this.data.substring(0, offset);\n      var end = this.data.substring(offset + count);\n      text = start + text + end;\n      this.nodeValue = this.data = text;\n      this.length = text.length;\n    }\n  };\n  _extends(CharacterData, Node);\n  function Text() {}\n  ;\n  Text.prototype = {\n    nodeName: \"#text\",\n    nodeType: TEXT_NODE,\n    splitText: function (offset) {\n      var text = this.data;\n      var newText = text.substring(offset);\n      text = text.substring(0, offset);\n      this.data = this.nodeValue = text;\n      this.length = text.length;\n      var newNode = this.ownerDocument.createTextNode(newText);\n      if (this.parentNode) {\n        this.parentNode.insertBefore(newNode, this.nextSibling);\n      }\n      return newNode;\n    }\n  };\n  _extends(Text, CharacterData);\n  function Comment() {}\n  ;\n  Comment.prototype = {\n    nodeName: \"#comment\",\n    nodeType: COMMENT_NODE\n  };\n  _extends(Comment, CharacterData);\n  function CDATASection() {}\n  ;\n  CDATASection.prototype = {\n    nodeName: \"#cdata-section\",\n    nodeType: CDATA_SECTION_NODE\n  };\n  _extends(CDATASection, CharacterData);\n  function DocumentType() {}\n  DocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n  _extends(DocumentType, Node);\n  function Notation() {}\n  Notation.prototype.nodeType = NOTATION_NODE;\n  _extends(Notation, Node);\n  function Entity() {}\n  Entity.prototype.nodeType = ENTITY_NODE;\n  _extends(Entity, Node);\n  function EntityReference() {}\n  EntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n  _extends(EntityReference, Node);\n  function DocumentFragment() {}\n  DocumentFragment.prototype.nodeName = \"#document-fragment\";\n  DocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE;\n  _extends(DocumentFragment, Node);\n  function ProcessingInstruction() {}\n  ProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n  _extends(ProcessingInstruction, Node);\n  function XMLSerializer() {}\n  XMLSerializer.prototype.serializeToString = function (node) {\n    var buf = [];\n    serializeToString(node, buf);\n    return buf.join('');\n  };\n  Node.prototype.toString = function () {\n    return XMLSerializer.prototype.serializeToString(this);\n  };\n  function serializeToString(node, buf) {\n    switch (node.nodeType) {\n      case ELEMENT_NODE:\n        var attrs = node.attributes;\n        var len = attrs.length;\n        var child = node.firstChild;\n        var nodeName = node.tagName;\n        var isHTML = htmlns === node.namespaceURI;\n        buf.push('<', nodeName);\n        for (var i = 0; i < len; i++) {\n          serializeToString(attrs.item(i), buf);\n        }\n        if (child || isHTML && !/^(?:meta|link|img|br|hr|input|button)$/i.test(nodeName)) {\n          buf.push('>');\n          if (isHTML && /^script$/i.test(nodeName)) {\n            if (child) {\n              buf.push(child.data);\n            }\n          } else {\n            while (child) {\n              serializeToString(child, buf);\n              child = child.nextSibling;\n            }\n          }\n          buf.push('</', nodeName, '>');\n        } else {\n          buf.push('/>');\n        }\n        return;\n      case DOCUMENT_NODE:\n      case DOCUMENT_FRAGMENT_NODE:\n        var child = node.firstChild;\n        while (child) {\n          serializeToString(child, buf);\n          child = child.nextSibling;\n        }\n        return;\n      case ATTRIBUTE_NODE:\n        return buf.push(' ', node.name, '=\"', node.value.replace(/[<&\"]/g, _xmlEncoder), '\"');\n      case TEXT_NODE:\n        return buf.push(node.data.replace(/[<&]/g, _xmlEncoder));\n      case CDATA_SECTION_NODE:\n        return buf.push('<![CDATA[', node.data, ']]>');\n      case COMMENT_NODE:\n        return buf.push(\"<!--\", node.data, \"-->\");\n      case DOCUMENT_TYPE_NODE:\n        var pubid = node.publicId;\n        var sysid = node.systemId;\n        buf.push('<!DOCTYPE ', node.name);\n        if (pubid) {\n          buf.push(' PUBLIC \"', pubid);\n          if (sysid && sysid != '.') {\n            buf.push('\" \"', sysid);\n          }\n          buf.push('\">');\n        } else if (sysid && sysid != '.') {\n          buf.push(' SYSTEM \"', sysid, '\">');\n        } else {\n          var sub = node.internalSubset;\n          if (sub) {\n            buf.push(\" [\", sub, \"]\");\n          }\n          buf.push(\">\");\n        }\n        return;\n      case PROCESSING_INSTRUCTION_NODE:\n        return buf.push(\"<?\", node.target, \" \", node.data, \"?>\");\n      case ENTITY_REFERENCE_NODE:\n        return buf.push('&', node.nodeName, ';');\n      default:\n        buf.push('??', node.nodeName);\n    }\n  }\n  function importNode(doc, node, deep) {\n    var node2;\n    switch (node.nodeType) {\n      case ELEMENT_NODE:\n        node2 = node.cloneNode(false);\n        node2.ownerDocument = doc;\n      case DOCUMENT_FRAGMENT_NODE:\n        break;\n      case ATTRIBUTE_NODE:\n        deep = true;\n        break;\n    }\n    if (!node2) {\n      node2 = node.cloneNode(false); //false\n    }\n    node2.ownerDocument = doc;\n    node2.parentNode = null;\n    if (deep) {\n      var child = node.firstChild;\n      while (child) {\n        node2.appendChild(importNode(doc, child, deep));\n        child = child.nextSibling;\n      }\n    }\n    return node2;\n  }\n  function cloneNode(doc, node, deep) {\n    var node2 = new node.constructor();\n    for (var n in node) {\n      var v = node[n];\n      if (typeof v != 'object') {\n        if (v != node2[n]) {\n          node2[n] = v;\n        }\n      }\n    }\n    if (node.childNodes) {\n      node2.childNodes = new NodeList();\n    }\n    node2.ownerDocument = doc;\n    switch (node2.nodeType) {\n      case ELEMENT_NODE:\n        var attrs = node.attributes;\n        var attrs2 = node2.attributes = new NamedNodeMap();\n        var len = attrs.length;\n        attrs2._ownerElement = node2;\n        for (var i = 0; i < len; i++) {\n          node2.setAttributeNode(cloneNode(doc, attrs.item(i), true));\n        }\n        break;\n      case ATTRIBUTE_NODE:\n        deep = true;\n    }\n    if (deep) {\n      var child = node.firstChild;\n      while (child) {\n        node2.appendChild(cloneNode(doc, child, deep));\n        child = child.nextSibling;\n      }\n    }\n    return node2;\n  }\n  function __set__(object, key, value) {\n    object[key] = value;\n  }\n  function getTextContent(node) {\n    switch (node.nodeType) {\n      case 1:\n      case 11:\n        var buf = [];\n        node = node.firstChild;\n        while (node) {\n          if (node.nodeType !== 7 && node.nodeType !== 8) {\n            buf.push(getTextContent(node));\n          }\n          node = node.nextSibling;\n        }\n        return buf.join('');\n      default:\n        return node.nodeValue;\n    }\n  }\n  try {\n    if (Object.defineProperty) {\n      Object.defineProperty(LiveNodeList.prototype, 'length', {\n        get: function () {\n          _updateLiveList(this);\n          return this.$$length;\n        }\n      });\n      Object.defineProperty(Node.prototype, 'textContent', {\n        get: function () {\n          return getTextContent(this);\n        },\n        set: function (data) {\n          switch (this.nodeType) {\n            case 1:\n            case 11:\n              while (this.firstChild) {\n                this.removeChild(this.firstChild);\n              }\n              if (data || String(data)) {\n                this.appendChild(this.ownerDocument.createTextNode(data));\n              }\n              break;\n            default:\n              this.data = data;\n              this.value = value;\n              this.nodeValue = data;\n          }\n        }\n      });\n      __set__ = function (object, key, value) {\n        object['$$' + key] = value;\n      };\n    }\n  } catch (e) {//ie8\n  }\n  return DOMImplementation;\n});\nace.define(\"ace/mode/xml/dom-parser\", [], function (require, exports, module) {\n  'use strict';\n\n  var XMLReader = require('./sax'),\n    DOMImplementation = require('./dom');\n  function DOMParser(options) {\n    this.options = options || {\n      locator: {}\n    };\n  }\n  DOMParser.prototype.parseFromString = function (source, mimeType) {\n    var options = this.options;\n    var sax = new XMLReader();\n    var domBuilder = options.domBuilder || new DOMHandler(); //contentHandler and LexicalHandler\n    var errorHandler = options.errorHandler;\n    var locator = options.locator;\n    var defaultNSMap = options.xmlns || {};\n    var entityMap = {\n      'lt': '<',\n      'gt': '>',\n      'amp': '&',\n      'quot': '\"',\n      'apos': \"'\"\n    };\n    if (locator) {\n      domBuilder.setDocumentLocator(locator);\n    }\n    sax.errorHandler = buildErrorHandler(errorHandler, domBuilder, locator);\n    sax.domBuilder = options.domBuilder || domBuilder;\n    if (/\\/x?html?$/.test(mimeType)) {\n      entityMap.nbsp = '\\xa0';\n      entityMap.copy = '\\xa9';\n      defaultNSMap[''] = 'http://www.w3.org/1999/xhtml';\n    }\n    if (source) {\n      sax.parse(source, defaultNSMap, entityMap);\n    } else {\n      sax.errorHandler.error(\"invalid document source\");\n    }\n    return domBuilder.document;\n  };\n  function buildErrorHandler(errorImpl, domBuilder, locator) {\n    if (!errorImpl) {\n      if (domBuilder instanceof DOMHandler) {\n        return domBuilder;\n      }\n      errorImpl = domBuilder;\n    }\n    var errorHandler = {};\n    var isCallback = errorImpl instanceof Function;\n    locator = locator || {};\n    function build(key) {\n      var fn = errorImpl[key];\n      if (!fn) {\n        if (isCallback) {\n          fn = errorImpl.length == 2 ? function (msg) {\n            errorImpl(key, msg);\n          } : errorImpl;\n        } else {\n          var i = arguments.length;\n          while (--i) {\n            if (fn = errorImpl[arguments[i]]) {\n              break;\n            }\n          }\n        }\n      }\n      errorHandler[key] = fn && function (msg) {\n        fn(msg + _locator(locator), msg, locator);\n      } || function () {};\n    }\n    build('warning', 'warn');\n    build('error', 'warn', 'warning');\n    build('fatalError', 'warn', 'warning', 'error');\n    return errorHandler;\n  }\n  function DOMHandler() {\n    this.cdata = false;\n  }\n  function position(locator, node) {\n    node.lineNumber = locator.lineNumber;\n    node.columnNumber = locator.columnNumber;\n  }\n  DOMHandler.prototype = {\n    startDocument: function () {\n      this.document = new DOMImplementation().createDocument(null, null, null);\n      if (this.locator) {\n        this.document.documentURI = this.locator.systemId;\n      }\n    },\n    startElement: function (namespaceURI, localName, qName, attrs) {\n      var doc = this.document;\n      var el = doc.createElementNS(namespaceURI, qName || localName);\n      var len = attrs.length;\n      appendElement(this, el);\n      this.currentElement = el;\n      this.locator && position(this.locator, el);\n      for (var i = 0; i < len; i++) {\n        var namespaceURI = attrs.getURI(i);\n        var value = attrs.getValue(i);\n        var qName = attrs.getQName(i);\n        var attr = doc.createAttributeNS(namespaceURI, qName);\n        if (attr.getOffset) {\n          position(attr.getOffset(1), attr);\n        }\n        attr.value = attr.nodeValue = value;\n        el.setAttributeNode(attr);\n      }\n    },\n    endElement: function (namespaceURI, localName, qName) {\n      var current = this.currentElement;\n      var tagName = current.tagName;\n      this.currentElement = current.parentNode;\n    },\n    startPrefixMapping: function (prefix, uri) {},\n    endPrefixMapping: function (prefix) {},\n    processingInstruction: function (target, data) {\n      var ins = this.document.createProcessingInstruction(target, data);\n      this.locator && position(this.locator, ins);\n      appendElement(this, ins);\n    },\n    ignorableWhitespace: function (ch, start, length) {},\n    characters: function (chars, start, length) {\n      chars = _toString.apply(this, arguments);\n      if (this.currentElement && chars) {\n        if (this.cdata) {\n          var charNode = this.document.createCDATASection(chars);\n          this.currentElement.appendChild(charNode);\n        } else {\n          var charNode = this.document.createTextNode(chars);\n          this.currentElement.appendChild(charNode);\n        }\n        this.locator && position(this.locator, charNode);\n      }\n    },\n    skippedEntity: function (name) {},\n    endDocument: function () {\n      this.document.normalize();\n    },\n    setDocumentLocator: function (locator) {\n      if (this.locator = locator) {\n        // && !('lineNumber' in locator)){\n        locator.lineNumber = 0;\n      }\n    },\n    comment: function (chars, start, length) {\n      chars = _toString.apply(this, arguments);\n      var comm = this.document.createComment(chars);\n      this.locator && position(this.locator, comm);\n      appendElement(this, comm);\n    },\n    startCDATA: function () {\n      this.cdata = true;\n    },\n    endCDATA: function () {\n      this.cdata = false;\n    },\n    startDTD: function (name, publicId, systemId) {\n      var impl = this.document.implementation;\n      if (impl && impl.createDocumentType) {\n        var dt = impl.createDocumentType(name, publicId, systemId);\n        this.locator && position(this.locator, dt);\n        appendElement(this, dt);\n      }\n    },\n    warning: function (error) {\n      console.warn(error, _locator(this.locator));\n    },\n    error: function (error) {\n      console.error(error, _locator(this.locator));\n    },\n    fatalError: function (error) {\n      console.error(error, _locator(this.locator));\n      throw error;\n    }\n  };\n  function _locator(l) {\n    if (l) {\n      return '\\n@' + (l.systemId || '') + '#[line:' + l.lineNumber + ',col:' + l.columnNumber + ']';\n    }\n  }\n  function _toString(chars, start, length) {\n    if (typeof chars == 'string') {\n      return chars.substr(start, length);\n    } else {\n      //java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n      if (chars.length >= start + length || start) {\n        return new java.lang.String(chars, start, length) + '';\n      }\n      return chars;\n    }\n  }\n  \"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g, function (key) {\n    DOMHandler.prototype[key] = function () {\n      return null;\n    };\n  });\n  function appendElement(hander, node) {\n    if (!hander.currentElement) {\n      hander.document.appendChild(node);\n    } else {\n      hander.currentElement.appendChild(node);\n    }\n  } //appendChild and setAttributeNS are preformance key\n\n  return {\n    DOMParser: DOMParser\n  };\n});\nace.define(\"ace/mode/xml_worker\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n  var lang = require(\"../lib/lang\");\n  var Mirror = require(\"../worker/mirror\").Mirror;\n  var DOMParser = require(\"./xml/dom-parser\").DOMParser;\n  var Worker = exports.Worker = function (sender) {\n    Mirror.call(this, sender);\n    this.setTimeout(400);\n    this.context = null;\n  };\n  oop.inherits(Worker, Mirror);\n  (function () {\n    this.setOptions = function (options) {\n      this.context = options.context;\n    };\n    this.onUpdate = function () {\n      var value = this.doc.getValue();\n      if (!value) return;\n      var parser = new DOMParser();\n      var errors = [];\n      parser.options.errorHandler = {\n        fatalError: function (fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"error\"\n          });\n        },\n        error: function (fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"error\"\n          });\n        },\n        warning: function (fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"warning\"\n          });\n        }\n      };\n      parser.parseFromString(value);\n      this.sender.emit(\"error\", errors);\n    };\n  }).call(Worker.prototype);\n});","map":{"version":3,"names":["window","document","require","define","console","msgs","Array","prototype","slice","call","arguments","postMessage","type","data","error","warn","log","trace","ace","onerror","message","file","line","col","err","stack","normalizeModule","parentId","moduleName","indexOf","chunks","split","charAt","base","join","previous","replace","id","Error","module","modules","initialized","exports","factory","tlns","path","resolveModuleId","importScripts","paths","testPath","tail","alias","location","main","name","i","lastIndexOf","substr","deps","length","req","childId","returnExports","apply","map","dep","amd","initBaseUrls","topLevelNamespaces","initSender","EventEmitter","oop","Sender","implement","callback","callbackId","emit","sender","onmessage","e","msg","event","_signal","command","args","init","clazz","classname","inherits","ctor","superCtor","super_","Object","create","constructor","value","enumerable","writable","configurable","mixin","obj","key","proto","deepCopy","copy","isArray","toString","last","a","stringReverse","string","reverse","stringRepeat","count","result","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copyArray","array","l","arrayToMap","arr","createMap","props","arrayRemove","splice","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","push","offset","deferredCall","fcn","timer","deferred","timeout","cancel","setTimeout","schedule","clearTimeout","isPending","delayedCall","defaultTimeout","_self","delay","supportsLookbehind","RegExp","skipEmptyMatch","supportsUnicodeFlag","codePointAt","throwDeltaError","delta","errorText","positionInDocument","docLines","position","row","column","validateDelta","action","lines","start","end","numRangeRows","numRangeLastLineChars","applyDelta","doNotValidate","startColumn","substring","concat","endColumn","endRow","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_emit","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","on","newCallback","off","Promise","resolve","setDefaultHandler","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","addEventListener","capturing","removeListener","removeEventListener","index","removeAllListeners","undefined","Range","startRow","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","Math","max","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","Anchor","doc","$onChange","onChange","bind","attach","setPosition","getPosition","$clipPositionToDocument","getDocument","point","$getTransformedPoint","$insertRight","noClip","pos","detach","getLength","getLine","min","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","Document","textOrLines","$lines","insertMergedLines","insert","setValue","text","len","remove","getValue","getAllLines","getNewLineCharacter","createAnchor","$detectNewLine","match","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getTextRange","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","$split","insertInLine","clippedPos","clonePos","$clipPosition","removeInLine","deleteFirstNewLine","deleteLastNewLine","startCol","endCol","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","chunk","indexToPosition","newlineLength","positionToIndex","lang","Mirror","deferredUpdate","onUpdate","d","$path","linesLength","$timeout","nameStartChar","nameChar","source","tagNamePattern","S_TAG","S_ATTR","S_ATTR_S","S_EQ","S_V","S_E","S_S","S_C","XMLReader","parse","defaultNSMap","entityMap","domBuilder","startDocument","_copy","errorHandler","endDocument","defaultNSMapCopy","fixedFromCharCode","code","surrogate1","surrogate2","String","fromCharCode","entityReplacer","k","parseInt","appendText","xt","locator","characters","m","endPos","linePattern","exec","startPos","lineNumber","columnNumber","parseStack","currentNSMap","closeMap","createTextNode","appendChild","currentElement","tagName","config","fatalError","localNSMap","endElement","uri","localName","prefix","endPrefixMapping","parseInstruction","parseDCC","el","ElementAttributes","parseElementStartPart","backup","copyLocator","closed","fixSelfClosed","nbsp","warning","appendElement","parseHtmlSpecialContent","f","t","attrName","s","c","add","setTagName","qName","nsp","nsPrefix","startPrefixMapping","ns","startElement","elStartEnd","test","elEndStart","target","n","next","comment","startCDATA","endCDATA","matchs","pubid","sysid","lastMatch","startDTD","endDTD","processingInstruction","getLocalName","getOffset","getQName","getURI","_set_proto_","thiz","parent","__proto__","buf","reg","lastIndex","src","dest","_extends","Class","Super","pt","ppt","htmlns","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","captureStackTrace","NodeList","item","LiveNodeList","node","refresh","_node","_refresh","_updateLiveList","list","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","attr","getNamedItem","nodeName","setNamedItem","_ownerElement","setNamedItemNS","getNamedItemNS","namespaceURI","removeNamedItem","removeNamedItemNS","DOMImplementation","features","_features","feature","hasFeature","version","versions","toLowerCase","createDocument","qualifiedName","doctype","implementation","childNodes","root","createElementNS","createDocumentType","publicId","systemId","DocumentType","Node","firstChild","lastChild","previousSibling","nextSibling","attributes","parentNode","nodeValue","insertBefore","newChild","refChild","_insertBefore","replaceChild","oldChild","removeChild","_removeChild","hasChildNodes","cloneNode","deep","normalize","child","nodeType","appendData","isSupported","hasAttributes","lookupPrefix","_nsMap","lookupNamespaceURI","isDefaultNamespace","_xmlEncoder","charCodeAt","_visitNode","_onUpdateChild","cs","nextChild","cp","newFirst","newLast","pre","_appendSingleChild","documentElement","importNode","importedNode","getElementById","rtv","getAttribute","createElement","Element","attrs","createDocumentFragment","DocumentFragment","Text","createComment","Comment","createCDATASection","CDATASection","createProcessingInstruction","ProcessingInstruction","createAttribute","Attr","specified","createEntityReference","EntityReference","pl","createAttributeNS","hasAttribute","getAttributeNode","setAttribute","setAttributeNode","removeAttribute","removeAttributeNode","setAttributeNodeNS","removeAttributeNS","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","getElementsByTagNameNS","CharacterData","substringData","insertData","replaceData","deleteData","splitText","newText","newNode","Notation","Entity","XMLSerializer","serializeToString","isHTML","sub","internalSubset","node2","v","attrs2","object","getTextContent","defineProperty","get","$$length","set","DOMParser","options","parseFromString","mimeType","sax","DOMHandler","xmlns","setDocumentLocator","buildErrorHandler","errorImpl","isCallback","Function","build","fn","_locator","cdata","documentURI","current","ins","ignorableWhitespace","ch","chars","_toString","charNode","skippedEntity","comm","impl","dt","java","hander","Worker","context","setOptions","parser","errors","fullMsg","errorMsg"],"sources":["/home/anasb/code-projects/streamlit/streamlit-code-editor/code_editor/frontend/node_modules/ace-builds/src-noconflict/worker-xml.js"],"sourcesContent":["\"no use strict\";\n!(function(window) {\nif (typeof window.window != \"undefined\" && window.document)\n    return;\nif (window.require && window.define)\n    return;\n\nif (!window.console) {\n    window.console = function() {\n        var msgs = Array.prototype.slice.call(arguments, 0);\n        postMessage({type: \"log\", data: msgs});\n    };\n    window.console.error =\n    window.console.warn = \n    window.console.log =\n    window.console.trace = window.console;\n}\nwindow.window = window;\nwindow.ace = window;\n\nwindow.onerror = function(message, file, line, col, err) {\n    postMessage({type: \"error\", data: {\n        message: message,\n        data: err && err.data,\n        file: file,\n        line: line, \n        col: col,\n        stack: err && err.stack\n    }});\n};\n\nwindow.normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return window.normalizeModule(parentId, chunks[0]) + \"!\" + window.normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = (base ? base + \"/\" : \"\") + moduleName;\n        \n        while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/^\\.\\//, \"\").replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    \n    return moduleName;\n};\n\nwindow.require = function require(parentId, id) {\n    if (!id) {\n        id = parentId;\n        parentId = null;\n    }\n    if (!id.charAt)\n        throw new Error(\"worker.js require() accepts only (parentId, id) as arguments\");\n\n    id = window.normalizeModule(parentId, id);\n\n    var module = window.require.modules[id];\n    if (module) {\n        if (!module.initialized) {\n            module.initialized = true;\n            module.exports = module.factory().exports;\n        }\n        return module.exports;\n    }\n   \n    if (!window.require.tlns)\n        return console.log(\"unable to load \" + id);\n    \n    var path = resolveModuleId(id, window.require.tlns);\n    if (path.slice(-3) != \".js\") path += \".js\";\n    \n    window.require.id = id;\n    window.require.modules[id] = {}; // prevent infinite loop on broken modules\n    importScripts(path);\n    return window.require(parentId, id);\n};\nfunction resolveModuleId(id, paths) {\n    var testPath = id, tail = \"\";\n    while (testPath) {\n        var alias = paths[testPath];\n        if (typeof alias == \"string\") {\n            return alias + tail;\n        } else if (alias) {\n            return  alias.location.replace(/\\/*$/, \"/\") + (tail || alias.main || alias.name);\n        } else if (alias === false) {\n            return \"\";\n        }\n        var i = testPath.lastIndexOf(\"/\");\n        if (i === -1) break;\n        tail = testPath.substr(i) + tail;\n        testPath = testPath.slice(0, i);\n    }\n    return id;\n}\nwindow.require.modules = {};\nwindow.require.tlns = {};\n\nwindow.define = function(id, deps, factory) {\n    if (arguments.length == 2) {\n        factory = deps;\n        if (typeof id != \"string\") {\n            deps = id;\n            id = window.require.id;\n        }\n    } else if (arguments.length == 1) {\n        factory = id;\n        deps = [];\n        id = window.require.id;\n    }\n    \n    if (typeof factory != \"function\") {\n        window.require.modules[id] = {\n            exports: factory,\n            initialized: true\n        };\n        return;\n    }\n\n    if (!deps.length)\n        // If there is no dependencies, we inject \"require\", \"exports\" and\n        // \"module\" as dependencies, to provide CommonJS compatibility.\n        deps = [\"require\", \"exports\", \"module\"];\n\n    var req = function(childId) {\n        return window.require(id, childId);\n    };\n\n    window.require.modules[id] = {\n        exports: {},\n        factory: function() {\n            var module = this;\n            var returnExports = factory.apply(this, deps.slice(0, factory.length).map(function(dep) {\n                switch (dep) {\n                    // Because \"require\", \"exports\" and \"module\" aren't actual\n                    // dependencies, we must handle them seperately.\n                    case \"require\": return req;\n                    case \"exports\": return module.exports;\n                    case \"module\":  return module;\n                    // But for all other dependencies, we can just go ahead and\n                    // require them.\n                    default:        return req(dep);\n                }\n            }));\n            if (returnExports)\n                module.exports = returnExports;\n            return module;\n        }\n    };\n};\nwindow.define.amd = {};\nwindow.require.tlns = {};\nwindow.initBaseUrls  = function initBaseUrls(topLevelNamespaces) {\n    for (var i in topLevelNamespaces)\n        this.require.tlns[i] = topLevelNamespaces[i];\n};\n\nwindow.initSender = function initSender() {\n\n    var EventEmitter = window.require(\"ace/lib/event_emitter\").EventEmitter;\n    var oop = window.require(\"ace/lib/oop\");\n    \n    var Sender = function() {};\n    \n    (function() {\n        \n        oop.implement(this, EventEmitter);\n                \n        this.callback = function(data, callbackId) {\n            postMessage({\n                type: \"call\",\n                id: callbackId,\n                data: data\n            });\n        };\n    \n        this.emit = function(name, data) {\n            postMessage({\n                type: \"event\",\n                name: name,\n                data: data\n            });\n        };\n        \n    }).call(Sender.prototype);\n    \n    return new Sender();\n};\n\nvar main = window.main = null;\nvar sender = window.sender = null;\n\nwindow.onmessage = function(e) {\n    var msg = e.data;\n    if (msg.event && sender) {\n        sender._signal(msg.event, msg.data);\n    }\n    else if (msg.command) {\n        if (main[msg.command])\n            main[msg.command].apply(main, msg.args);\n        else if (window[msg.command])\n            window[msg.command].apply(window, msg.args);\n        else\n            throw new Error(\"Unknown command:\" + msg.command);\n    }\n    else if (msg.init) {\n        window.initBaseUrls(msg.tlns);\n        sender = window.sender = window.initSender();\n        var clazz = this.require(msg.module)[msg.classname];\n        main = window.main = new clazz(sender);\n    }\n};\n})(this);\n\nace.define(\"ace/lib/oop\",[], function(require, exports, module){\"use strict\";\nexports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\nexports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\nexports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/deep_copy\",[], function(require, exports, module){exports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\n});\n\nace.define(\"ace/lib/lang\",[], function(require, exports, module){\"use strict\";\nexports.last = function (a) {\n    return a[a.length - 1];\n};\nexports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n};\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\nexports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\nexports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else\n            copy[i] = array[i];\n    }\n    return copy;\n};\nexports.deepCopy = require(\"./deep_copy\").deepCopy;\nexports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n};\nexports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n        if (value === array[i]) {\n            array.splice(i, 1);\n        }\n    }\n};\nexports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\nexports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\nexports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n        matches.push({\n            offset: arguments[arguments.length - 2],\n            length: str.length\n        });\n    });\n    return matches;\n};\nexports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var deferred = function (timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n    deferred.cancel = function () {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    deferred.isPending = function () {\n        return timer;\n    };\n    return deferred;\n};\nexports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var _self = function (timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n        this.cancel();\n        fcn();\n    };\n    _self.cancel = function () {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n    _self.isPending = function () {\n        return timer;\n    };\n    return _self;\n};\nexports.supportsLookbehind = function () {\n    try {\n        new RegExp('(?<=.)');\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n};\nexports.skipEmptyMatch = function (line, last, supportsUnicodeFlag) {\n    return supportsUnicodeFlag && line.codePointAt(last) > 0xffff ? 2 : 1;\n};\n\n});\n\nace.define(\"ace/apply_delta\",[], function(require, exports, module){\"use strict\";\nfunction throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\nfunction positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length &&\n        position.column >= 0 && position.column <= docLines[position.row].length;\n}\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n        throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\nexports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            }\n            else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            }\n            else {\n                docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n            }\n            break;\n    }\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[], function(require, exports, module){\"use strict\";\nvar EventEmitter = {};\nvar stopPropagation = function () { this.propagationStopped = true; };\nvar preventDefault = function () { this.defaultPrevented = true; };\nEventEmitter._emit =\n    EventEmitter._dispatchEvent = function (eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler)\n            return;\n        if (typeof e != \"object\" || !e)\n            e = {};\n        if (!e.type)\n            e.type = eventName;\n        if (!e.stopPropagation)\n            e.stopPropagation = stopPropagation;\n        if (!e.preventDefault)\n            e.preventDefault = preventDefault;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped)\n                break;\n        }\n        if (defaultHandler && !e.defaultPrevented)\n            return defaultHandler(e, this);\n    };\nEventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++)\n        listeners[i](e, this);\n};\nEventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function (resolve) {\n            callback = resolve;\n        });\n    }\n};\nEventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = { _disabled_: {} };\n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    }\n    else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\nEventEmitter.on =\n    EventEmitter.addEventListener = function (eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            listeners = this._eventRegistry[eventName] = [];\n        if (listeners.indexOf(callback) == -1)\n            listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    };\nEventEmitter.off =\n    EventEmitter.removeListener =\n        EventEmitter.removeEventListener = function (eventName, callback) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners)\n                return;\n            var index = listeners.indexOf(callback);\n            if (index !== -1)\n                listeners.splice(index, 1);\n        };\nEventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName)\n        this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry)\n        this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers)\n        this._defaultHandlers[eventName] = undefined;\n};\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/range\",[], function(require, exports, module){\"use strict\";\nvar Range = /** @class */ (function () {\n    function Range(startRow, startColumn, endRow, endColumn) {\n        this.start = {\n            row: startRow,\n            column: startColumn\n        };\n        this.end = {\n            row: endRow,\n            column: endColumn\n        };\n    }\n    Range.prototype.isEqual = function (range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    Range.prototype.toString = function () {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n    Range.prototype.contains = function (row, column) {\n        return this.compare(row, column) == 0;\n    };\n    Range.prototype.compareRange = function (range) {\n        var cmp, end = range.end, start = range.start;\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            }\n            else if (cmp == 0) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        }\n        else if (cmp == -1) {\n            return -2;\n        }\n        else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            }\n            else if (cmp == 1) {\n                return 42;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    Range.prototype.comparePoint = function (p) {\n        return this.compare(p.row, p.column);\n    };\n    Range.prototype.containsRange = function (range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    Range.prototype.intersects = function (range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    Range.prototype.isEnd = function (row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    Range.prototype.isStart = function (row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    Range.prototype.setStart = function (row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        }\n        else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    Range.prototype.setEnd = function (row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        }\n        else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    Range.prototype.inside = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Range.prototype.insideStart = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Range.prototype.insideEnd = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Range.prototype.compare = function (row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n        if (row < this.start.row)\n            return -1;\n        if (row > this.end.row)\n            return 1;\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n        return 0;\n    };\n    Range.prototype.compareStart = function (row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    Range.prototype.compareEnd = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    Range.prototype.compareInside = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    Range.prototype.clipRows = function (firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = { row: lastRow + 1, column: 0 };\n        else if (this.end.row < firstRow)\n            var end = { row: firstRow, column: 0 };\n        if (this.start.row > lastRow)\n            var start = { row: lastRow + 1, column: 0 };\n        else if (this.start.row < firstRow)\n            var start = { row: firstRow, column: 0 };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    Range.prototype.extend = function (row, column) {\n        var cmp = this.compare(row, column);\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = { row: row, column: column };\n        else\n            var end = { row: row, column: column };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    Range.prototype.isEmpty = function () {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    Range.prototype.isMultiLine = function () {\n        return (this.start.row !== this.end.row);\n    };\n    Range.prototype.clone = function () {\n        return Range.fromPoints(this.start, this.end);\n    };\n    Range.prototype.collapseRows = function () {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    Range.prototype.toScreenRange = function (session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n        return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    Range.prototype.moveBy = function (row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n    return Range;\n}());\nRange.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nexports.Range = Range;\n\n});\n\nace.define(\"ace/anchor\",[], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Anchor = /** @class */ (function () {\n    function Anchor(doc, row, column) {\n        this.$onChange = this.onChange.bind(this);\n        this.attach(doc);\n        if (typeof row != \"number\")\n            this.setPosition(row.row, row.column);\n        else\n            this.setPosition(row, column);\n    }\n    Anchor.prototype.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    Anchor.prototype.getDocument = function () {\n        return this.document;\n    };\n    Anchor.prototype.onChange = function (delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n        if (delta.start.row > this.row)\n            return;\n        var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    Anchor.prototype.setPosition = function (row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        }\n        else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    Anchor.prototype.detach = function () {\n        this.document.off(\"change\", this.$onChange);\n    };\n    Anchor.prototype.attach = function (doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    Anchor.prototype.$clipPositionToDocument = function (row, column) {\n        var pos = {};\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n        if (column < 0)\n            pos.column = 0;\n        return pos;\n    };\n    return Anchor;\n}());\nAnchor.prototype.$insertRight = false;\noop.implement(Anchor.prototype, EventEmitter);\nfunction $pointsInOrder(point1, point2, equalPointsInOrder) {\n    var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n    return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n}\nfunction $getTransformedPoint(delta, point, moveIfEqual) {\n    var deltaIsInsert = delta.action == \"insert\";\n    var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n    var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n    var deltaStart = delta.start;\n    var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n    if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n        return {\n            row: point.row,\n            column: point.column\n        };\n    }\n    if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n        return {\n            row: point.row + deltaRowShift,\n            column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n        };\n    }\n    return {\n        row: deltaStart.row,\n        column: deltaStart.column\n    };\n}\nexports.Anchor = Anchor;\n\n});\n\nace.define(\"ace/document\",[], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\nvar Document = /** @class */ (function () {\n    function Document(textOrLines) {\n        this.$lines = [\"\"];\n        if (textOrLines.length === 0) {\n            this.$lines = [\"\"];\n        }\n        else if (Array.isArray(textOrLines)) {\n            this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n        }\n        else {\n            this.insert({ row: 0, column: 0 }, textOrLines);\n        }\n    }\n    Document.prototype.setValue = function (text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({ row: 0, column: 0 }, text || \"\");\n    };\n    Document.prototype.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    Document.prototype.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n    };\n    Document.prototype.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    Document.prototype.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n            case \"windows\":\n                return \"\\r\\n\";\n            case \"unix\":\n                return \"\\n\";\n            default:\n                return this.$autoNewLine || \"\\n\";\n        }\n    };\n    Document.prototype.setNewLineMode = function (newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    Document.prototype.getNewLineMode = function () {\n        return this.$newLineMode;\n    };\n    Document.prototype.isNewLine = function (text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    Document.prototype.getLine = function (row) {\n        return this.$lines[row] || \"\";\n    };\n    Document.prototype.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    Document.prototype.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n    };\n    Document.prototype.getLength = function () {\n        return this.$lines.length;\n    };\n    Document.prototype.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    Document.prototype.getLinesForRange = function (range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        }\n        else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    Document.prototype.insertLines = function (row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    Document.prototype.removeLines = function (firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    Document.prototype.insertNewLine = function (position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    Document.prototype.insert = function (position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        return this.insertMergedLines(position, this.$split(text));\n    };\n    Document.prototype.insertInLine = function (position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        return this.clonePos(end);\n    };\n    Document.prototype.clippedPos = function (row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        }\n        else if (row < 0) {\n            row = 0;\n        }\n        else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return { row: row, column: column };\n    };\n    Document.prototype.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n    };\n    Document.prototype.pos = function (row, column) {\n        return { row: row, column: column };\n    };\n    Document.prototype.$clipPosition = function (position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        }\n        else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    Document.prototype.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        }\n        else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({ row: row, column: column }, lines);\n    };\n    Document.prototype.insertMergedLines = function (position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        return this.clonePos(end);\n    };\n    Document.prototype.remove = function (range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        });\n        return this.clonePos(start);\n    };\n    Document.prototype.removeInLine = function (row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        }, true);\n        return this.clonePos(start);\n    };\n    Document.prototype.removeFullLines = function (firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine = lastRow < this.getLength() - 1;\n        var startRow = (deleteFirstNewLine ? firstRow - 1 : firstRow);\n        var startCol = (deleteFirstNewLine ? this.getLine(startRow).length : 0);\n        var endRow = (deleteLastNewLine ? lastRow + 1 : lastRow);\n        var endCol = (deleteLastNewLine ? 0 : this.getLine(endRow).length);\n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    Document.prototype.removeNewLine = function (row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    Document.prototype.replace = function (range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        return end;\n    };\n    Document.prototype.applyDeltas = function (deltas) {\n        for (var i = 0; i < deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    Document.prototype.revertDeltas = function (deltas) {\n        for (var i = deltas.length - 1; i >= 0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    Document.prototype.applyDelta = function (delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    Document.prototype.$safeApplyDelta = function (delta) {\n        var docLength = this.$lines.length;\n        if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength) {\n            this.applyDelta(delta);\n        }\n    };\n    Document.prototype.$splitAndapplyLargeDelta = function (delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    Document.prototype.revertDelta = function (delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    Document.prototype.indexToPosition = function (index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return { row: i, column: index + lines[i].length + newlineLength };\n        }\n        return { row: l - 1, column: index + lines[l - 1].length + newlineLength };\n    };\n    Document.prototype.positionToIndex = function (pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n        return index + pos.column;\n    };\n    Document.prototype.$split = function (text) {\n        return text.split(/\\r\\n|\\r|\\n/);\n    };\n    return Document;\n}());\nDocument.prototype.$autoNewLine = \"\";\nDocument.prototype.$newLineMode = \"auto\";\noop.implement(Document.prototype, EventEmitter);\nexports.Document = Document;\n\n});\n\nace.define(\"ace/worker/mirror\",[], function(require, exports, module) {\n\"use strict\";\n\nvar Document = require(\"../document\").Document;\nvar lang = require(\"../lib/lang\");\n    \nvar Mirror = exports.Mirror = function(sender) {\n    this.sender = sender;\n    var doc = this.doc = new Document(\"\");\n    \n    var deferredUpdate = this.deferredUpdate = lang.delayedCall(this.onUpdate.bind(this));\n    \n    var _self = this;\n    sender.on(\"change\", function(e) {\n        var data = e.data;\n        if (data[0].start) {\n            doc.applyDeltas(data);\n        } else {\n            for (var i = 0; i < data.length; i += 2) {\n                var d, err; \n                if (Array.isArray(data[i+1])) {\n                    d = {action: \"insert\", start: data[i], lines: data[i+1]};\n                } else {\n                    d = {action: \"remove\", start: data[i], end: data[i+1]};\n                }\n                \n                if ((d.action == \"insert\" ? d.start : d.end).row >= doc.$lines.length) {\n                    err = new Error(\"Invalid delta\");\n                    err.data = {\n                        path: _self.$path,\n                        linesLength: doc.$lines.length,\n                        start: d.start,\n                        end: d.end\n                    };\n                    throw err;\n                }\n\n                doc.applyDelta(d, true);\n            }\n        }\n        if (_self.$timeout)\n            return deferredUpdate.schedule(_self.$timeout);\n        _self.onUpdate();\n    });\n};\n\n(function() {\n    \n    this.$timeout = 500;\n    \n    this.setTimeout = function(timeout) {\n        this.$timeout = timeout;\n    };\n    \n    this.setValue = function(value) {\n        this.doc.setValue(value);\n        this.deferredUpdate.schedule(this.$timeout);\n    };\n    \n    this.getValue = function(callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n    };\n    \n    this.onUpdate = function() {\n    };\n    \n    this.isPending = function() {\n        return this.deferredUpdate.isPending();\n    };\n    \n}).call(Mirror.prototype);\n\n});\n\nace.define(\"ace/mode/xml/sax\",[], function(require, exports, module) {\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\u00B7\\u0300-\\u036F\\\\ux203F-\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring \nvar S_ATTR_S=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_V = 4;//attr value(no quot value only)\nvar S_E = 5;//attr value end and no space(quot end)\nvar S_S = 6;//(attr value end || tag end ) && (space offer)\nvar S_C = 7;//closed el<el />\n\nfunction XMLReader(){\n\t\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n  function fixedFromCharCode(code) {\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif(k in entityMap){\n\t\t\treturn entityMap[k]; \n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\tlocator&&position(start);\n\t\tdomBuilder.characters(xt,0,end-start);\n\t\tstart = end\n\t}\n\tfunction position(start,m){\n\t\twhile(start>=endPos && (m = linePattern.exec(source))){\n\t\t\tstartPos = m.index;\n\t\t\tendPos = startPos + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t}\n\t\tlocator.columnNumber = start-startPos+1;\n\t}\n\tvar startPos = 0;\n\tvar endPos = 0;\n\tvar linePattern = /.+(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\t\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\tvar i = source.indexOf('<',start);\n\t\tif(i<0){\n\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\tvar doc = domBuilder.document;\n    \t\t\tvar text = doc.createTextNode(source.substr(start));\n    \t\t\tdoc.appendChild(text);\n    \t\t\tdomBuilder.currentElement = text;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif(i>start){\n\t\t\tappendText(i);\n\t\t}\n\t\tswitch(source.charAt(i+1)){\n\t\tcase '/':\n\t\t\tvar end = source.indexOf('>',i+3);\n\t\t\tvar tagName = source.substring(i+2,end);\n\t\t\tvar config;\n\t\t\tif (parseStack.length > 1) {\n\t\t\t\tconfig = parseStack.pop();\n\t\t\t} else {\n\t\t\t\terrorHandler.fatalError(\"end tag name not found for: \"+tagName);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\n\t        if(config.tagName != tagName){\n\t            errorHandler.fatalError(\"end tag name: \" + tagName + \" does not match the current start tagName: \"+config.tagName );\n\t        }\n\t\t\tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\tif(localNSMap){\n\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t}\n\t\t\t}\n\t\t\tend++;\n\t\t\tbreak;\n\t\tcase '?':// <?...?>\n\t\t\tlocator&&position(i);\n\t\t\tend = parseInstruction(source,i,domBuilder);\n\t\t\tbreak;\n\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\tlocator&&position(i);\n\t\t\tend = parseDCC(source,i,domBuilder,errorHandler);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\ttry{\n\t\t\t\tlocator&&position(i);\n\t\t\t\t\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar end = parseElementStartPart(source,i,el,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\t\t\t\tif(len && locator){\n\t\t\t\t\tvar backup = copyLocator(locator,{});\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.offset = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tcopyLocator(backup,locator);\n\t\t\t\t}\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tappendElement(el,domBuilder,parseStack,errorHandler);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t}else{\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}catch(e){\n\t\t\t\terrorHandler.error('element parse error: '+e);\n\t\t\t\tend = -1;\n\t\t\t}\n\n\t\t}\n\t\tif(end<0){\n\t\t\tappendText(i+1);\n\t\t}else{\n\t\t\tstart = end;\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n\t\n}\nfunction parseElementStartPart(source,start,el,entityReplacer,errorHandler){\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_S){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\tthrow new Error('attribute equal must after attrName');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ){//equal\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\tel.add(attrName,value,start-1);\n\t\t\t\t\ts = S_E;\n\t\t\t\t}else{\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_V){\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tel.add(attrName,value,start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_E\n\t\t\t}else{\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_E:\n\t\t\tcase S_S:\n\t\t\tcase S_C:\n\t\t\t\ts = S_C;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_V:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_S:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_E:\n\t\t\tcase S_S:\n\t\t\tcase S_C:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_V://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_S:\n\t\t\t\tif(s === S_ATTR_S){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_V){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\n\t\t\t\t}else{\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\tel.add(value,value,start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_S;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_S;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_V:\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\tel.add(attrName,value,start)\n\t\t\t\tcase S_E:\n\t\t\t\t\ts = S_S;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{//not space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_ATTR_S:\n\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead!!')\n\t\t\t\t\tel.add(attrName,attrName,start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_E:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_S:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_V;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_C:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tp++;\n\t}\n}\nfunction appendElement(el,domBuilder,parseStack,errorHandler){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\ta.localName = localName ;\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix]\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tif (prefix && !ns) {\n\t\terrorHandler.error('unexpected namespace ' + prefix);\n\t}\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\tparseStack.push(el);\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\treturn elEndStart;\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\tpos = closeMap[tagName] = source.lastIndexOf('</'+tagName+'>')\n\t}\n\treturn pos<elStartEnd;\n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tif (end > start) {\n\t\t\t\tdomBuilder.startCDATA();\n\t\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\t\tdomBuilder.endCDATA() \n\t\t\t\treturn end+3;\n\t\t\t} else {\n\t\t\t\terrorHandler.error(\"Unclosed CDATA\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\n\t\t\tvar sysid = len>4 && matchs[4][0];\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\n\t\t\tdomBuilder.endDTD();\n\t\t\t\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\nfunction ElementAttributes(source){\n\t\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\tadd:function(qName,value,offset){\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetOffset:function(i){return this[i].offset},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n}\n\n\n\n\nfunction _set_proto_(thiz,parent){\n\tthiz.__proto__ = parent;\n\treturn thiz;\n}\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\n\t_set_proto_ = function(thiz,parent){\n\t\tfunction p(){};\n\t\tp.prototype = parent;\n\t\tp = new p();\n\t\tfor(parent in thiz){\n\t\t\tp[parent] = thiz[parent];\n\t\t}\n\t\treturn p;\n\t}\n}\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nreturn XMLReader;\n});\n\nace.define(\"ace/mode/xml/dom\",[], function(require, exports, module) {\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\nfunction _extends(Class,Super){\n\tvar t = function(){};\n\tvar pt = Class.prototype;\n\tif(Object.create){\n\t\tvar ppt = Object.create(Super.prototype);\n\t\tpt.__proto__ = ppt;\n\t}\n\tif(!(pt instanceof Super)){\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class);\n\t\t}\n\t\tpt.constructor = Class;\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\nvar NodeType = {};\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\nvar ExceptionCode = {};\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\nfunction NodeList() {\n};\nNodeList.prototype = {\n\tlength:0,\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh;\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1;\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i];\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error());\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\treturn node;\n\t}\n};\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == 2?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == 2?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';';\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:''];\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n}\nDocument.prototype = {\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == 1){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == 1){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn rtv;\n\t},\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr);\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr);\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t},\n\tappendChild:function(newChild){\n\t\t\tthrow new Error(ExceptionMessage[3]);\n\t\treturn Node.prototype.appendChild.apply(this,arguments);\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n}\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n}\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n}\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n}\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n}\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node){\n\tvar buf = [];\n\tserializeToString(node,buf);\n\treturn buf.join('');\n}\nNode.prototype.toString =function(){\n\treturn XMLSerializer.prototype.serializeToString(this);\n}\nfunction serializeToString(node,buf){\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\tvar isHTML = htmlns === node.namespaceURI;\n\t\tbuf.push('<',nodeName);\n\t\tfor(var i=0;i<len;i++){\n\t\t\tserializeToString(attrs.item(i),buf);\n\t\t}\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input|button)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\tif(child){\n\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\n\tcase TEXT_NODE:\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC \"',pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push( '\" \"',sysid);\n\t\t\t}\n\t\t\tbuf.push('\">');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length;\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value;\n}\nfunction getTextContent(node){\n\tswitch(node.nodeType){\n\tcase 1:\n\tcase 11:\n\t\tvar buf = [];\n\t\tnode = node.firstChild;\n\t\twhile(node){\n\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t\treturn buf.join('');\n\tdefault:\n\t\treturn node.nodeValue;\n\t}\n}\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase 1:\n\t\t\t\tcase 11:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = value;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t__set__ = function(object,key,value){\n\t\t\tobject['$$'+key] = value;\n\t\t};\n\t}\n}catch(e){//ie8\n}\n\nreturn DOMImplementation;\n});\n\nace.define(\"ace/mode/xml/dom-parser\",[], function(require, exports, module) {\n\t'use strict';\n\n\tvar XMLReader = require('./sax'),\n\t\tDOMImplementation = require('./dom');\n\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n\t\n}\nDOMParser.prototype.parseFromString = function(source,mimeType){\t\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\t\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(/\\/x?html?$/.test(mimeType)){\n\t\tentityMap.nbsp = '\\xa0';\n\t\tentityMap.copy = '\\xa9';\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\n\t}\n\tif(source){\n\t\tsax.parse(source,defaultNSMap,entityMap);\n\t}else{\n\t\tsax.errorHandler.error(\"invalid document source\");\n\t}\n\treturn domBuilder.document;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn){\n\t\t\tif(isCallback){\n\t\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t\t}else{\n\t\t\t\tvar i=arguments.length;\n\t\t\t\twhile(--i){\n\t\t\t\t\tif(fn = errorImpl[arguments[i]]){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn(msg+_locator(locator), msg, locator);\n\t\t}||function(){};\n\t}\n\tbuild('warning','warn');\n\tbuild('error','warn','warning');\n\tbuild('fatalError','warn','warning','error');\n\treturn errorHandler;\n}\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n} \nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.document = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.document.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.document;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\t    \n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tif( attr.getOffset){\n\t\t\t\tposition(attr.getOffset(1),attr)\n\t\t\t}\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t    var tagName = current.tagName;\n\t    this.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.document.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\tif(this.currentElement && chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.document.createCDATASection(chars);\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.document.createTextNode(chars);\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.document.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.document.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\t\n\tstartCDATA:function() {\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\t\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.document.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t    }\n\t},\n\twarning:function(error) {\n\t\tconsole.warn(error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error(error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tconsole.error(error,_locator(this.locator));\n\t    throw error;\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.document.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nreturn {\n\t\tDOMParser: DOMParser\n\t };\n});\n\nace.define(\"ace/mode/xml_worker\",[], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar Mirror = require(\"../worker/mirror\").Mirror;\nvar DOMParser = require(\"./xml/dom-parser\").DOMParser;\n\nvar Worker = exports.Worker = function(sender) {\n    Mirror.call(this, sender);\n    this.setTimeout(400);\n    this.context = null;\n};\n\noop.inherits(Worker, Mirror);\n\n(function() {\n\n    this.setOptions = function(options) {\n        this.context = options.context;\n    };\n\n    this.onUpdate = function() {\n        var value = this.doc.getValue();\n        if (!value)\n            return;\n        var parser = new DOMParser();\n        var errors = [];\n        parser.options.errorHandler = {\n            fatalError: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"error\"\n                });\n            },\n            error: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"error\"\n                });\n            },\n            warning: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"warning\"\n                });\n            }\n        };\n        \n        parser.parseFromString(value);\n        this.sender.emit(\"error\", errors);\n    };\n\n}).call(Worker.prototype);\n\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}