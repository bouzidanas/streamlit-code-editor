{"ast":null,"code":"// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Visitor } from '../visitor';\nimport { ArrowType, Precision, DateUnit, TimeUnit, IntervalUnit, UnionMode } from '../enum';\n/** @ignore */\nexport class JSONTypeAssembler extends Visitor {\n  visit(node) {\n    return node == null ? undefined : super.visit(node);\n  }\n  visitNull(_ref) {\n    let {\n      typeId\n    } = _ref;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n  visitInt(_ref2) {\n    let {\n      typeId,\n      bitWidth,\n      isSigned\n    } = _ref2;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'bitWidth': bitWidth,\n      'isSigned': isSigned\n    };\n  }\n  visitFloat(_ref3) {\n    let {\n      typeId,\n      precision\n    } = _ref3;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'precision': Precision[precision]\n    };\n  }\n  visitBinary(_ref4) {\n    let {\n      typeId\n    } = _ref4;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n  visitBool(_ref5) {\n    let {\n      typeId\n    } = _ref5;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n  visitUtf8(_ref6) {\n    let {\n      typeId\n    } = _ref6;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n  visitDecimal(_ref7) {\n    let {\n      typeId,\n      scale,\n      precision\n    } = _ref7;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'scale': scale,\n      'precision': precision\n    };\n  }\n  visitDate(_ref8) {\n    let {\n      typeId,\n      unit\n    } = _ref8;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'unit': DateUnit[unit]\n    };\n  }\n  visitTime(_ref9) {\n    let {\n      typeId,\n      unit,\n      bitWidth\n    } = _ref9;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'unit': TimeUnit[unit],\n      bitWidth\n    };\n  }\n  visitTimestamp(_ref10) {\n    let {\n      typeId,\n      timezone,\n      unit\n    } = _ref10;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'unit': TimeUnit[unit],\n      timezone\n    };\n  }\n  visitInterval(_ref11) {\n    let {\n      typeId,\n      unit\n    } = _ref11;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'unit': IntervalUnit[unit]\n    };\n  }\n  visitList(_ref12) {\n    let {\n      typeId\n    } = _ref12;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n  visitStruct(_ref13) {\n    let {\n      typeId\n    } = _ref13;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n  visitUnion(_ref14) {\n    let {\n      typeId,\n      mode,\n      typeIds\n    } = _ref14;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'mode': UnionMode[mode],\n      'typeIds': [...typeIds]\n    };\n  }\n  visitDictionary(node) {\n    return this.visit(node.dictionary);\n  }\n  visitFixedSizeBinary(_ref15) {\n    let {\n      typeId,\n      byteWidth\n    } = _ref15;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'byteWidth': byteWidth\n    };\n  }\n  visitFixedSizeList(_ref16) {\n    let {\n      typeId,\n      listSize\n    } = _ref16;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'listSize': listSize\n    };\n  }\n  visitMap(_ref17) {\n    let {\n      typeId,\n      keysSorted\n    } = _ref17;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'keysSorted': keysSorted\n    };\n  }\n}","map":{"version":3,"names":["Visitor","ArrowType","Precision","DateUnit","TimeUnit","IntervalUnit","UnionMode","JSONTypeAssembler","visit","node","undefined","visitNull","_ref","typeId","toLowerCase","visitInt","_ref2","bitWidth","isSigned","visitFloat","_ref3","precision","visitBinary","_ref4","visitBool","_ref5","visitUtf8","_ref6","visitDecimal","_ref7","scale","visitDate","_ref8","unit","visitTime","_ref9","visitTimestamp","_ref10","timezone","visitInterval","_ref11","visitList","_ref12","visitStruct","_ref13","visitUnion","_ref14","mode","typeIds","visitDictionary","dictionary","visitFixedSizeBinary","_ref15","byteWidth","visitFixedSizeList","_ref16","listSize","visitMap","_ref17","keysSorted"],"sources":["visitor/jsontypeassembler.ts"],"sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\nimport * as type from '../type';\nimport { Visitor } from '../visitor';\nimport { ArrowType, Precision, DateUnit, TimeUnit, IntervalUnit, UnionMode } from '../enum';\n\n/** @ignore */\nexport interface JSONTypeAssembler extends Visitor {\n    visit<T extends type.DataType>(node: T): object | undefined;\n}\n\n/** @ignore */\nexport class JSONTypeAssembler extends Visitor {\n    public visit<T extends type.DataType>(node: T): object | undefined {\n        return node == null ? undefined : super.visit(node);\n    }\n    public visitNull<T extends type.Null>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitInt<T extends type.Int>({ typeId, bitWidth, isSigned }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'bitWidth': bitWidth, 'isSigned': isSigned };\n    }\n    public visitFloat<T extends type.Float>({ typeId, precision }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'precision': Precision[precision] };\n    }\n    public visitBinary<T extends type.Binary>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitBool<T extends type.Bool>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitUtf8<T extends type.Utf8>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitDecimal<T extends type.Decimal>({ typeId, scale, precision }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'scale': scale, 'precision': precision };\n    }\n    public visitDate<T extends type.Date_>({ typeId, unit }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': DateUnit[unit] };\n    }\n    public visitTime<T extends type.Time>({ typeId, unit, bitWidth }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': TimeUnit[unit], bitWidth };\n    }\n    public visitTimestamp<T extends type.Timestamp>({ typeId, timezone, unit }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': TimeUnit[unit], timezone };\n    }\n    public visitInterval<T extends type.Interval>({ typeId, unit }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': IntervalUnit[unit] };\n    }\n    public visitList<T extends type.List>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitStruct<T extends type.Struct>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitUnion<T extends type.Union>({ typeId, mode, typeIds }: T) {\n        return {\n            'name': ArrowType[typeId].toLowerCase(),\n            'mode': UnionMode[mode],\n            'typeIds': [...typeIds]\n        };\n    }\n    public visitDictionary<T extends type.Dictionary>(node: T) {\n        return this.visit(node.dictionary);\n    }\n    public visitFixedSizeBinary<T extends type.FixedSizeBinary>({ typeId, byteWidth }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'byteWidth': byteWidth };\n    }\n    public visitFixedSizeList<T extends type.FixedSizeList>({ typeId, listSize }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'listSize': listSize };\n    }\n    public visitMap<T extends type.Map_>({ typeId, keysSorted }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'keysSorted': keysSorted };\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}